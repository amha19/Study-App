{"version":3,"sources":["themes/theme.js","websocket/socket-events.js","context/actions.js","websocket/ConversationManager.js","context/reducer.js","context/studyappContext.js","components/Profile/Sidebar.js","components/Profile/UserInfo.js","utils/handleAuthErrors.js","components/Profile/Settings.js","components/Profile/MyCourses.js","components/DragzonePicture.styles.js","components/DragzonePicture.js","pages/ProfileSidePanel.js","pages/Profile.js","images/logo.png","images/sign-up.png","pages/auth/Styles.js","pages/auth/CourseList.js","pages/auth/Sign-up.js","pages/auth/Login.js","pages/layout/NavbarStyles.js","pages/layout/Navbar.js","images/logo_study.png","pages/routing/ProtectedRoute.js","pages/NotFound.js","utils/convertTimeStamps.js","components/Chat/Message.js","components/Chat/Conversation.js","components/Chat/MessageCreator.js","images/study_group.png","pages/contentPages/ChatSidePanel.js","pages/contentPages/Chat.js","components/Forum/PostCard.js","images/upload_placeholder.png","components/Forum/AddPostDialog.js","components/Posts/Comments.js","components/Forum/ForumDialog.js","components/Forum/ForumContent.js","pages/contentPages/ForumSidePanel.js","pages/contentPages/Forum.js","components/Group/GroupPicture.styles.js","components/Group/GroupCard.js","pages/contentPages/Groups.js","pages/layout/Layout.js","App.js","index.js"],"names":["theme","createMuiTheme","typography","fontFamily","h1","fontSize","h2","fontWeight","letterSpacing","h3","h4","opacity","h5","h6","palette","primary","main","light","gradient","secondary","overrides","MuiButton","textPrimary","color","background","textTransform","padding","height","outlinedPrimary","borderColor","outlinedSecondary","socketEvents","socket","handleReceiveMessage","on","console","log","data","register","values","dispatch","a","axios","post","catch","err","response","res","status","type","logout","delete","fetchProfile","get","profile","user","courses","payload","school","university","name","userCourses","schoolCourses","groups","message","fetchUserGroups","userGroups","courseGroups","map","course","flat","updateProfile","userInfo","put","fetchConversations","updatePassword","password","ConversationManager","init","updateNotifications","_updateNotifications","startSocket","groupNames","_socket","connected","io","opts","query","connect","updateConversations","getConversations","_conversations","room","messages","push","_notifications","sendMessageToGroup","groupId","emit","updateRooms","group","_id","then","conversations","convos","notifications","forEach","c","clearNotifications","closeSocket","_updateConversations","disconnect","this","autoConnect","initialState","isLoading","isAuth","userCourse","reducer","state","action","isOpen","forumId","Error","AppContext","createContext","conversationManager","ConversationContext","AppProvider","children","useReducer","React","useState","setNotifications","useEffect","Provider","value","useGlobalContext","useContext","useConversationContext","useStyles","makeStyles","fab_icon","margin","backgroundColor","mobile_container","common","white","menu_icon","drawer","width","overflowY","boxShadow","borderRadius","icon_btn","spacing","Sidebar","classes","handleClose","Hidden","smDown","Grid","item","md","mdUp","container","className","Fab","aria-label","onClick","Drawer","anchor","open","onClose","justify","alignItems","style","position","IconButton","header","breakpoints","down","inputStyles","paddingRight","labelStyles","paddingBottom","profileGrid","button","marginLeft","marginTop","marginBottom","listsContainer","display","flexDirection","inputWrapper","UserInfo","enqueueSnackbar","useSnackbar","firstName","setFirstName","lastName","setLastName","email","setEmail","location","setLocation","phone","setPhone","handleSubmit","e","preventDefault","actions","variant","autoHideDuration","xs","direction","noValidate","autoComplete","Typography","InputLabel","TextField","defaultValue","onChange","target","placeholder","Button","handleAuthErrors","setErrors","errors","param","oldPassword","settings","form","maxWidth","helper_text","SignupSchema","Yup","shape","required","newPassword","min","confirmPassword","oneOf","ProfileSettings","initialValues","validationSchema","onSubmit","setSubmitting","resetForm","setTimeout","submitForm","isSubmitting","FormHelperText","component","MikTextField","disabled","title","list_item","justifyContent","btn_group","add_btn","MyCourses","selectId","setSelectId","setCourse","myCourses","setMyCourses","hasChanges","setHasChanges","JSON","stringify","handleAddCourses","handleRemove","id","some","filter","groupIds","length","reduce","arr","g","groupsRemoved","LinearProgress","ListItem","edge","Select","MenuItem","startIcon","find","flex","large","uploading","baseStyle","borderWidth","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","ProfilePic","setUploading","onDrop","useCallback","droppedFiles","updateProfilePicture","useDropzone","maxFiles","accept","getRootProps","isDragActive","isDragAccept","isDragReject","useMemo","file","FormData","append","Box","htmlFor","Tooltip","arrow","placement","imageUrl","Avatar","alt","src","hidden","multiple","event","stopPropagation","files","linkStyles","textDecoration","profilePic","paddingTop","linkContainer","profileName","ProfileSidePanel","props","handleDrawerClose","DragzonePicture","align","to","exact","contentContainer","minHeight","Profile","sm","path","Settings","root","logoContainer","logo","paper","textAlign","backgroundImage","Background","backgroundPosition","backgroundSize","float","dark_overlay","formContainer","add_course","CourseList","memo","removeCourse","endIcon","Signup","isProfLoading","setIsProfLoading","schools","setSchools","courseId","setCourseId","setCourses","setId","addedCourses","setAddedCourses","fetchData","s","addCourse","ac","handleRemoveCourse","Link","underline","RouterLink","select","Paper","LoginSchema","Login","locState","redirectPath","from","pathname","flexGrow","toolbar","logo_study","marginRight","cursor","listContainer","menuButton","up","avatar","badge","paddingLeft","profile_button","icons","dropdown_list","mobile_logout","Navbar","history","useHistory","anchorEl","setAnchorEl","Boolean","handleProfile","handleLogout","AppBar","elevation","Toolbar","List","Badge","badgeContent","Object","b","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Divider","PrivateRoute","Component","rest","render","icon","text","NotFound","msToTimeAgo","ms","isNaN","d","Date","seconds","Math","floor","getTime","y","m","w","h","received_container","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","sent_container","borderBottomLeftRadius","justifySelf","contentText","left_timestamp","alignSelf","right_timestamp","Message","msg","isReceived","Container","timeStamp","list_container","left_msg","right_msg","Conversation","lastRef","useRef","current","scrollIntoView","index","ref","textContainer","maxHeight","buttonContainer","iconAdornments","sendButton","MessageCreator","workingText","setWorkingText","sendMessage","image","fullWidth","multiline","ev","InputProps","input","disableUnderline","onKeyUp","key","chat_head","small_badge","chat_list","flexWrap","chat_list_active","borderLeft","group_member","avatar_container","group_name","divider","ChatSidePanel","selectedGroupChat","updateSelectedChat","Fragment","groupPicture","members","chat_pic","dot_icon","Chat","chatGroups","setChatGroups","setSelectedGroupChat","keys","sorted","sort","aGroup","bGroup","aMessages","bMessages","aMostRecent","selectedGroup","shadows","actionArea","gridTemplateColumns","cardInfo","gridTemplateRows","cardImage","cardTitle","cardDesc","postedBy","postDateInfo","PostCard","updateActivePost","setIsLoading","CircularProgress","size","Card","CardActionArea","CardMedia","postAvatar","defaultPostPicture","CardContent","postDate","label","close","AddPostDialog","handleCloseNewPost","setTitle","description","setDescription","setImageUrl","createNewPost","rows","imageContainer","commentText","Comments","comment","upvote","transform","border","circular","postText","PostDialog","handleClosePost","activePostId","comments","setComments","newComment","setNewComment","avatarUrl","setAvatarUrl","userAvatar","setUserAvatar","setPostText","upvoted","setUpvoted","getPostData","addComment","updatedComments","autoFocus","rowsMax","headerContainer","headerText","cardContainer","postCard","emptyMessage","ForumContent","openPost","setOpenPost","openNewPost","setOpenNewPost","setActivePostId","newPost","setForumPosts","forumPosts","postId","getGroupForum","posts","alignContent","Dialog","aria-labelledby","dialog","DialogContent","ForumDialog","accordion","accordion_container","course_name","group_list","ForumSidePanel","onGroupUpdate","courseList","setCourseList","firstUpdate","getGroups","newCourseList","cgl","expand","forum","groupList","isIdThere","includes","editedCourseList","cl","showGroup","Forum","setSelectedGroup","selectedGroupId","setSelectedGroupId","card","cardMedia","cardContent","GroupCard","num","isUpdating","setIsUpdating","gutterBottom","toFixed","replace","CardActions","handleCardPress","actionText","cardGrid","top","left","groupImageContainer","Groups","suggestedGroups","setSuggestedGroups","openModal","setOpen","groupError","setGroupErrors","setGroupPicture","groupName","setGroupName","groupNameValid","setGroupNameValid","isFormValid","checkGroupExists","allGroupNames","toLowerCase","body","defaultImage","suggested","joinedGroup","handleJoinGroup","currGroups","newUserGroups","handleLeaveGroup","currentGroups","updatedCourseGroups","myGroups","findIndex","Modal","Layout","App","CssBaseline","ProtectedRoute","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8d4c6150.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core';\r\n\r\nexport const theme = createMuiTheme({\r\n    typography: {\r\n        fontFamily: 'Poppins',\r\n        h1: {\r\n            fontSize: '2.25rem',\r\n        },\r\n        h2: {\r\n            fontSize: '1.375rem',\r\n            fontWeight: 'bold',\r\n            letterSpacing: 0.5,\r\n        },\r\n        h3: {\r\n            fontFamily: 'Montserrat',\r\n            fontSize: '1.625rem',\r\n            fontWeight: 500,\r\n            letterSpacing: -1,\r\n        },\r\n        h4: {\r\n            fontSize: '1rem',\r\n            opacity: '50%',\r\n        },\r\n        h5: {\r\n            fontSize: '1.25rem',\r\n            fontWeight: 500,\r\n            letterSpacing: -0.5,\r\n        },\r\n        h6: {\r\n            fontSize: '1rem',\r\n            fontWeight: 500,\r\n        },\r\n    },\r\n    palette: {\r\n        primary: {\r\n            main: '#4B00FF',\r\n            light: '#2574FF',\r\n            gradient: 'linear-gradient(45deg, #2574FF, #4B00FF)',\r\n        },\r\n        secondary: {\r\n            main: '#2968FF',\r\n        },\r\n    },\r\n    overrides: {\r\n        MuiButton: {\r\n            textPrimary: {\r\n                color: '#FFF',\r\n                background: 'linear-gradient(45deg, #2574FF, #4B00FF)',\r\n                textTransform: 'none',\r\n                fontSize: '0.875rem',\r\n                padding: 20,\r\n                height: '3rem',\r\n            },\r\n            outlinedPrimary: {\r\n                color: '#FFF',\r\n                textTransform: 'none',\r\n                fontSize: '0.875rem',\r\n                padding: 20,\r\n                height: '3rem',\r\n                '&:hover': {\r\n                    borderColor: '#FFF',\r\n                },\r\n            },\r\n            outlinedSecondary: {\r\n                color: '#2968FF',\r\n                textTransform: 'none',\r\n                fontSize: '0.875rem',\r\n                padding: 20,\r\n                height: '3rem',\r\n            },\r\n        },\r\n    },\r\n});\r\n","const socketEvents = (socket, handleReceiveMessage) => {\r\n    socket.on('connect', () => {\r\n        console.log('connected to socket server');\r\n    });\r\n\r\n    socket.on('rooms updated', (data) => {\r\n        console.log('connected to rooms: ', data);\r\n    });\r\n\r\n    socket.on('group message', (data) => {\r\n        handleReceiveMessage(data);\r\n    })\r\n    \r\n    socket.on('disconnect', () => {\r\n        console.log('disconnected from socket server');\r\n    })\r\n    socket.on('connect_error', () => {\r\n        console.log('Error connecting to socket');\r\n    })\r\n};\r\n\r\nexport default socketEvents;\r\n","import axios from 'axios';\r\n\r\nexport const register = values => async dispatch => {\r\n    try {\r\n        const res = await axios.post('auth/register', values).catch(err => {\r\n            throw err.response;\r\n        });\r\n        if (res.status === 201) {\r\n            dispatch({ type: 'REGISTER_SUCCESS' });\r\n            return res;\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        dispatch({ type: 'REGISTER_FAIL' });\r\n        return err;\r\n    }\r\n};\r\n\r\nexport const login = values => async dispatch => {\r\n    try {\r\n        const res = await axios.post('auth/login', values).catch(err => {\r\n            throw err.response;\r\n        });\r\n\r\n        if (res.status === 200) {\r\n            dispatch({ type: 'LOGIN_SUCCESS' });\r\n            return res;\r\n        }\r\n    } catch (err) {\r\n        console.log(err.response);\r\n        dispatch({ type: 'LOGIN_FAIL' });\r\n        return err;\r\n    }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n    try {\r\n        const res = await axios.delete('/auth/logout');\r\n\r\n        if (res.status === 204) {\r\n            dispatch({ type: 'LOGOUT' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const fetchProfile = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get('/profile');\r\n\r\n        const { profile, user } = res.data;\r\n        const { courses } = user;\r\n\r\n        dispatch({\r\n            type: 'FETCH_USER_INFO',\r\n            payload: [\r\n                {\r\n                    ...profile,\r\n                },\r\n                {\r\n                    school: user.university ? user.university.name : '',\r\n                    userCourses: courses,\r\n                    schoolCourses: user.university ? user.university.courses : [],\r\n                },\r\n            ],\r\n        });\r\n        return user.groups;\r\n    } catch (err) {\r\n        if (err.response && err.response.status === 401) {\r\n            dispatch({ type: 'LOGIN_FAIL' });\r\n        }\r\n        console.log(err.message);\r\n    }\r\n};\r\n\r\nexport const fetchUserGroups = userGroups => async dispatch => {\r\n    try {\r\n        const res = await axios.get('/user/groups');\r\n        const courseGroups = res.data.map(course => course.groups).flat();\r\n        dispatch({\r\n            type: 'updateUserGroups',\r\n            payload: {\r\n                groups: [...userGroups],\r\n                courseGroups,\r\n            },\r\n        });\r\n    } catch (err) {\r\n        console.log(err.message);\r\n    }\r\n};\r\n\r\nexport const updateProfile = userInfo => async dispatch => {\r\n    try {\r\n        const res = await axios.put('/profile', userInfo);\r\n\r\n        fetchProfile()(dispatch);\r\n        return res;\r\n    } catch (err) {\r\n        console.log(err.message);\r\n        return err;\r\n    }\r\n};\r\n\r\nexport const fetchConversations = async () => {\r\n    try {\r\n        const res = await axios.get('/user/conversations');\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport const updatePassword = password => async dispatch => {\r\n    try {\r\n        const res = await axios.put('/auth/changepassword', password);\r\n        return res;\r\n    } catch (err) {\r\n        console.log(err.message);\r\n        return err.response;\r\n    }\r\n};\r\n","import * as io from 'socket.io-client'\r\nimport socketEvents from './socket-events';\r\nimport { fetchConversations } from '../context/actions';\r\n\r\nclass ConversationManager {\r\n\r\n    constructor() {\r\n        this._socket = io({ autoConnect: false });\r\n        socketEvents(this._socket, this.handleReceiveMessage);\r\n        this._updateNotifications = () => {};\r\n        this._conversations = {};\r\n        this._notifications = {};\r\n    }\r\n\r\n    //Initialize ConversationManager with update functions\r\n    init = (updateNotifications) => {\r\n        this._updateNotifications = updateNotifications;\r\n    };\r\n\r\n    // Connect to socket server and joins rooms\r\n    startSocket = (groupNames) => {\r\n        if (!this._socket.connected) {\r\n            this._socket.io.opts.query = 'rooms=' + groupNames;\r\n            this._socket.connect();\r\n            this.updateConversations();\r\n        }\r\n    }\r\n\r\n    //Get list of conversations of the form {groupId: Conversation}\r\n    getConversations = () => {\r\n        return this._conversations;\r\n    };\r\n\r\n    //Adds data.messages to conversation.messages and increases notification\r\n    // counter by 1\r\n    handleReceiveMessage = (data) => {\r\n        this._conversations[data.room].messages.push(data.message);\r\n        this._notifications[data.room] += 1;\r\n        this._updateNotifications({...this._notifications});  \r\n    };\r\n\r\n    sendMessageToGroup = (groupId, message) => {\r\n        this._socket.emit('messageGroup', {room: groupId, message})\r\n    }\r\n\r\n    //Updates socket rooms on changes to user groups\r\n    updateRooms = (groups) => {\r\n        const groupNames = groups.map(group => group._id);\r\n        this._socket.emit('updateRooms', groupNames);\r\n        this.updateConversations();\r\n    }\r\n\r\n    //fetches new list of conversations and initializes\r\n    // conversations and notifications\r\n    updateConversations = () => {\r\n        fetchConversations().then((conversations) => {\r\n            const convos = {};\r\n            const notifications = {};\r\n            conversations.forEach(c => {\r\n                convos[c.group] = c;\r\n                notifications[c.group] = 0;\r\n            });\r\n            this._conversations = convos;\r\n            this._notifications = notifications;\r\n            this._updateNotifications(notifications);\r\n        })\r\n    }\r\n\r\n    //Clears the notifications for a specific conversation by groupId\r\n    clearNotifications = (groupId) => {\r\n        if (this._notifications[groupId] > 0) {\r\n            this._notifications[groupId] = 0\r\n            this._updateNotifications({...this._notifications});\r\n        }\r\n    }\r\n\r\n    //Disconnect from socket server\r\n    closeSocket = () => {\r\n        if (this._socket.connected) {\r\n            this._updateConversations = () => {};\r\n            this._socket.disconnect();\r\n        }\r\n    }\r\n}\r\n\r\nexport default ConversationManager;\r\n","export const initialState = {\r\n    isLoading: true,\r\n    isAuth: false,\r\n    userCourse: {},\r\n    userGroups: {\r\n        courseGroups: [],\r\n        groups: [],\r\n    },\r\n    profile: {},\r\n    userGroups: {groups: [], courseGroups: []},\r\n    isOpen: false,\r\n    forumId: null\r\n};\r\n\r\nexport const reducer = (state, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n        case 'LOGIN_SUCCESS':\r\n        case 'REGISTER_SUCCESS':\r\n            return {\r\n                ...state,\r\n                isAuth: true,\r\n                isLoading: true,\r\n            };\r\n        case 'FETCH_USER_INFO':\r\n            return {\r\n                ...state,\r\n                userCourse: payload[1],\r\n                profile: payload[0],\r\n                isLoading: false,\r\n                isAuth: true,\r\n            };\r\n        case 'LOGIN_FAIL':\r\n        case 'REGISTER_FAIL':\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n            };\r\n        case 'LOGOUT':\r\n            return {\r\n                ...state,\r\n                isAuth: false,\r\n                isLoading: false,\r\n            };\r\n        case 'updateProfile':\r\n            return {\r\n                ...state,\r\n                profile: payload,\r\n            };\r\n        case 'updateUserGroups':\r\n            return {\r\n                ...state,\r\n                userGroups: payload,\r\n            };\r\n        case 'updateUserCourses':\r\n            return {\r\n                ...state,\r\n                userCourse: {\r\n                    ...state.userCourse,\r\n                    userCourses: [...payload],\r\n                },\r\n            };\r\n        case 'CLOSE_DRAWER':\r\n            return {\r\n                ...state,\r\n                isOpen: false,\r\n            };\r\n        case 'OPEN_DRAWER':\r\n            return {\r\n                ...state,\r\n                isOpen: true,\r\n            };\r\n        case 'FORUM_ID':\r\n            return {\r\n                ...state,\r\n                forumId: payload,\r\n            };\r\n\r\n        default:\r\n            throw new Error('No action type found!');\r\n    }\r\n};\r\n","import React, { createContext, useContext, useReducer } from 'react';\r\nimport ConversationManager from '../websocket/ConversationManager';\r\n\r\nimport { initialState, reducer } from './reducer';\r\n\r\nconst AppContext = createContext({\r\n    isLoading: true,\r\n    isAuth: false,\r\n    dispatch: () => {},\r\n    profile: {},\r\n});\r\n\r\nconst conversationManager = new ConversationManager();\r\n\r\nconst ConversationContext = createContext({\r\n    conversationManager,\r\n    notifications: {},\r\n});\r\n\r\nconst AppProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n    const [notifications, setNotifications] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        conversationManager.init(setNotifications);\r\n    }, []);\r\n    \r\n    return (\r\n        <ConversationContext.Provider value={{conversationManager, notifications}}>\r\n            <AppContext.Provider value={{ ...state, dispatch }}>\r\n                {children}\r\n            </AppContext.Provider>\r\n        </ConversationContext.Provider>\r\n        \r\n    );\r\n};\r\n\r\nconst useGlobalContext = () => {\r\n    return useContext(AppContext);\r\n};\r\n\r\nconst useConversationContext = () => {\r\n    return useContext(ConversationContext);\r\n}\r\n\r\nexport { AppProvider, useGlobalContext, useConversationContext };\r\n","import React from 'react';\r\nimport { Grid, Hidden, Fab, Drawer, IconButton } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport MenuOutlinedIcon from '@material-ui/icons/MenuOutlined';\r\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\r\n\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    fab_icon: {\r\n        margin: 16,\r\n        backgroundColor: '#FFF',\r\n        color: '#737373',\r\n        '&:hover': {\r\n            color: '#FFF',\r\n            backgroundColor: theme.palette.secondary.main,\r\n        },\r\n    },\r\n    mobile_container: {\r\n        backgroundColor: theme.palette.common.white,\r\n    },\r\n    menu_icon: {\r\n        fontSize: '1.5rem',\r\n    },\r\n    drawer: {\r\n        width: 350,\r\n        backgroundColor: '#F9F9FC',\r\n        overflowY: 'auto',\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.6rem',\r\n            height: '12rem',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            boxShadow: 'inset 0 0 5px grey',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#ccc',\r\n        },\r\n    },\r\n    icon_btn: {\r\n        fontSize: '1.75rem',\r\n        margin: theme.spacing(2),\r\n        color: theme.palette.secondary.main,\r\n    },\r\n}));\r\n\r\nconst Sidebar = ({ children }) => {\r\n    const { dispatch, isOpen } = useGlobalContext();\r\n\r\n    const classes = useStyles();\r\n\r\n    const handleOpen = () => {\r\n        dispatch({ type: 'OPEN_DRAWER' });\r\n    };\r\n\r\n    const handleClose = () => {\r\n        dispatch({ type: 'CLOSE_DRAWER' });\r\n    };\r\n\r\n    const drawerContent = () => (\r\n        <div className={classes.drawer}>\r\n            <Grid\r\n                container\r\n                justify=\"flex-end\"\r\n                alignItems=\"center\"\r\n                style={{ position: 'absolute' }}\r\n            >\r\n                <IconButton className={classes.icon_btn} onClick={handleClose}>\r\n                    <CloseOutlinedIcon />\r\n                </IconButton>\r\n            </Grid>\r\n            {children}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Hidden smDown>\r\n                <Grid item md={3}>\r\n                    {children}\r\n                </Grid>\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n                <Grid container className={classes.mobile_container}>\r\n                    <Fab\r\n                        color=\"primary\"\r\n                        aria-label=\"add\"\r\n                        className={classes.fab_icon}\r\n                        onClick={handleOpen}\r\n                    >\r\n                        <MenuOutlinedIcon className={classes.menu_icon} />\r\n                    </Fab>\r\n                </Grid>\r\n                <Drawer anchor=\"left\" open={isOpen} onClose={handleClose}>\r\n                    {drawerContent()}\r\n                </Drawer>\r\n            </Hidden>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useState } from 'react';\r\nimport { Grid, InputLabel, Button, Typography, TextField } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n        margin: theme.spacing(8, 0, 8, 0),\r\n        [theme.breakpoints.down('sm')]: {\r\n            margin: theme.spacing(0, 0, 8, 0),\r\n        },\r\n    },\r\n    inputStyles: {\r\n        fontWeight: '600',\r\n        width: 300,\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '100%',\r\n            paddingRight: 24,\r\n        },\r\n    },\r\n    labelStyles: {\r\n        paddingBottom: '.5em',\r\n    },\r\n    profileGrid: {\r\n        padding: '2em 0 0 2em',\r\n    },\r\n    button: {\r\n        marginLeft: '1.2em',\r\n        marginTop: '1em',\r\n        width: 300,\r\n    },\r\n    container: {\r\n        padding: theme.spacing(0, 0, 0, 11),\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(0, 0, 0, 6),\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(0, 0, 0, 4),\r\n            marginBottom: 16,\r\n        },\r\n    },\r\n    listsContainer: {\r\n        [theme.breakpoints.down('xs')]: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n        },\r\n    },\r\n    inputWrapper: {\r\n        margin: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nconst UserInfo = () => {\r\n    const { profile, dispatch } = useGlobalContext();\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [firstName, setFirstName] = useState(profile.firstName);\r\n    const [lastName, setLastName] = useState(profile.lastName);\r\n    const [email, setEmail] = useState(profile.user.email);\r\n    const [location, setLocation] = useState(profile.location);\r\n    const [phone, setPhone] = useState(profile.phone);\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        const userInfo = {\r\n            firstName,\r\n            lastName,\r\n            location,\r\n            phone,\r\n        };\r\n\r\n        const res = await actions.updateProfile(userInfo)(dispatch);\r\n        if (res.status === 200) {\r\n            enqueueSnackbar('Updated successfully', {\r\n                variant: 'success',\r\n                autoHideDuration: '5000',\r\n            });\r\n        } else {\r\n            enqueueSnackbar(res.messages, {\r\n                variant: 'Error',\r\n                autoHideDuration: '5000',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Grid item container xs={9} direction=\"column\" className={classes.container}>\r\n            <form noValidate autoComplete=\"off\">\r\n                <Typography variant=\"h1\" className={classes.header}>\r\n                    Profile\r\n                </Typography>\r\n                <Grid item container spacing={4} className={classes.listsContainer}>\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>\r\n                                First Name\r\n                            </InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                defaultValue={firstName}\r\n                                onChange={e => setFirstName(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                                placeholder=\"Add a first name..\"\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    {/* Last Name */}\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>\r\n                                Last Name\r\n                            </InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={lastName}\r\n                                onChange={e => setLastName(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                                placeholder=\"Add a last name..\"\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    {/* Email */}\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>Email</InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={email}\r\n                                onChange={e => setEmail(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    {/* Phone */}\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>Phone</InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={phone}\r\n                                onChange={e => setPhone(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                                placeholder=\"Add phone number..\"\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    {/* Location */}\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>\r\n                                Location\r\n                            </InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={location}\r\n                                onChange={e => setLocation(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                                placeholder=\"eg. Toronto\"\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid container>\r\n                        <Grid item>\r\n                            <Button\r\n                                color=\"primary\"\r\n                                className={classes.button}\r\n                                onClick={handleSubmit}\r\n                            >\r\n                                Submit\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UserInfo;\r\n","const handleAuthErrors = (err, setErrors) => {\r\n    if (err && err.data && err.data.response) {\r\n        if (err.status === 400) {\r\n            const errors = {};\r\n            err.data.response.forEach(param => {\r\n                errors[param] = 'Invalid ' + param;\r\n            });\r\n            setErrors(errors);\r\n        } else if (err.status === 401) {\r\n            if (err.data.response === 'Invalid credentials')\r\n                setErrors({ password: 'Invalid email or password' });\r\n            else setErrors({ oldPassword: 'Invalid password' });\r\n        } else if (err.status === 404) {\r\n            setErrors({ email: 'User with email not found' });\r\n        } else if (err.status === 409) {\r\n            setErrors({ email: 'Email already in use' });\r\n        }\r\n    }\r\n};\r\n\r\nexport default handleAuthErrors;\r\n","import React from 'react';\r\nimport { Grid, Typography, FormHelperText, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { TextField as MikTextField } from 'formik-material-ui';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport * as actions from '../../context/actions';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport handleAuthErrors from '../../utils/handleAuthErrors';\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n    settings: {\r\n        margin: theme.spacing(8, 2, 2, 11),\r\n        [theme.breakpoints.down('xs')]: {\r\n            alignItems: 'center',\r\n            margin: theme.spacing(0, 0, 2, 0),\r\n        },\r\n    },\r\n    header: {\r\n        marginBottom: theme.spacing(4),\r\n    },\r\n    form: {\r\n        '& div': {\r\n            width: '100%',\r\n            maxWidth: 350,\r\n        },\r\n        '& input': {\r\n            backgroundColor: theme.palette.common.white,\r\n        },\r\n        '& button': {\r\n            width: '100%',\r\n        },\r\n    },\r\n    helper_text: {\r\n        fontSize: '1rem',\r\n        margin: theme.spacing(2.5, 0, 0.5, 0),\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(4),\r\n    },\r\n}));\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n    oldPassword: Yup.string().required('Current password is required'),\r\n    newPassword: Yup.string()\r\n        .min(6, 'Password must be at least 6 characters')\r\n        .required('Password is required'),\r\n    confirmPassword: Yup.string().oneOf(\r\n        [Yup.ref('newPassword'), null],\r\n        'Passwords must match'\r\n    ),\r\n});\r\n\r\nconst ProfileSettings = () => {\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { dispatch } = useGlobalContext();\r\n\r\n    return (\r\n        <Grid container justify=\"center\">\r\n            <Grid item container direction=\"column\" className={classes.settings}>\r\n                <Typography variant=\"h1\" className={classes.header}>\r\n                    Account access\r\n                </Typography>\r\n                <Typography variant=\"h5\">Change password</Typography>\r\n                <Formik\r\n                    initialValues={{\r\n                        oldPassword: '',\r\n                        newPassword: '',\r\n                        confirmPassword: '',\r\n                    }}\r\n                    validationSchema={SignupSchema}\r\n                    onSubmit={async (values, { setSubmitting, setErrors, resetForm }) => {\r\n                        const password = {\r\n                            oldPassword: values.oldPassword,\r\n                            newPassword: values.newPassword,\r\n                        };\r\n                        actions\r\n                            .updatePassword(password)(dispatch)\r\n                            .then(res => {\r\n                                if (res.status === 200) {\r\n                                    enqueueSnackbar('Updated successfully', {\r\n                                        variant: 'success',\r\n                                        autoHideDuration: '5000',\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        resetForm();\r\n                                    }, 500);\r\n                                } else if (res.status === 500) {\r\n                                    enqueueSnackbar('Server Error', {\r\n                                        variant: 'Error',\r\n                                        autoHideDuration: '5000',\r\n                                    });\r\n                                } else {\r\n                                    handleAuthErrors(res, setErrors);\r\n                                }\r\n                            });\r\n                        setTimeout(() => {\r\n                            setSubmitting(false);\r\n                        }, 500);\r\n                    }}\r\n                >\r\n                    {({ submitForm, isSubmitting, errors }) => (\r\n                        <Form className={classes.form}>\r\n                            <FormHelperText className={classes.helper_text}>\r\n                                Your current password\r\n                            </FormHelperText>\r\n                            <Field\r\n                                component={MikTextField}\r\n                                name=\"oldPassword\"\r\n                                type=\"password\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                            <FormHelperText className={classes.helper_text}>\r\n                                New password\r\n                            </FormHelperText>\r\n                            <Field\r\n                                component={MikTextField}\r\n                                name=\"newPassword\"\r\n                                type=\"password\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                            <FormHelperText className={classes.helper_text}>\r\n                                Confirm password\r\n                            </FormHelperText>\r\n                            <Field\r\n                                component={MikTextField}\r\n                                name=\"confirmPassword\"\r\n                                type=\"password\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                            <Grid item>\r\n                                <Button\r\n                                    color=\"primary\"\r\n                                    className={classes.button}\r\n                                    disabled={isSubmitting}\r\n                                    onClick={submitForm}\r\n                                >\r\n                                    Update\r\n                                </Button>\r\n                            </Grid>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ProfileSettings;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    FormHelperText,\r\n    Button,\r\n    Select,\r\n    MenuItem,\r\n    ListItem,\r\n    IconButton,\r\n    LinearProgress,\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutlineOutlined';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        backgroundColor: theme.palette.common.white,\r\n        flexDirection: 'column',\r\n        justify: 'flex-start',\r\n        padding: theme.spacing(8, 0, 0, 11),\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(0, 0, 0, 6),\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            padding: theme.spacing(0, 2, 0, 2),\r\n        },\r\n    },\r\n    university: {\r\n        marginBottom: theme.spacing(3),\r\n    },\r\n    title: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    list_item: {\r\n        justifyContent: 'space-between',\r\n        maxWidth: '400px',\r\n        padding: '0 4px 0 8px',\r\n        '& button': {\r\n            padding: 8,\r\n            fontSize: '1.125rem',\r\n        },\r\n    },\r\n    btn_group: {\r\n        width: '15%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        '& button': {\r\n            fontSize: '1.125rem',\r\n        },\r\n    },\r\n    form: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        maxWidth: '400px',\r\n\r\n        '& input': {\r\n            borderRadius: 4,\r\n            backgroundColor: theme.palette.common.white,\r\n        },\r\n        '& p': {\r\n            fontSize: '0.75rem',\r\n            margin: theme.spacing(2.5, 0, 0.5, 0),\r\n        },\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(4),\r\n    },\r\n    add_btn: {\r\n        marginTop: 8,\r\n    },\r\n}));\r\n\r\nconst MyCourses = () => {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { isLoading, userCourse, userGroups, dispatch } = useGlobalContext();\r\n    const { conversationManager } = useConversationContext();\r\n    const { groups } = userGroups;\r\n    const { school, userCourses, schoolCourses } = userCourse;\r\n    const classes = useStyles();\r\n    const [selectId, setSelectId] = useState('');\r\n    const [course, setCourse] = useState('');\r\n    const [myCourses, setMyCourses] = useState(userCourses);\r\n    const [hasChanges, setHasChanges] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setHasChanges(JSON.stringify(myCourses) !== JSON.stringify(userCourses));\r\n    }, [myCourses, userCourses]);\r\n\r\n    const addCourse = () => {\r\n        if (selectId === '' || myCourses.some(c => c._id === selectId)) return;\r\n        setMyCourses([...myCourses, schoolCourses.find(c => c._id === selectId)]);\r\n        setCourse('');\r\n        setSelectId('');\r\n    };\r\n\r\n    const handleAddCourses = async () => {\r\n        if (!hasChanges) return;\r\n        const courses = [...myCourses].map(c => c._id);\r\n        try {\r\n            const res = await axios.post('/user/courses', courses);\r\n            actions.fetchUserGroups(res.data.user.groups)(dispatch);\r\n            dispatch({ type: 'updateUserCourses', payload: res.data.user.courses });\r\n            if (res.status === 200) {\r\n                enqueueSnackbar('Updated successfully', {\r\n                    variant: 'success',\r\n                    autoHideDuration: '5000',\r\n                });\r\n            } else {\r\n                enqueueSnackbar(res.messages, {\r\n                    variant: 'Error',\r\n                    autoHideDuration: '5000',\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const handleRemove = async id => {\r\n        //if course has not been added to user\r\n        if (!userCourses.some(course => course._id === id)) {\r\n            setMyCourses(myCourses.filter(c => c._id !== id));\r\n        } else {\r\n            try {\r\n                let groupIds;\r\n                if (groups && groups.length) {\r\n                    // filter user groups selecting only the group id's\r\n                    groupIds = groups.reduce(\r\n                        // eslint-disable-next-line no-sequences\r\n                        (arr, g) => (g.course === id && arr.push(g._id), arr),\r\n                        []\r\n                    );\r\n                } else {\r\n                    groupIds = groups.map(group => group._id);\r\n                }\r\n                const res = await axios.delete(`/user/courses/${id}`, {\r\n                    data: { groupsRemoved: groupIds },\r\n                });\r\n\r\n                await actions.fetchUserGroups(res.data.groups)(dispatch);\r\n                conversationManager.updateRooms(res.data.groups);\r\n                dispatch({ type: 'updateUserCourses', payload: res.data.courses });\r\n                setMyCourses(myCourses.filter(c => c._id !== id));\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    };\r\n\r\n    if (isLoading) return <LinearProgress />;\r\n\r\n    return (\r\n        <Grid item container md={9} className={classes.container}>\r\n            <Typography variant=\"h1\" className={classes.university}>\r\n                {school}\r\n            </Typography>\r\n            <Typography variant=\"h5\" className={classes.title}>\r\n                Your courses\r\n            </Typography>\r\n            {myCourses.length < 1 && <Typography>No course selected.</Typography>}\r\n            {myCourses.map(c => {\r\n                if (c._id === course) {\r\n                    return (\r\n                        <ListItem key={c._id} className={classes.list_item}>\r\n                            <Typography>{c.name}</Typography>\r\n                            <div className={classes.btn_group}>\r\n                                <IconButton\r\n                                    edge=\"end\"\r\n                                    onClick={() => handleRemove(c._id)}\r\n                                >\r\n                                    <DeleteIcon />\r\n                                </IconButton>\r\n                                <IconButton edge=\"end\" onClick={() => setCourse('')}>\r\n                                    <HighlightOffIcon />\r\n                                </IconButton>\r\n                            </div>\r\n                        </ListItem>\r\n                    );\r\n                }\r\n                return (\r\n                    <ListItem key={c._id} className={classes.list_item}>\r\n                        <Typography>{c.name}</Typography>\r\n                        <IconButton edge=\"end\" onClick={() => setCourse(c._id)}>\r\n                            <EditOutlinedIcon />\r\n                        </IconButton>\r\n                    </ListItem>\r\n                );\r\n            })}\r\n\r\n            <form className={classes.form}>\r\n                <FormHelperText>Select course</FormHelperText>\r\n                <Select\r\n                    value={selectId}\r\n                    variant=\"outlined\"\r\n                    onChange={e => {\r\n                        setSelectId(e.target.value);\r\n                    }}\r\n                >\r\n                    {schoolCourses.map(course => {\r\n                        const isSelected = myCourses.some(c => c._id === course._id);\r\n                        if (isSelected) {\r\n                            return (\r\n                                <MenuItem key={course._id} value={course._id} disabled>\r\n                                    {course.name}\r\n                                </MenuItem>\r\n                            );\r\n                        } else {\r\n                            return (\r\n                                <MenuItem key={course._id} value={course._id}>\r\n                                    {course.name}\r\n                                </MenuItem>\r\n                            );\r\n                        }\r\n                    })}\r\n                </Select>\r\n                <Grid className={classes.add_btn}>\r\n                    <Button color=\"secondary\" startIcon={<AddIcon />} onClick={addCourse}>\r\n                        Add course\r\n                    </Button>\r\n                </Grid>\r\n                <Button\r\n                    variant=\"text\"\r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    onClick={handleAddCourses}\r\n                    disabled={!hasChanges}\r\n                >\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default MyCourses;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles(() => ({\r\n    container: {\r\n      flex: 1,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n    },\r\n    large: {\r\n        height: 130,\r\n        width: 130,\r\n    },\r\n    uploading: {\r\n      opacity: 0.5,\r\n      height: 130,\r\n      width: 130\r\n    },\r\n}));\r\n\r\nexport const baseStyle = {\r\n    borderWidth: 3,\r\n    borderRadius: 65,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'solid',\r\n    backgroundColor: '#d8d8d8',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n};\r\n  \r\nexport const activeStyle = {\r\n    borderColor: '#2196f3'\r\n};\r\n  \r\nexport const acceptStyle = {\r\n    borderColor: '#00e676'\r\n};\r\n  \r\nexport const rejectStyle = {\r\n    borderColor: '#ff1744'\r\n};\r\n","import React, { useState, useMemo, useCallback, useEffect } from 'react';\r\nimport { Avatar, Tooltip, Box } from '@material-ui/core';\r\nimport {\r\n    baseStyle,\r\n    activeStyle,\r\n    acceptStyle,\r\n    rejectStyle,\r\n    useStyles,\r\n} from './DragzonePicture.styles';\r\nimport { useGlobalContext } from '../context/studyappContext';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\n\r\nconst ProfilePic = () => {\r\n    const classes = useStyles();\r\n    const [uploading, setUploading] = useState(false);\r\n    const { profile, dispatch } = useGlobalContext();\r\n\r\n    const onDrop = useCallback(\r\n        async droppedFiles => {\r\n            if (droppedFiles.length) {\r\n                setUploading(true);\r\n                updateProfilePicture(droppedFiles[0])\r\n            }\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        setUploading(false);\r\n    }, [profile]);\r\n\r\n    const { getRootProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\r\n        onDrop,\r\n        maxFiles: 1,\r\n        accept: 'image/*',\r\n    });\r\n\r\n    const style = useMemo(\r\n        () => ({\r\n            ...baseStyle,\r\n            ...(isDragActive ? activeStyle : {}),\r\n            ...(isDragAccept ? acceptStyle : {}),\r\n            ...(isDragReject ? rejectStyle : {}),\r\n        }),\r\n        [isDragActive, isDragReject, isDragAccept]\r\n    );\r\n\r\n    const onChangeFile = (event) => {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        setUploading(true);\r\n        const file = event.target.files[0];\r\n        if(file) {\r\n            updateProfilePicture(file)\r\n        }\r\n    }\r\n\r\n    const updateProfilePicture = async (file) => {\r\n        const form = new FormData();\r\n        form.append('image', file);\r\n        const res = await axios\r\n            .post('/upload', form)\r\n            .catch(err => console.log(err));\r\n\r\n        if (res && res.data) {\r\n            dispatch({ type: 'updateProfile', payload: res.data });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box className={classes.container} >\r\n            <label htmlFor=\"fileUpload\">           \r\n            <Tooltip title=\"Drag and drop profile picture or click to upload\" arrow placement=\"right\">\r\n                <Box {...getRootProps({ style })}>\r\n                    {profile.imageUrl ? (\r\n                        <Avatar\r\n                            alt=\"Profile Pic\"\r\n                            src={profile.imageUrl}\r\n                            className={uploading ? classes.uploading : classes.large}\r\n                        />\r\n                    ) : (\r\n                        <Avatar className={classes.large}>\r\n                            <PersonAddIcon className={classes.large} />\r\n                        </Avatar>\r\n                    )}\r\n                </Box>\r\n            </Tooltip>\r\n            </label>\r\n            <input hidden type=\"file\" accept=\"image/*\" multiple={false} id=\"fileUpload\" onChange={onChangeFile} />\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default ProfilePic;\r\n","import React from 'react';\r\nimport { Grid, Typography, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { NavLink } from 'react-router-dom';\r\nimport DragzonePicture from '../components/DragzonePicture';\r\n\r\nimport { useGlobalContext } from '../context/studyappContext';\r\nimport * as actions from '../context/actions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    linkStyles: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        padding: '1em 0 0 2em',\r\n        fontSize: '1.125rem',\r\n        opacity: '50%',\r\n    },\r\n    profilePic: {\r\n        borderRadius: '50%',\r\n        width: '130px',\r\n        marginTop: '4em',\r\n    },\r\n    drawer: {\r\n        background: '#F9F9FC',\r\n        height: 'calc(100vh - 100px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n            paddingTop: theme.spacing(6),\r\n            background: '#FFF',\r\n            height: '100vh',\r\n        },\r\n    },\r\n    linkContainer: {\r\n        paddingTop: '2em',\r\n        [theme.breakpoints.down('sm')]: {\r\n            paddingTop: 0,\r\n        },\r\n    },\r\n    profileName: {\r\n        paddingTop: '1em',\r\n        fontSize: '1.375rem',\r\n    },\r\n    button: {\r\n        margin: '2em',\r\n        textTransform: 'none',\r\n        fontWeight: 'bold',\r\n        fontSize: '1rem',\r\n        letterSpacing: 0.5,\r\n    },\r\n}));\r\n\r\nconst ProfileSidePanel = props => {\r\n    const classes = useStyles();\r\n    const { profile, dispatch } = useGlobalContext();\r\n\r\n    const handleDrawerClose = () => {\r\n        dispatch({ type: 'CLOSE_DRAWER' });\r\n    };\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justify=\"space-between\"\r\n            item\r\n            className={classes.drawer}\r\n        >\r\n            {/* Profile briefing container */}\r\n            <Grid\r\n                container\r\n                item\r\n                direction=\"column\"\r\n                alignItems=\"center\"\r\n                style={{ marginTop: '3em' }}\r\n            >\r\n                <DragzonePicture className={classes.profilePic} />\r\n\r\n                <Typography className={classes.profileName} align=\"center\">\r\n                    {profile.firstName + ' ' + profile.lastName}\r\n                </Typography>\r\n            </Grid>\r\n\r\n            {/* Profile Links container */}\r\n            <Grid container item direction=\"column\" className={classes.linkContainer}>\r\n                <NavLink\r\n                    to=\"/profile\"\r\n                    exact\r\n                    activeStyle={{\r\n                        opacity: '100%',\r\n                    }}\r\n                    className={classes.linkStyles}\r\n                    onClick={handleDrawerClose}\r\n                >\r\n                    User Info\r\n                </NavLink>\r\n                <NavLink\r\n                    to=\"/profile/courses\"\r\n                    exact\r\n                    activeStyle={{\r\n                        opacity: '100%',\r\n                    }}\r\n                    className={classes.linkStyles}\r\n                    onClick={handleDrawerClose}\r\n                >\r\n                    My Courses\r\n                </NavLink>\r\n                <NavLink\r\n                    to=\"/profile/settings\"\r\n                    exact\r\n                    activeStyle={{\r\n                        opacity: '100%',\r\n                    }}\r\n                    className={classes.linkStyles}\r\n                    onClick={handleDrawerClose}\r\n                >\r\n                    Settings\r\n                </NavLink>\r\n            </Grid>\r\n            <Grid container item>\r\n                <Grid item>\r\n                    <Button\r\n                        className={classes.button}\r\n                        onClick={() => actions.logout()(dispatch)}\r\n                    >\r\n                        Logout\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ProfileSidePanel;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\n\r\n// Custom component imports\r\nimport Sidebar from '../components/Profile/Sidebar';\r\nimport UserInfo from '../components/Profile/UserInfo';\r\nimport Settings from '../components/Profile/Settings';\r\nimport MyCourses from '../components/Profile/MyCourses';\r\nimport ProfileSidePanel from './ProfileSidePanel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        height: 'calc(100vh - 100px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'auto',\r\n        },\r\n    },\r\n    contentContainer: {\r\n        backgroundColor: theme.palette.common.white,\r\n        [theme.breakpoints.down('sm')]: {\r\n            minHeight: 'calc(100vh - 200px)',\r\n        },\r\n    },\r\n}));\r\n\r\nconst Profile = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Grid container>\r\n            <Grid item container className={classes.container}>\r\n                <Sidebar>\r\n                    <ProfileSidePanel />\r\n                </Sidebar>\r\n                <Grid item container sm={12} md={9} className={classes.contentContainer}>\r\n                    <Switch>\r\n                        <Route exact path=\"/profile\">\r\n                            <UserInfo />\r\n                        </Route>\r\n                        <Route exact path=\"/profile/courses\">\r\n                            <MyCourses />\r\n                        </Route>\r\n                        <Route exact path=\"/profile/settings\">\r\n                            <Settings />\r\n                        </Route>\r\n                    </Switch>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/sign-up.53109035.png\";","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Background from '../../images/sign-up.png';\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n    root: {\r\n        backgroundColor: theme.palette.common.white,\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '100vh',\r\n        },\r\n    },\r\n    container: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            justifyContent: 'center',\r\n        },\r\n    },\r\n    logoContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n    logo: {\r\n        width: '4rem',\r\n        height: 'auto',\r\n        marginBottom: theme.spacing(6),\r\n        '& img': {\r\n            width: '100%',\r\n            height: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        height: '100vh',\r\n        width: 'auto',\r\n        textAlign: 'center',\r\n        margin: 0,\r\n        padding: 0,\r\n        borderRadius: 0,\r\n        backgroundImage: `url(${Background})`,\r\n        backgroundPosition: 'center center',\r\n        backgroundSize: 'cover',\r\n        '& button': {\r\n            float: 'right',\r\n            margin: '2rem 2rem 0 0',\r\n            color: '#FFF',\r\n            borderColor: '#FFF',\r\n        },\r\n    },\r\n    dark_overlay: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\r\n        position: 'relative',\r\n        height: '100%',\r\n        width: '100%',\r\n    },\r\n    formContainer: {\r\n        padding: theme.spacing(4, 22, 4, 12),\r\n        '& h1': {\r\n            marginLeft: theme.spacing(4),\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(4, 2, 4, 2),\r\n            maxWidth: 450,\r\n            justifyContent: 'center',\r\n        },\r\n    },\r\n    form: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginLeft: theme.spacing(4),\r\n        '& input': {\r\n            borderRadius: 4,\r\n            backgroundColor: theme.palette.common.white,\r\n        },\r\n        '& p': {\r\n            fontSize: '0.75rem',\r\n            margin: theme.spacing(2.5, 0, 0.5, 0),\r\n        },\r\n    },\r\n    add_course: {\r\n        marginTop: 8,\r\n        marginBottom: 8,\r\n    },\r\n}));\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst CourseList = React.memo(({ courses, removeCourse }) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Grid className={classes.root}>\r\n            {courses.map(c => (\r\n                <Button\r\n                    key={c._id}\r\n                    endIcon={<HighlightOffIcon onClick={() => removeCourse(c._id)} />}\r\n                >\r\n                    {c.name}\r\n                </Button>\r\n            ))}\r\n        </Grid>\r\n    );\r\n});\r\n\r\nexport default CourseList;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    FormHelperText,\r\n    Paper,\r\n    Link,\r\n    Button,\r\n    Select,\r\n    MenuItem,\r\n    Hidden,\r\n    LinearProgress,\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { TextField as MikTextField } from 'formik-material-ui';\r\nimport { Link as RouterLink, Redirect } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport axios from 'axios';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport logo from '../../images/logo.png';\r\nimport { useStyles } from './Styles';\r\nimport CourseList from './CourseList';\r\nimport handleAuthErrors from '../../utils/handleAuthErrors';\r\nimport * as actions from '../../context/actions';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n    firstName: Yup.string().min(2, 'First name too short').required('Required'),\r\n    lastName: Yup.string().min(2, 'Last name too short').required('Required'),\r\n    email: Yup.string().email('Invalid email').required('Required'),\r\n    password: Yup.string().min(6).required('Required'),\r\n    university: Yup.string().required('Please select a school'),\r\n});\r\n\r\nconst Signup = () => {\r\n    const classes = useStyles();\r\n    const { isAuth, dispatch } = useGlobalContext();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [isProfLoading, setIsProfLoading] = useState(true);\r\n    const [schools, setSchools] = useState([]);\r\n    const [courseId, setCourseId] = useState('');\r\n    const [courses, setCourses] = useState([{ _id: 1, name: 'Select a school first' }]);\r\n    const [id, setId] = useState('');\r\n    const [addedCourses, setAddedCourses] = useState([]);\r\n\r\n    // fetch all the universities\r\n    const fetchData = async () => {\r\n        try {\r\n            const response = await axios.get('/universities');\r\n\r\n            setSchools(response.data);\r\n            setIsProfLoading(false);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (courseId) {\r\n            const schoolCourses = [];\r\n            [...schools].forEach(s => {\r\n                if (s._id === courseId) schoolCourses.push(...s.courses);\r\n            });\r\n            setCourses(schoolCourses);\r\n        }\r\n    }, [courseId, schools]);\r\n\r\n    const addCourse = () => {\r\n        // return if the courese alread exist or\r\n        // if user haven't selected anything\r\n        if (addedCourses.some(ac => ac._id === id) || id === '' || id === 1) return;\r\n\r\n        setAddedCourses([...addedCourses, courses.find(c => c._id === id)]);\r\n    };\r\n\r\n    const handleRemoveCourse = useCallback(\r\n        id => {\r\n            setAddedCourses(addedCourses.filter(c => c._id !== id));\r\n        },\r\n        [addedCourses]\r\n    );\r\n\r\n    if (isProfLoading) return <LinearProgress />;\r\n\r\n    if (isAuth) return <Redirect to=\"/profile\" />;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Grid container className={classes.container}>\r\n                <Grid\r\n                    item\r\n                    container\r\n                    md={6}\r\n                    direction=\"column\"\r\n                    justify=\"flex-start\"\r\n                    className={classes.formContainer}\r\n                >\r\n                    <div className={classes.logoContainer}>\r\n                        <div className={classes.logo}>\r\n                            <img src={logo} alt=\"logo\"></img>\r\n                        </div>\r\n                        <Hidden mdUp>\r\n                            <Link\r\n                                color=\"inherit\"\r\n                                variant=\"inherit\"\r\n                                underline=\"none\"\r\n                                component={RouterLink}\r\n                                to=\"/login\"\r\n                            >\r\n                                <Button variant=\"text\" color=\"primary\">\r\n                                    Login\r\n                                </Button>\r\n                            </Link>\r\n                        </Hidden>\r\n                    </div>\r\n                    <Typography variant=\"h1\" color=\"textPrimary\">\r\n                        Create an account.\r\n                    </Typography>\r\n\r\n                    <Formik\r\n                        initialValues={{\r\n                            firstName: '',\r\n                            lastName: '',\r\n                            email: '',\r\n                            password: '',\r\n                            university: '',\r\n                        }}\r\n                        validationSchema={SignupSchema}\r\n                        onSubmit={async (values, { setSubmitting, setErrors }) => {\r\n                            values.courses = [...addedCourses].map(ac => ac._id);\r\n                            actions\r\n                                .register(values)(dispatch)\r\n                                .then(res => {\r\n                                    if (res.status === 201) {\r\n                                        enqueueSnackbar('Registered successfully', {\r\n                                            variant: 'success',\r\n                                            autoHideDuration: '5000',\r\n                                        });\r\n                                    } else if (res.status === 500) {\r\n                                        setTimeout(() => {\r\n                                            setSubmitting(false);\r\n                                        }, 500);\r\n                                        enqueueSnackbar('Server Error', {\r\n                                            variant: 'Error',\r\n                                            autoHideDuration: '5000',\r\n                                        });\r\n                                    } else {\r\n                                        setTimeout(() => {\r\n                                            setSubmitting(false);\r\n                                        }, 500);\r\n                                        handleAuthErrors(res, setErrors);\r\n                                    }\r\n                                });\r\n                        }}\r\n                    >\r\n                        {({ submitForm, isSubmitting, errors }) => (\r\n                            <Form className={classes.form}>\r\n                                <FormHelperText>First name</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"firstName\"\r\n                                    type=\"text\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText>Last name</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"lastName\"\r\n                                    type=\"text\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText>Email address</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText required>Password</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText>Select your school</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"university\"\r\n                                    type=\"text\"\r\n                                    select\r\n                                    variant=\"outlined\"\r\n                                    defaultValue=\"\"\r\n                                >\r\n                                    {schools.map(school => {\r\n                                        return (\r\n                                            <MenuItem\r\n                                                key={school._id}\r\n                                                value={school._id}\r\n                                                onClick={() => setCourseId(school._id)}\r\n                                            >\r\n                                                {school.name}\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })}\r\n                                </Field>\r\n                                {addedCourses.length > 0 && (\r\n                                    <CourseList\r\n                                        courses={addedCourses}\r\n                                        removeCourse={handleRemoveCourse}\r\n                                    />\r\n                                )}\r\n                                <FormHelperText>Select the course</FormHelperText>\r\n                                <Select\r\n                                    defaultValue=\"\"\r\n                                    variant=\"outlined\"\r\n                                    onChange={e => setId(e.target.value)}\r\n                                >\r\n                                    {courses.map(course => {\r\n                                        const isSelected = addedCourses.some(\r\n                                            ac => ac._id === course._id\r\n                                        );\r\n                                        if (isSelected) {\r\n                                            return (\r\n                                                <MenuItem\r\n                                                    key={course._id}\r\n                                                    value={course._id}\r\n                                                    disabled\r\n                                                >\r\n                                                    {course.name}\r\n                                                </MenuItem>\r\n                                            );\r\n                                        } else {\r\n                                            return (\r\n                                                <MenuItem\r\n                                                    key={course._id}\r\n                                                    value={course._id}\r\n                                                >\r\n                                                    {course.name}\r\n                                                </MenuItem>\r\n                                            );\r\n                                        }\r\n                                    })}\r\n                                </Select>\r\n                                <Grid className={classes.add_course}>\r\n                                    <Button\r\n                                        color=\"secondary\"\r\n                                        startIcon={<AddIcon />}\r\n                                        onClick={addCourse}\r\n                                    >\r\n                                        Add course\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Button\r\n                                    color=\"primary\"\r\n                                    className={classes.button}\r\n                                    disabled={isSubmitting}\r\n                                    onClick={submitForm}\r\n                                >\r\n                                    Sign up\r\n                                </Button>\r\n                            </Form>\r\n                        )}\r\n                    </Formik>\r\n                </Grid>\r\n                <Grid item md={6}>\r\n                    <Hidden smDown>\r\n                        <Paper className={classes.paper}>\r\n                            <div className={classes.dark_overlay}>\r\n                                <Link\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    component={RouterLink}\r\n                                    to=\"/login\"\r\n                                >\r\n                                    <Button variant=\"outlined\" color=\"primary\">\r\n                                        Login\r\n                                    </Button>\r\n                                </Link>\r\n                            </div>\r\n                        </Paper>\r\n                    </Hidden>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signup;\r\n","import React from 'react';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    FormHelperText,\r\n    Paper,\r\n    Link,\r\n    Button,\r\n    Hidden,\r\n} from '@material-ui/core';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { TextField as MikTextField } from 'formik-material-ui';\r\nimport { Link as RouterLink, Redirect } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport logo from '../../images/logo.png';\r\nimport { useStyles } from './Styles';\r\nimport handleAuthErrors from '../../utils/handleAuthErrors';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\n\r\nconst LoginSchema = Yup.object().shape({\r\n    email: Yup.string().email('Invalid email').required('Required'),\r\n    password: Yup.string().required('Required'),\r\n});\r\n\r\nconst Login = props => {\r\n    const classes = useStyles();\r\n    const { isAuth, dispatch } = useGlobalContext();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const locState = props.location.state;\r\n    let redirectPath = '/profile';\r\n\r\n    //locState only exists if redirected from ProtectedRoute\r\n    if (locState && locState.from) redirectPath = locState.from.pathname;\r\n\r\n    if (isAuth) return <Redirect to={redirectPath} />;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Grid container className={classes.container}>\r\n                <Grid\r\n                    item\r\n                    container\r\n                    md={6}\r\n                    direction=\"column\"\r\n                    className={classes.formContainer}\r\n                >\r\n                    <div className={classes.logoContainer}>\r\n                        <div className={classes.logo}>\r\n                            <img src={logo} alt=\"logo\"></img>\r\n                        </div>\r\n                        <Hidden mdUp>\r\n                            <Link\r\n                                color=\"inherit\"\r\n                                variant=\"inherit\"\r\n                                underline=\"none\"\r\n                                component={RouterLink}\r\n                                to=\"/sign-up\"\r\n                            >\r\n                                <Button\r\n                                    variant=\"text\"\r\n                                    color=\"primary\"\r\n                                    style={{ marginTop: 0 }}\r\n                                >\r\n                                    Get Started\r\n                                </Button>\r\n                            </Link>\r\n                        </Hidden>\r\n                    </div>\r\n                    <Typography variant=\"h1\" color=\"textPrimary\">\r\n                        Login.\r\n                    </Typography>\r\n                    <Formik\r\n                        initialValues={{\r\n                            email: '',\r\n                            password: '',\r\n                        }}\r\n                        validationSchema={LoginSchema}\r\n                        onSubmit={(values, { setSubmitting, setErrors }) => {\r\n                            actions\r\n                                .login(values)(dispatch)\r\n                                .then(res => {\r\n                                    if (res.status === 200) {\r\n                                        enqueueSnackbar('Logged in successfully', {\r\n                                            variant: 'success',\r\n                                            autoHideDuration: '5000',\r\n                                        });\r\n                                    } else if (res.status === 500) {\r\n                                        setTimeout(() => {\r\n                                            setSubmitting(false);\r\n                                        }, 500);\r\n                                        enqueueSnackbar('Server Error', {\r\n                                            variant: 'Error',\r\n                                            autoHideDuration: '5000',\r\n                                        });\r\n                                    } else {\r\n                                        setTimeout(() => {\r\n                                            setSubmitting(false);\r\n                                        }, 500);\r\n                                        handleAuthErrors(res, setErrors);\r\n                                    }\r\n                                });\r\n                        }}\r\n                    >\r\n                        {({ submitForm, isSubmitting }) => (\r\n                            <Form className={classes.form}>\r\n                                <FormHelperText>Email address</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText required>Password</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <Typography variant=\"body2\">Forget password?</Typography>\r\n                                <Button\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    onClick={submitForm}\r\n                                >\r\n                                    Login\r\n                                </Button>\r\n                            </Form>\r\n                        )}\r\n                    </Formik>\r\n                </Grid>\r\n                <Grid item md={6}>\r\n                    <Hidden smDown>\r\n                        <Paper className={classes.paper}>\r\n                            <div className={classes.dark_overlay}>\r\n                                <Link\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    component={RouterLink}\r\n                                    to=\"/sign-up\"\r\n                                >\r\n                                    <Button variant=\"outlined\" color=\"primary\">\r\n                                        Get started\r\n                                    </Button>\r\n                                </Link>\r\n                            </div>\r\n                        </Paper>\r\n                    </Hidden>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    toolbar: {\r\n        height: 100,\r\n        backgroundColor: theme.palette.common.white,\r\n    },\r\n    logo_study: {\r\n        flexGrow: 6,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginLeft: '2.25rem',\r\n        [theme.breakpoints.down('sm')]: {\r\n            marginLeft: '0.75rem',\r\n        },\r\n        '& img': {\r\n            width: '2.75rem',\r\n            height: 'auto',\r\n            marginRight: theme.spacing(2),\r\n            cursor: 'pointer',\r\n        },\r\n    },\r\n    listContainer: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n        flexGrow: 3,\r\n        display: 'flex',\r\n        '& > *': {\r\n            display: 'flex',\r\n            fontSize: '1rem',\r\n            fontWeight: 500,\r\n            cursor: 'pointer',\r\n        },\r\n    },\r\n    profile: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        marginLeft: theme.spacing(2),\r\n    },\r\n    menuButton: {\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'none',\r\n        },\r\n        fontSize: '2.25rem',\r\n        color: '#4B00FF',\r\n    },\r\n    avatar: {\r\n        height: 60,\r\n        width: 60,\r\n    },\r\n    badge: {\r\n        color: theme.palette.common.white,\r\n        paddingLeft: theme.spacing(3),\r\n        '& span': {\r\n            width: 30,\r\n            fontSize: '0.75rem',\r\n            background: theme.palette.primary.gradient,\r\n        },\r\n    },\r\n    profile_button: {\r\n        marginLeft: theme.spacing(1),\r\n        textTransform: 'capitalize',\r\n        '& span': {\r\n            marginLeft: 0,\r\n        },\r\n    },\r\n    icons: { marginRight: 8 },\r\n    linkStyles: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        fontSize: '1.125rem',\r\n        opacity: '50%',\r\n        marginLeft: 15,\r\n    },\r\n    dropdown_list: {\r\n        '& li': {\r\n            paddingLeft: theme.spacing(0.5),\r\n            '&:hover': {\r\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\r\n            },\r\n        },\r\n    },\r\n    mobile_logout: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n","import React, { useState } from 'react';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    Typography,\r\n    Button,\r\n    Avatar,\r\n    List,\r\n    ListItem,\r\n    Badge,\r\n    Menu,\r\n    MenuItem,\r\n    Link,\r\n    IconButton,\r\n    Divider,\r\n    Hidden,\r\n} from '@material-ui/core';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport logo from '../../images/logo_study.png';\r\nimport { useStyles } from './NavbarStyles';\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\n\r\nconst Navbar = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const { profile, dispatch } = useGlobalContext();\r\n    const { notifications } = useConversationContext();\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleProfile = () => {\r\n        setAnchorEl(null);\r\n        history.push('/profile');\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        actions.logout()(dispatch);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"relative\" color=\"default\" elevation={2}>\r\n                <Toolbar className={classes.toolbar}>\r\n                    <div className={classes.logo_study}>\r\n                        <Link\r\n                            color=\"inherit\"\r\n                            variant=\"inherit\"\r\n                            underline=\"none\"\r\n                            // component={RouterLink}\r\n                            // to=\"/login\"\r\n                        >\r\n                            <img src={logo} alt=\"logo_study\" />\r\n                        </Link>\r\n                        <Typography variant=\"h3\">studyapp</Typography>\r\n                    </div>\r\n                    <div className={classes.listContainer}>\r\n                        <List>\r\n                            <ListItem>\r\n                                <NavLink\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    to=\"/forum\"\r\n                                    style={{ opacity: '50%' }}\r\n                                    activeStyle={{\r\n                                        opacity: '100%',\r\n                                    }}\r\n                                    className={classes.linkStyles}\r\n                                >\r\n                                    Forum\r\n                                </NavLink>\r\n                            </ListItem>\r\n                            <ListItem>\r\n                                <NavLink\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    to=\"/groups\"\r\n                                    activeStyle={{\r\n                                        opacity: '100%',\r\n                                    }}\r\n                                    className={classes.linkStyles}\r\n                                >\r\n                                    Groups\r\n                                </NavLink>\r\n                            </ListItem>\r\n                            <ListItem>\r\n                                <NavLink\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    to=\"/chat\"\r\n                                    activeStyle={{\r\n                                        opacity: '100%',\r\n                                    }}\r\n                                    className={classes.linkStyles}\r\n                                >\r\n                                    Chats\r\n                                </NavLink>\r\n                                <Badge badgeContent={Object.values(notifications).reduce((a, b) => a + b, 0)} className={classes.badge} />\r\n                            </ListItem>\r\n                        </List>\r\n                    </div>\r\n                    <div className={classes.profile}>\r\n                        {profile.imageUrl ? (\r\n                            <Avatar\r\n                                alt=\"Profile Pic\"\r\n                                src={profile.imageUrl}\r\n                                className={classes.avatar}\r\n                            />\r\n                        ) : (\r\n                            <Avatar className={classes.large}>\r\n                                <PersonAddIcon className={classes.large} />\r\n                            </Avatar>\r\n                        )}\r\n\r\n                        <Button\r\n                            endIcon={<ArrowDropDownIcon />}\r\n                            className={classes.profile_button}\r\n                            onClick={e => setAnchorEl(e.currentTarget)}\r\n                        >\r\n                            <Typography variant=\"h6\">Profile</Typography>\r\n                        </Button>\r\n                        <Menu\r\n                            anchorEl={anchorEl}\r\n                            anchorOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'center',\r\n                            }}\r\n                            keepMounted\r\n                            transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'center',\r\n                            }}\r\n                            open={open}\r\n                            onClose={() => setAnchorEl(null)}\r\n                        >\r\n                            <MenuItem onClick={handleLogout}>\r\n                                <ExitToAppIcon className={classes.icons} />\r\n                                <Typography>Logout</Typography>\r\n                            </MenuItem>\r\n                            <MenuItem onClick={handleProfile}>\r\n                                <AccountCircleIcon className={classes.icons} />\r\n                                <Typography>My Profile</Typography>\r\n                            </MenuItem>\r\n                        </Menu>\r\n                    </div>\r\n                    <Hidden mdUp>\r\n                        <div>\r\n                            <IconButton\r\n                                edge=\"start\"\r\n                                className={classes.menuButton}\r\n                                color=\"inherit\"\r\n                                aria-label=\"menu\"\r\n                                onClick={e => setAnchorEl(e.currentTarget)}\r\n                            >\r\n                                <MoreVertIcon />\r\n                            </IconButton>\r\n                            <Menu\r\n                                anchorEl={anchorEl}\r\n                                anchorOrigin={{\r\n                                    vertical: 'top',\r\n                                    horizontal: 'center',\r\n                                }}\r\n                                keepMounted\r\n                                transformOrigin={{\r\n                                    vertical: 'top',\r\n                                    horizontal: 'center',\r\n                                }}\r\n                                open={open}\r\n                                onClose={() => setAnchorEl(null)}\r\n                            >\r\n                                <List component=\"nav\" className={classes.dropdown_list}>\r\n                                    <ListItem>\r\n                                        <NavLink\r\n                                            color=\"inherit\"\r\n                                            variant=\"inherit\"\r\n                                            underline=\"none\"\r\n                                            to=\"/forum\"\r\n                                            activeStyle={{\r\n                                                opacity: '100%',\r\n                                            }}\r\n                                            className={classes.linkStyles}\r\n                                            onClick={() => setAnchorEl(null)}\r\n                                        >\r\n                                            Forum\r\n                                        </NavLink>\r\n                                    </ListItem>\r\n                                    <ListItem>\r\n                                        <NavLink\r\n                                            color=\"inherit\"\r\n                                            variant=\"inherit\"\r\n                                            underline=\"none\"\r\n                                            to=\"/groups\"\r\n                                            activeStyle={{\r\n                                                opacity: '100%',\r\n                                            }}\r\n                                            className={classes.linkStyles}\r\n                                            onClick={() => setAnchorEl(null)}\r\n                                        >\r\n                                            Groups\r\n                                        </NavLink>\r\n                                    </ListItem>\r\n                                    <ListItem>\r\n                                        <NavLink\r\n                                            color=\"inherit\"\r\n                                            variant=\"inherit\"\r\n                                            underline=\"none\"\r\n                                            to=\"/chat\"\r\n                                            activeStyle={{\r\n                                                opacity: '100%',\r\n                                            }}\r\n                                            className={classes.linkStyles}\r\n                                            onClick={() => setAnchorEl(null)}\r\n                                        >\r\n                                            Chats\r\n                                        </NavLink>\r\n                                        <Badge\r\n                                            badgeContent={12}\r\n                                            className={classes.badge}\r\n                                        />\r\n                                    </ListItem>\r\n                                </List>\r\n                                <Divider />\r\n                                <MenuItem\r\n                                    className={classes.mobile_logout}\r\n                                    onClick={handleLogout}\r\n                                >\r\n                                    <ExitToAppIcon className={classes.icons} />\r\n                                    <Typography>Logout</Typography>\r\n                                </MenuItem>\r\n                                <MenuItem onClick={handleProfile}>\r\n                                    <AccountCircleIcon className={classes.icons} />\r\n                                    <Typography>My Profile</Typography>\r\n                                </MenuItem>\r\n                            </Menu>\r\n                        </div>\r\n                    </Hidden>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport Navbar from '../layout/Navbar';\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\nconst { isAuth, isLoading } = useGlobalContext();\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => {\r\n                if (isAuth && !isLoading) \r\n                    return (\r\n                        <>\r\n                            <Navbar />\r\n                            <Component {...props} />\r\n                        </>\r\n                    );\r\n                else if (isLoading) return <LinearProgress />;\r\n                else\r\n                    return (\r\n                        <Redirect\r\n                            to={{ pathname: '/login', state: { from: props.location } }}\r\n                        />\r\n                    );\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Box, Typography } from '@material-ui/core';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\nimport { useGlobalContext } from '../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        flexDirection: 'column',\r\n        backgroundColor: theme.palette.common.white,\r\n        height: '100vh',\r\n        width: '100vw',\r\n    },\r\n    icon: { fontSize: '300px' },\r\n    text: { opacity: '80%', padding: '1em' },\r\n    linkStyles: {\r\n        textDecoration: 'none',\r\n        color: 'blue',\r\n        padding: '1em 0 0 2em',\r\n        fontSize: '0.9375rem',\r\n        opacity: '50%',\r\n    },\r\n}));\r\n\r\nconst NotFound = () => {\r\n    const classes = useStyles();\r\n    const { isAuth } = useGlobalContext();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <SentimentVeryDissatisfiedIcon className={classes.icon} />\r\n            <Typography variant=\"h1\" color=\"textPrimary\" className={classes.text}>\r\n                404\r\n            </Typography>\r\n            <Typography variant=\"h6\" color=\"textPrimary\" className={classes.text}>\r\n                The page you are looking for doesn't exist or another error occured.\r\n            </Typography>\r\n            <Box flexDirection=\"row\" className={classes.linkContainer}>\r\n                {isAuth && (\r\n                    <NavLink to=\"/profile\" className={classes.linkStyles}>\r\n                        Profile\r\n                    </NavLink>\r\n                )}\r\n                <NavLink to=\"/login\" className={classes.linkStyles}>\r\n                    Login\r\n                </NavLink>\r\n            </Box>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotFound;\r\n","// msToTimeAgo takes in milliseconds elapsed since the UNIX epoch\r\n// and converts it to one of x seconds ago, x minutes ago, x days ago, x years ago\r\nexport const msToTimeAgo = (ms) => {\r\n    \r\n    if (isNaN(ms)) return 'Not a number';\r\n\r\n    const d = new Date();\r\n    const nowTs = Math.floor(d.getTime()/1000);\r\n    const seconds = nowTs-ms;\r\n    \r\n    // years ago\r\n    if (seconds > 365.2425*24*3600) {\r\n        const y = Math.floor(seconds / (365.2425*24*3600))\r\n        return  y + (y > 1 ? ' years ago' : ' year ago');\r\n    }\r\n    // months ago\r\n    if (seconds > 30*24*3600) {\r\n        const m = Math.floor(seconds / (30*24*3600));\r\n        return m + (m > 1 ? ' months ago' : ' month ago');\r\n    }\r\n    // weeks ago\r\n    if (seconds > 7*24*3600) {\r\n        const w = Math.floor(seconds / (7*24*3600));\r\n        return w + (w > 1 ? ' weeks ago' : ' week ago');\r\n     }\r\n    // days ago\r\n    if (seconds > 2*24*3600) {\r\n        return Math.floor(seconds / (24*3600)) + ' days ago';\r\n    }\r\n    // yesterday\r\n    if (seconds > 24*3600) {\r\n        return 'yesterday';\r\n    }\r\n    // hours ago\r\n    if (seconds > 3600) {\r\n        const h = Math.floor(seconds/3600);\r\n        return h + (h > 1 ? ' hours ago' : ' hour ago');\r\n    }\r\n    //minutes ago\r\n    if (seconds > 60) {\r\n        const s = Math.floor(seconds/60);\r\n        return s + (s > 1 ? ' minutes ago' : ' minute ago');\r\n    }\r\n    //seconds ago\r\n    return Math.floor(seconds) + ' seconds ago';\r\n};\r\n","import React from 'react';\r\nimport { Avatar, Box, Container, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { msToTimeAgo } from '../../utils/convertTimeStamps';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        padding: theme.spacing(1),\r\n    },\r\n    received_container: {\r\n        background: theme.palette.primary.gradient,\r\n        borderTopRightRadius: 20,\r\n        borderTopLeftRadius: 20,\r\n        borderBottomRightRadius: 20,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: 'auto',\r\n        maxWidth: 500,\r\n        color: '#FFF',\r\n    },\r\n    sent_container: {\r\n        background: '#e6edff',\r\n        borderTopRightRadius: 20,\r\n        borderTopLeftRadius: 20,\r\n        borderBottomLeftRadius: 20,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: 'auto',\r\n        maxWidth: 500,\r\n        justifySelf: 'flex-end',\r\n        color: '#2574FF',\r\n    },\r\n    contentText: {\r\n        alignItems: 'center',\r\n        padding: 5,\r\n    },\r\n    avatar: {\r\n        width: 60,\r\n        height: 60,\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    left_timestamp: {\r\n        fontSize: '0.75rem',\r\n        opacity: 0.29,\r\n        paddingTop: 5,\r\n        alignSelf: 'flex-start',\r\n    },\r\n    right_timestamp: {\r\n        fontSize: '0.75rem',\r\n        opacity: 0.29,\r\n        paddingTop: 5,\r\n        alignSelf: 'flex-end',\r\n    },\r\n}));\r\n\r\nconst Message = ({ msg, isReceived }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Box display=\"flex\" flexDirection=\"row\" className={classes.container}>\r\n            {isReceived && (\r\n                <Avatar className={classes.avatar} src={msg.profile.imageUrl} />\r\n            )}\r\n            <Box display=\"flex\" flexDirection=\"column\">\r\n                <Container\r\n                    className={\r\n                        isReceived ? classes.received_container : classes.sent_container\r\n                    }\r\n                >\r\n                    <Typography\r\n                        className={classes.contentText}\r\n                        variant=\"h6\"\r\n                    >\r\n                        {msg.text}\r\n                    </Typography>\r\n                </Container>\r\n                <Typography\r\n                    className={\r\n                        isReceived ? classes.left_timestamp : classes.right_timestamp\r\n                    }\r\n                >\r\n                    {msToTimeAgo(msg.timeStamp)}\r\n                </Typography>\r\n            </Box>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport {\r\n    Grid,\r\n    Container,\r\n    List,\r\n    ListItem,\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nimport Message from './Message';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list_container: {\r\n        display: 'block',\r\n        height: 'calc(100vh - 343px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n          height: 'calc(100vh - 443px)',\r\n        },\r\n        overflowY: 'auto',\r\n        backgroundColor: theme.palette.common.white,\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.6rem',\r\n            height: '12rem',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            boxShadow: 'inset 0 0 5px grey',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#ccc',\r\n        },\r\n    },\r\n    left_msg: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start'\r\n    },\r\n    right_msg: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n    }\r\n}));\r\n\r\nconst Conversation = ({notifications, messages}) => {\r\n    const classes = useStyles();\r\n    const lastRef = useRef(null);\r\n    const { profile } = useGlobalContext();\r\n    const { user } = profile;\r\n\r\n    useEffect(() => {\r\n        lastRef.current.scrollIntoView();\r\n    }, [notifications, messages]);\r\n\r\n    return (\r\n        <Grid className={classes.list_container}>\r\n            <Container>\r\n                <List>\r\n                    {\r\n                        messages.map((message, index) => {\r\n                            const isReceived = message.profile.user !== user._id;\r\n                            return (\r\n                                <ListItem\r\n                                    key={index}\r\n                                    className={\r\n                                        isReceived ? \r\n                                        classes.left_msg : \r\n                                        classes.right_msg\r\n                                    }\r\n                                >\r\n                                    <Message msg={message} isReceived={isReceived} />\r\n                                </ListItem>\r\n                            );\r\n                        })\r\n                    }\r\n                    <ListItem ref={lastRef}/>\r\n                </List>\r\n            </Container>\r\n        </Grid>\r\n    )\r\n};\r\n\r\nexport default Conversation;\r\n","import React from 'react';\r\nimport { Box, Button, Container, IconButton, TextField } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined';\r\n\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        minHeight: 120,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(4),\r\n        '& p': {\r\n            fontSize: '1.375rem',\r\n        },\r\n    },\r\n    textContainer: {\r\n        width: '60%',\r\n        maxHeight: 100,\r\n        overflowY: 'auto',\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.6rem',\r\n            height: '12rem',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            boxShadow: 'inset 0 0 5px grey',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#ccc',\r\n        },\r\n    },\r\n    buttonContainer: {\r\n        width: '40%',\r\n    },\r\n    text: {\r\n        height: 100,\r\n        padding: 10,\r\n    },\r\n    iconAdornments: {\r\n        fontSize: '1.5rem',\r\n    },\r\n    sendButton: {\r\n        margin: theme.spacing(0, 3),\r\n        width: 110,\r\n    },\r\n}));\r\n\r\nconst MessageCreator = ({ groupId }) => {\r\n    const classes = useStyles();\r\n    const { profile } = useGlobalContext();\r\n    const { conversationManager } = useConversationContext();\r\n    const [workingText, setWorkingText] = React.useState('');\r\n\r\n    const sendMessage = () => {\r\n        const payload = {\r\n            profile: profile._id,\r\n            text: workingText,\r\n            image: profile.imageUrl,\r\n        };\r\n        conversationManager.sendMessageToGroup(groupId, payload);\r\n        setWorkingText('');\r\n    };\r\n\r\n    const handleChangeText = ev => {\r\n        setWorkingText(ev.target.value);\r\n    };\r\n\r\n    return (\r\n        <Container className={classes.container}>\r\n            <Box className={classes.textContainer}>\r\n                <TextField\r\n                    fullWidth={true}\r\n                    multiline={true}\r\n                    value={workingText}\r\n                    onChange={handleChangeText}\r\n                    placeholder=\"Type your message here\"\r\n                    InputProps={{\r\n                        classes: { input: classes.text },\r\n                        disableUnderline: true,\r\n                    }}\r\n                    onKeyUp={e => {\r\n                        if (e.key === 'Enter') sendMessage();\r\n                    }}\r\n                />\r\n            </Box>\r\n            <Box\r\n                display=\"flex\"\r\n                justifyContent=\"flex-end\"\r\n                className={classes.buttonContainer}\r\n            >\r\n                <IconButton>\r\n                    <SentimentSatisfiedOutlinedIcon className={classes.iconAdornments} />\r\n                </IconButton>\r\n                <IconButton>\r\n                    <InsertDriveFileOutlinedIcon className={classes.iconAdornments} />\r\n                </IconButton>\r\n                <Button\r\n                    className={classes.sendButton}\r\n                    variant=\"outlined\"\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                        sendMessage();\r\n                    }}\r\n                >\r\n                    Send\r\n                </Button>\r\n            </Box>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default MessageCreator;\r\n","export default __webpack_public_path__ + \"static/media/study_group.66e37f20.png\";","import React from 'react';\r\nimport { \r\n    Grid, \r\n    Typography, \r\n    Badge, \r\n    Divider, \r\n    Avatar } \r\nfrom '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport groupPicture from '../../images/study_group.png';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '100vh',\r\n            backgroundColor: '#FFF',\r\n            paddingTop: theme.spacing(6),\r\n        },\r\n    },\r\n    list_container: {\r\n        display: 'block',\r\n        height: 'calc(100vh - 100px)',\r\n        overflowY: 'auto',\r\n        [theme.breakpoints.down('sm')]: {\r\n            backgroundColor: '#FFF',\r\n        },\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.6rem',\r\n            height: '12rem',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            boxShadow: 'inset 0 0 5px grey',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#ccc',\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'auto',\r\n        },\r\n    },\r\n    chat_head: {\r\n        height: 120,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(4),\r\n        '& p': {\r\n            fontSize: '1.375rem',\r\n        },\r\n    },\r\n    badge: {\r\n        color: theme.palette.common.white,\r\n        paddingLeft: theme.spacing(4),\r\n        '& span': {\r\n            width: 40,\r\n            height: 24,\r\n            fontSize: '0.875rem',\r\n            background: theme.palette.primary.gradient,\r\n        },\r\n    },\r\n    small_badge: {\r\n        color: theme.palette.common.white,\r\n        '& span': {\r\n            width: 30,\r\n            height: 24,\r\n            fontSize: '0.7rem',\r\n            background: theme.palette.primary.gradient,\r\n        },\r\n    },\r\n    chat_list: {\r\n        height: 100,\r\n        flexWrap: 'nowrap',\r\n        alignItems: 'center',\r\n        '&:hover': {\r\n            backgroundColor: '#e6edff',\r\n        },\r\n    },\r\n    chat_list_active: {\r\n        height: 100,\r\n        flexWrap: 'nowrap',\r\n        alignItems: 'center',\r\n        backgroundColor: '#e6edff',\r\n        borderLeft: '7px solid #2967ff',\r\n    },\r\n    group_member: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        paddingLeft: theme.spacing(2),\r\n    },\r\n    avatar_container: {\r\n        marginLeft: theme.spacing(5),\r\n    },\r\n    avatar: {\r\n        height: 60,\r\n        width: 60,\r\n        borderRadius: 18,\r\n    },\r\n    group_name: {\r\n        fontSize: '1.125rem',\r\n        fontWeight: 500,\r\n    },\r\n    divider: {\r\n        opacity: 0.10414,\r\n        height: 1,\r\n        background: '#2967ff',\r\n    },\r\n}));\r\n\r\nconst ChatSidePanel = ({groups, selectedGroupChat, updateSelectedChat, notifications}) => {\r\n    const classes = useStyles();\r\n    const { dispatch } = useGlobalContext();\r\n\r\n    const handleChatList = (id) => {\r\n        updateSelectedChat(id)\r\n        dispatch({ type: 'CLOSE_DRAWER' });\r\n    };\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Grid container className={classes.list_container}>\r\n                <Grid item className={classes.chat_head}>\r\n                    <Typography>All Chats</Typography>\r\n                    <Badge badgeContent={Object.values(notifications).reduce((a, b) => a + b, 0)} className={classes.badge} />\r\n                </Grid>\r\n                <Divider className={classes.divider} />\r\n                {groups.map((g, index) => {\r\n                    return (\r\n                        <React.Fragment key={g._id}>\r\n                            <Grid\r\n                                item\r\n                                container\r\n                                className={\r\n                                    g._id === selectedGroupChat\r\n                                        ? classes.chat_list_active\r\n                                        : classes.chat_list\r\n                                }\r\n                                onClick={() => handleChatList(g._id)}\r\n                            >\r\n                                <Grid item className={classes.avatar_container}>\r\n                                    <Avatar\r\n                                        alt=\"chat_group_img\"\r\n                                        src={g.image ? g.image : groupPicture}\r\n                                        variant=\"rounded\"\r\n                                        className={classes.avatar}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item container className={classes.group_member}>\r\n                                    <Typography className={classes.group_name}>\r\n                                        {g.name}\r\n                                    </Typography>\r\n                                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                        {g.members.length} members\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={1}>\r\n                                    <Badge badgeContent={notifications[g._id]} className={classes.small_badge} />\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Divider className={classes.divider} />\r\n                        </React.Fragment>\r\n                    );\r\n                })}\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatSidePanel;\r\n","import React, { useState } from 'react';\r\nimport {\r\n    Avatar,\r\n    Box,\r\n    Container,\r\n    Divider,\r\n    Grid,\r\n    IconButton,\r\n    LinearProgress,\r\n    Typography,\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport { useGlobalContext, useConversationContext } from '../../context/studyappContext';\r\n\r\nimport Sidebar from '../../components/Profile/Sidebar';\r\nimport Conversation from '../../components/Chat/Conversation';\r\nimport MessageCreator from '../../components/Chat/MessageCreator';\r\nimport ChatSidePanel from './ChatSidePanel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        height: 'calc(100vh - 100px)',\r\n    },\r\n    contentContainer: {\r\n        backgroundColor: theme.palette.common.white,\r\n        display: 'block',\r\n        height: 'calc(100vh - 100px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'calc(100vh - 200px)',\r\n        },\r\n    },\r\n    divider: {\r\n        opacity: 0.10414,\r\n        height: 1,\r\n        background: '#2967ff',\r\n    },\r\n    chat_head: {\r\n        height: 120,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(4),\r\n        '& p': {\r\n            fontSize: '1.375rem',\r\n        },\r\n    },\r\n    members: {\r\n        opacity: 0.4\r\n    },\r\n    chat_pic: {\r\n        width: 80,\r\n        height: 80,\r\n        borderRadius: 18,\r\n        marginRight: theme.spacing(2)\r\n    },\r\n    dot_icon: {\r\n        fontSize: theme.spacing(5),\r\n        color: '#d8d8d8'\r\n    },\r\n}));\r\n\r\nconst Chat = () => {\r\n    const classes = useStyles();\r\n    const { userGroups } = useGlobalContext();\r\n    const {groups} = userGroups;\r\n    const [chatGroups, setChatGroups] = useState(null);\r\n    const [selectedGroupChat, setSelectedGroupChat] = useState(null);\r\n\r\n    const { conversationManager, notifications } = useConversationContext();\r\n    //notifications update triggers re-render so we can just get conversations\r\n    let conversations = conversationManager.getConversations();\r\n    \r\n    //clear notifications if chat is active \r\n    // safe to call because conversationManager.clearNotifications does not trigger update\r\n    // if 0 notifications\r\n    React.useEffect(() => {\r\n        if (chatGroups && selectedGroupChat) {\r\n            conversationManager.clearNotifications(selectedGroupChat);\r\n        }\r\n    }, [chatGroups, conversationManager, notifications, selectedGroupChat]); \r\n\r\n    //Sort chat groups when a new message comes in\r\n    React.useEffect(() => {\r\n        //Wait for groups and conversations to get populated\r\n        if (groups.length && Object.keys(conversations).length) {\r\n            const sorted = groups.sort((aGroup, bGroup) => {\r\n                //Check conversations actually contain group._id\r\n                if (conversations[aGroup._id] && conversations[bGroup._id]) {\r\n                    const aMessages = conversations[aGroup._id].messages;\r\n                    const bMessages = conversations[bGroup._id].messages;\r\n        \r\n                    const aMostRecent = \r\n                        aMessages.length === 0 ? 0 : aMessages[aMessages.length - 1].timeStamp;\r\n                    const bMostRecent = \r\n                        bMessages.length === 0 ? 0 : bMessages[bMessages.length - 1].timeStamp;\r\n                    return bMostRecent - aMostRecent;\r\n                }\r\n                return 0\r\n            })\r\n            setSelectedGroupChat(s => s || sorted[0]._id);\r\n            setChatGroups([...sorted]);\r\n        }\r\n    }, [groups, conversations, notifications]);\r\n\r\n    if (!chatGroups || !selectedGroupChat) return <LinearProgress />\r\n    const selectedGroup = chatGroups.find(g => g._id === selectedGroupChat);\r\n    return (\r\n        <Grid container className={classes.container}>\r\n            <Sidebar>\r\n                <ChatSidePanel \r\n                    groups={chatGroups} \r\n                    selectedGroupChat={selectedGroupChat} \r\n                    updateSelectedChat={setSelectedGroupChat} \r\n                    notifications={notifications}\r\n                />\r\n            </Sidebar>\r\n            <Grid item container sm={12} md={9} className={classes.contentContainer}>\r\n            {\r\n                chatGroups.length && \r\n                selectedGroup && \r\n                conversations[selectedGroupChat] && \r\n                <>\r\n                    <Container className={classes.chat_head}>\r\n                        <Avatar\r\n                            variant='square'\r\n                            className={classes.chat_pic} \r\n                            src={selectedGroup.image}\r\n                        />\r\n                        <Box flexGrow={1} flexDirection='column'>\r\n                            <Typography variant='h5'>{selectedGroup.name}</Typography>\r\n                            <Typography className={classes.members} variant='h6'>\r\n                                {selectedGroup.members.length + ' Members'}\r\n                            </Typography>\r\n                        </Box>\r\n                        <IconButton>\r\n                            <MoreHorizIcon className={classes.dot_icon} />\r\n                        </IconButton>\r\n                    </Container>\r\n                    <Divider className={classes.divider}/>\r\n                    <Conversation \r\n                        notifications={notifications} \r\n                        messages={conversations[selectedGroupChat].messages}\r\n                    />\r\n                    <Divider className={classes.divider}/>\r\n                    <MessageCreator groupId={selectedGroupChat}/>\r\n                </>\r\n            }\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Chat;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport defaultPostPicture from '../../images/study_group.png';\r\nimport { msToTimeAgo } from '../../utils/convertTimeStamps';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(2),\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        borderRadius: 15,\r\n    },\r\n    actionArea: {\r\n        height: 120,\r\n        display: 'grid',\r\n        gridTemplateColumns: '120px 1fr',\r\n        alignItems: 'center',\r\n    },\r\n    cardInfo: {\r\n        display: 'grid',\r\n        gridTemplateRows: '1fr',\r\n        justify: 'space-between',\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    cardImage: {\r\n        width: 100,\r\n        height: 100,\r\n        justifySelf: 'center',\r\n        borderRadius: '10px',\r\n    },\r\n    cardTitle: {\r\n        fontWeight: 'bold',\r\n        fontSize: '1.375rem',\r\n        [theme.breakpoints.down('sm')]: {\r\n            fontSize: '1.25rem',\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            fontWeight: 'normal',\r\n            fontSize: '1rem',\r\n        },\r\n    },\r\n    cardDesc: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    postedBy: {\r\n        color: '#2968FF',\r\n    },\r\n    postDateInfo: {\r\n        paddingTop: 10,\r\n    },\r\n}));\r\n\r\nconst PostCard = ({ post, updateActivePost }) => {\r\n    console.log(post);\r\n    const classes = useStyles();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(false);\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                align=\"center\"\r\n                alignItems=\"center\"\r\n            >\r\n                <CircularProgress size={100} color=\"secondary\" />\r\n            </Grid>\r\n        );\r\n    }\r\n\r\n    const updatePostId = () => {\r\n        updateActivePost(post._id);\r\n    };\r\n\r\n    return (\r\n        <Card className={classes.root} variant=\"outlined\" onClick={updatePostId}>\r\n            <CardActionArea className={classes.actionArea}>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    alt=\"alt img\"\r\n                    height=\"140\"\r\n                    image={post.postAvatar ? post.postAvatar : defaultPostPicture}\r\n                    title={post.title}\r\n                    className={classes.cardImage}\r\n                />\r\n                <CardContent className={classes.cardInfo}>\r\n                    <div>\r\n                        <Typography className={classes.cardTitle}>\r\n                            {post.title}\r\n                        </Typography>\r\n                    </div>\r\n                    <div className={classes.postDateInfo}>\r\n                        <span className={classes.cardDesc}>\r\n                            Posted {post.postDate} by{' '}\r\n                        </span>\r\n                        <span className={classes.postedBy}>{post.name}</span>\r\n                    </div>\r\n                </CardContent>\r\n            </CardActionArea>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default PostCard;\r\n","export default __webpack_public_path__ + \"static/media/upload_placeholder.78ec9a74.png\";","import React, { useState, useMemo, useCallback } from 'react';\r\nimport {\r\n    Grid,\r\n    Button,\r\n    InputLabel,\r\n    TextField,\r\n    Divider,\r\n    Typography,\r\n    Box,\r\n    Tooltip,\r\n    FormHelperText,\r\n} from '@material-ui/core';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport {\r\n    baseStyle,\r\n    activeStyle,\r\n    acceptStyle,\r\n    rejectStyle,\r\n} from '../DragzonePicture.styles';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport axios from 'axios';\r\nimport defaultPostPicture from '../../images/upload_placeholder.png';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    divider: {\r\n        margin: theme.spacing(2, 0),\r\n    },\r\n    input: {\r\n        width: '100%',\r\n        paddingBottom: theme.spacing(2),\r\n    },\r\n    label: {\r\n        paddingBottom: theme.spacing(1),\r\n    },\r\n    title: {\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    button: {\r\n        width: '100%',\r\n    },\r\n    close: {\r\n        height: 2.5,\r\n    },\r\n}));\r\n\r\nconst AddPostDialog = ({ handleCloseNewPost }) => {\r\n    const classes = useStyles();\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [uploading, setUploading] = useState(false);\r\n    const { forumId } = useGlobalContext();\r\n\r\n    // const hardCodedForumId = '6012462f4f758023244df285';\r\n\r\n    const onDrop = useCallback(async droppedFiles => {\r\n        if (droppedFiles.length) {\r\n            setUploading(true);\r\n\r\n            const form = new FormData();\r\n            form.append('image', droppedFiles[0]);\r\n            const res = await axios\r\n                .post('/upload/single', form)\r\n                .catch(err => console.log(err));\r\n            if (res && res.data) {\r\n                setImageUrl(res.data.imageUrl);\r\n                setUploading(false);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    // const createNewPostData = () => {\r\n    //     createNewPost(forumId);\r\n    // };\r\n\r\n    const createNewPost = async () => {\r\n        try {\r\n            const res = await axios.post(`forum/post/${forumId}`, {\r\n                text: description,\r\n                title: title,\r\n                postAvatar: imageUrl,\r\n            });\r\n            setTitle('');\r\n            setDescription('');\r\n            setImageUrl('');\r\n            handleCloseNewPost(res.data);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const { getRootProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\r\n        onDrop,\r\n        maxFiles: 1,\r\n        accept: 'image/*',\r\n    });\r\n    const style = useMemo(\r\n        () => ({\r\n            ...baseStyle,\r\n            ...(isDragActive ? activeStyle : {}),\r\n            ...(isDragAccept ? acceptStyle : {}),\r\n            ...(isDragReject ? rejectStyle : {}),\r\n        }),\r\n        [isDragActive, isDragReject, isDragAccept]\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <Grid item>\r\n                <Button\r\n                    onClick={handleCloseNewPost}\r\n                    color=\"primary\"\r\n                    className={classes.close}\r\n                >\r\n                    <CloseIcon />\r\n                </Button>\r\n                <Typography\r\n                    variant=\"h2\"\r\n                    id=\"modal-title\"\r\n                    align=\"center\"\r\n                    className={classes.title}\r\n                >\r\n                    Add Forum Post\r\n                </Typography>\r\n                <Typography variant=\"h4\" id=\"modal-description\" align=\"center\">\r\n                    Create a post for students in your course!\r\n                </Typography>\r\n                <Divider className={classes.divider} />\r\n            </Grid>\r\n\r\n            <Grid item container justify=\"center\">\r\n                <form>\r\n                    <Grid item>\r\n                        <InputLabel className={classes.label}>Post Title</InputLabel>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            onChange={e => setTitle(e.target.value)}\r\n                            className={classes.input}\r\n                            placeholder=\"Add a title..\"\r\n                            value={title}\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n                        <InputLabel className={classes.label}>\r\n                            Post Description\r\n                        </InputLabel>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            id=\"outlined-multiline-static\"\r\n                            multiline\r\n                            rows={4}\r\n                            onChange={e => setDescription(e.target.value)}\r\n                            className={classes.input}\r\n                            placeholder=\"Add a description..\"\r\n                            value={description}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Box className={classes.imageContainer}>\r\n                            <FormHelperText className={classes.label}>\r\n                                Drag and drop post picture{' '}\r\n                            </FormHelperText>\r\n                            <Tooltip\r\n                                title=\"Drag and drop post picture\"\r\n                                arrow\r\n                                placement=\"right\"\r\n                            >\r\n                                <Box {...getRootProps({ style })}>\r\n                                    <img\r\n                                        src={imageUrl ? imageUrl : defaultPostPicture}\r\n                                        className={classes.large}\r\n                                        alt=\"Post\"\r\n                                    />\r\n                                </Box>\r\n                            </Tooltip>\r\n                        </Box>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button\r\n                            color=\"primary\"\r\n                            startIcon={<AddIcon />}\r\n                            onClick={createNewPost}\r\n                            className={classes.button}\r\n                        >\r\n                            Create Post\r\n                        </Button>\r\n                    </Grid>\r\n                </form>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPostDialog;\r\n","import React from 'react';\r\nimport { Typography, Grid, Avatar } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    avatar: {\r\n        height: '75px',\r\n        width: '75px',\r\n        margin: theme.spacing(1, 0),\r\n    },\r\n    commentText: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    divider: {\r\n        margin: theme.spacing(2),\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\nconst Comments = ({ comment }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.comment}>\r\n            {' '}\r\n            <Grid container item justify=\"flex-start\">\r\n                <Grid\r\n                    item\r\n                    container\r\n                    direction=\"column\"\r\n                    alignItems=\"center\"\r\n                    justify=\"center\"\r\n                    xs={2}\r\n                >\r\n                    <Grid item>\r\n                        {comment.avatar ? (\r\n                            <Avatar\r\n                                alt={comment.name}\r\n                                src={comment.avatar}\r\n                                className={classes.avatar}\r\n                            />\r\n                        ) : (\r\n                            <Avatar className={classes.avatar}>\r\n                                <PersonAddIcon className={classes.avatar} />\r\n                            </Avatar>\r\n                        )}\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Typography variant=\"h4\">{comment.name}</Typography>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={10}>\r\n                    <Typography className={classes.commentText}>\r\n                        {comment.text}\r\n                    </Typography>\r\n                </Grid>\r\n                {/* <Divider className={classes.divider} /> */}\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Comments;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    Divider,\r\n    Box,\r\n    IconButton,\r\n    Avatar,\r\n    CircularProgress,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ForwardIcon from '@material-ui/icons/Forward';\r\nimport ForwardOutlinedIcon from '@material-ui/icons/ForwardOutlined';\r\nimport Comments from '../Posts/Comments';\r\nimport axios from 'axios';\r\nimport defaultPostPicture from '../../images/study_group.png';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    title: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    close: {\r\n        height: 2.5,\r\n    },\r\n    upvote: {\r\n        transform: 'rotate(-90deg)',\r\n        height: '2rem',\r\n        width: '2rem',\r\n    },\r\n    divider: {\r\n        margin: theme.spacing(2, 0),\r\n        width: '100%',\r\n    },\r\n    input: {\r\n        margin: theme.spacing(2, 0),\r\n    },\r\n    avatar: {\r\n        height: '75px',\r\n        width: '75px',\r\n        margin: theme.spacing(1),\r\n        border: '2px solid #2968FF',\r\n    },\r\n    circular: {\r\n        height: '200px',\r\n        width: '200px',\r\n    },\r\n    postText: {\r\n        padding: theme.spacing(1, 0, 1, 5),\r\n    },\r\n    button: {\r\n        height: 117,\r\n    },\r\n}));\r\n\r\nconst PostDialog = ({ handleClosePost, activePostId }) => {\r\n    const classes = useStyles();\r\n    const [comments, setComments] = useState([]);\r\n    const [newComment, setNewComment] = useState('');\r\n    const [avatarUrl, setAvatarUrl] = useState();\r\n    const [userAvatar, setUserAvatar] = useState();\r\n    const [title, setTitle] = useState();\r\n    const [postText, setPostText] = useState();\r\n    const [upvoted, setUpvoted] = React.useState(false);\r\n\r\n    const toggleVote = () => {\r\n        setUpvoted(!upvoted);\r\n    };\r\n\r\n    const getPostData = async () => {\r\n        try {\r\n            const res = await axios.get(`/forum/post/${activePostId}`);\r\n            setTitle(res.data.post.title);\r\n            setPostText(res.data.post.text);\r\n            setAvatarUrl(res.data.post.postAvatar);\r\n            setUserAvatar(res.data.post.userAvatar)\r\n            setComments(res.data.post.comments);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        getPostData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [activePostId]);\r\n\r\n    const addComment = async () => {\r\n        const res = await axios.post(`forum/post/comment/${activePostId}`, {\r\n            text: newComment,\r\n        });\r\n        const updatedComments = [...comments, res.data.comment];\r\n        setComments(updatedComments);\r\n        setNewComment('');\r\n    };\r\n\r\n    if (!title)\r\n        return (\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                align=\"center\"\r\n                alignItems=\"center\"\r\n                className={classes.circular}\r\n            >\r\n                {/* <LinearProgress /> */}\r\n                <CircularProgress size={100} color=\"secondary\" />\r\n            </Grid>\r\n        );\r\n    return (\r\n        <div>\r\n            <Grid item container direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                <Grid item container direction=\"column\" alignItems=\"center\">\r\n                    <Grid\r\n                        item\r\n                        xs={12}\r\n                        container\r\n                        justify=\"space-between\"\r\n                        alignItems=\"baseline\"\r\n                    >\r\n                        <Grid item xs={1}>\r\n                            <Button\r\n                                onClick={handleClosePost}\r\n                                color=\"primary\"\r\n                                className={classes.close}\r\n                            >\r\n                                <CloseIcon />\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item xs={10}>\r\n                            {/* Title */}\r\n                            <Typography\r\n                                variant=\"h1\"\r\n                                align=\"center\"\r\n                                id=\"form-dialog-title\"\r\n                                className={classes.title}\r\n                            >\r\n                                {title}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={1}></Grid>\r\n                    </Grid>\r\n\r\n                    <Divider className={classes.divider} />\r\n                    {/* Image container */}\r\n                    <Grid item container xs={12} justify=\"center\">\r\n                        <Grid item>\r\n                            <img src={avatarUrl ? avatarUrl : defaultPostPicture} alt=\"Post\" />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Box className={classes.imageContainer}></Box>\r\n\r\n                    <Divider className={classes.divider} />\r\n                    {/* Post text body */}\r\n                    <Grid item container xs={12} alignItems=\"center\">\r\n                        <Grid item xs={1}>\r\n                            <Avatar className={classes.avatar} src={userAvatar}></Avatar>\r\n                        </Grid>\r\n                        <Grid item xs={10}>\r\n                            <Typography className={classes.postText}>\r\n                                {postText}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={1}>\r\n                            <IconButton aria-label=\"upvote\" onClick={toggleVote}>\r\n                                {upvoted ? (\r\n                                    <ForwardIcon\r\n                                        color=\"secondary\"\r\n                                        className={classes.upvote}\r\n                                    />\r\n                                ) : (\r\n                                    <ForwardOutlinedIcon\r\n                                        color=\"secondary\"\r\n                                        className={classes.upvote}\r\n                                    />\r\n                                )}\r\n                            </IconButton>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Divider className={classes.divider} />\r\n                    {/* Comments loop container */}\r\n                    <Grid item container xs={12} justify=\"center\">\r\n                        <Grid item xs={1}></Grid>\r\n                        <Grid item xs={9} container direction=\"column\">\r\n                            {comments.map(comment => (\r\n                                <Grid item>\r\n                                    <Comments key={comment._id} comment={comment} />\r\n                                </Grid>\r\n                            ))}\r\n                        </Grid>\r\n                        <Grid item xs={1}></Grid>\r\n                        <Grid\r\n                            item\r\n                            container\r\n                            xs={12}\r\n                            alignItems=\"center\"\r\n                            justify=\"center\"\r\n                            spacing={1}\r\n                        >\r\n                            <Grid item xs={10}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    autoFocus\r\n                                    label=\"Comment on post\"\r\n                                    type=\"text\"\r\n                                    multiline\r\n                                    rows={4}\r\n                                    rowsMax={4}\r\n                                    color=\"secondary\"\r\n                                    fullWidth\r\n                                    className={classes.input}\r\n                                    value={newComment}\r\n                                    onChange={e => setNewComment(e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={2}>\r\n                                <Button\r\n                                    color=\"secondary\"\r\n                                    variant=\"outlined\"\r\n                                    onClick={addComment}\r\n                                    className={classes.button}\r\n                                    fullWidth\r\n                                    // disabled={}\r\n                                >\r\n                                    Add Comment\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\nexport default PostDialog;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { Button, Grid, Typography, Divider } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport PostCard from './PostCard';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddPostDialog from './AddPostDialog';\r\nimport ForumDialog from './ForumDialog';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    headerContainer: {\r\n        height: 150,\r\n    },\r\n    headerText: {\r\n        paddingLeft: '2em',\r\n        [theme.breakpoints.down('xs')]: {\r\n            paddingLeft: 8,\r\n        },\r\n    },\r\n    divider: {\r\n        margin: theme.spacing(1, 0),\r\n        width: '100%',\r\n    },\r\n    cardContainer: {\r\n        maxWidth: '100%',\r\n    },\r\n    button: {\r\n        width: 150,\r\n        marginRight: theme.spacing(3),\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n    postCard: {\r\n        maxWidth: '100%',\r\n        padding: theme.spacing(0, 10, 0, 10),\r\n        [theme.breakpoints.down('xs')]: {\r\n            padding: theme.spacing(0, 1, 0, 1),\r\n        },\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        marginTop: '75px',\r\n        padding: theme.spacing(3),\r\n    },\r\n    cardTitle: {\r\n        fontWeight: 'bold',\r\n        fontSize: '1.375rem',\r\n        [theme.breakpoints.down('sm')]: {\r\n            fontSize: '1rem',\r\n        },\r\n    },\r\n    imageContainer: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(1, 0),\r\n        maxWidth: 500,\r\n        maxHeight: 500,\r\n    },\r\n    close: {\r\n        height: 2.5,\r\n    },\r\n    upvote: {\r\n        transform: 'rotate(-90deg)',\r\n        height: '2rem',\r\n        width: '2rem',\r\n    },\r\n    input: {\r\n        margin: theme.spacing(2, 0),\r\n    },\r\n    emptyMessage: {\r\n        marginTop: theme.spacing(4),\r\n    },\r\n}));\r\n\r\nconst ForumContent = ({ name, groupId }) => {\r\n    const classes = useStyles();\r\n    const [openPost, setOpenPost] = React.useState(false);\r\n    const [openNewPost, setOpenNewPost] = React.useState(false);\r\n    const [activePostId, setActivePostId] = React.useState('');\r\n\r\n    //  Calling will open new post dialog\r\n    const handleOpenNewPost = () => {\r\n        setOpenNewPost(true);\r\n    };\r\n    // Calling will close new post dialog\r\n    const handleCloseNewPost = newPost => {\r\n        if (newPost._id) {\r\n            setForumPosts([newPost, ...forumPosts]);\r\n        }\r\n        setOpenNewPost(false);\r\n    };\r\n    // Calling will open dialog\r\n    const handleOpenPost = () => {\r\n        setOpenPost(true);\r\n    };\r\n    // Calling will close dialog\r\n    const handleClosePost = () => {\r\n        setOpenPost(false);\r\n    };\r\n    // Updates setActivePost to the corresponding clicked card and opens dialog.\r\n    const updateActivePost = postId => {\r\n        setActivePostId(postId);\r\n        handleOpenPost();\r\n    };\r\n\r\n    const [forumPosts, setForumPosts] = useState([]);\r\n\r\n    const getGroupForum = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`/forum/${groupId}`);\r\n            setForumPosts(response.data.posts);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }, [groupId]);\r\n\r\n    useEffect(() => {\r\n        getGroupForum(groupId);\r\n    }, [getGroupForum, groupId]);\r\n\r\n    const renderForumPosts = () => {\r\n        if (forumPosts.length) {\r\n            return forumPosts.map(post => (\r\n                <PostCard\r\n                    key={post._id}\r\n                    post={post}\r\n                    updateActivePost={updateActivePost}\r\n                />\r\n            ));\r\n        } else {\r\n            return (\r\n                <Typography variant=\"h4\" className={classes.emptyMessage}>\r\n                    There appears to be no posts. Get the conversation started by clicking\r\n                    add post above!\r\n                </Typography>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Grid container direction=\"column\" alignContent=\"center\" item sm={12}>\r\n            <Grid\r\n                item\r\n                container\r\n                justify=\"space-between\"\r\n                alignItems=\"center\"\r\n                className={classes.headerContainer}\r\n            >\r\n                <Grid item>\r\n                    <Typography variant=\"h1\" className={classes.headerText}>\r\n                        {name}\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                <Grid item container sm={3}>\r\n                    <Button\r\n                        className={classes.button}\r\n                        onClick={handleOpenNewPost}\r\n                        variant=\"text\"\r\n                        color=\"primary\"\r\n                        type=\"button\"\r\n                        startIcon={<AddIcon />}\r\n                    >\r\n                        Add Post\r\n                    </Button>\r\n                    {/* New post dialog */}\r\n                    <Dialog\r\n                        open={openNewPost}\r\n                        onClose={handleCloseNewPost}\r\n                        aria-labelledby=\"form-dialog-title\"\r\n                        className={classes.dialog}\r\n                        maxWidth=\"md\"\r\n                    >\r\n                        <DialogContent>\r\n                            <AddPostDialog handleCloseNewPost={handleCloseNewPost} />\r\n                        </DialogContent>\r\n                    </Dialog>\r\n                </Grid>\r\n            </Grid>\r\n            <Divider className={classes.divider} />\r\n\r\n            <Grid\r\n                item\r\n                container\r\n                sm={8}\r\n                justify=\"flex-start\"\r\n                direction=\"column\"\r\n                className={classes.cardContainer}\r\n            >\r\n                <Grid item className={classes.postCard}>\r\n                    {renderForumPosts()}\r\n                </Grid>\r\n                {/* View Post Dialog */}\r\n                <Dialog\r\n                    open={openPost}\r\n                    onClose={handleClosePost}\r\n                    aria-labelledby=\"form-dialog-title\"\r\n                    className={classes.dialog}\r\n                    maxWidth=\"lg\"\r\n                >\r\n                    <DialogContent>\r\n                        <ForumDialog\r\n                            handleClosePost={handleClosePost}\r\n                            activePostId={activePostId}\r\n                        />\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ForumContent;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Grid, Typography, Badge, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport axios from 'axios';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '100vh',\r\n            backgroundColor: '#FFF',\r\n            paddingTop: theme.spacing(6),\r\n        },\r\n    },\r\n    chat_head: {\r\n        height: 120,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(4),\r\n        '& p': {\r\n            fontSize: '1.375rem',\r\n        },\r\n    },\r\n    badge: {\r\n        color: theme.palette.common.white,\r\n        paddingLeft: theme.spacing(4),\r\n        '& span': {\r\n            width: 40,\r\n            height: 24,\r\n            fontSize: '0.875rem',\r\n            background: theme.palette.primary.gradient,\r\n        },\r\n    },\r\n    accordion: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    accordion_container: {\r\n        display: 'block',\r\n        width: '85%',\r\n        backgroundColor: '#e6edff',\r\n        margin: theme.spacing(0, 5, 2, 4),\r\n        padding: theme.spacing(2.5),\r\n        borderRadius: 8,\r\n    },\r\n    course_name: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        '& p': {\r\n            fontSize: '1.125rem',\r\n        },\r\n    },\r\n    icons: {\r\n        color: '#2968ff',\r\n        fontSize: '1.375rem',\r\n    },\r\n    group_list: {\r\n        color: '#2574FF',\r\n        cursor: 'pointer',\r\n        marginTop: 16,\r\n        fontSize: '0.9375rem',\r\n    },\r\n}));\r\n\r\nconst ForumSidePanel = ({ onGroupUpdate }) => {\r\n    const classes = useStyles();\r\n    const { profile, dispatch } = useGlobalContext();\r\n\r\n    const [courseList, setCourseList] = useState([]);\r\n    const [courseId, setCourseId] = useState([]);\r\n    const firstUpdate = useRef(true);\r\n\r\n    const getGroups = async () => {\r\n        try {\r\n            const res = await axios.get('/user/groups/');\r\n            const newCourseList = [...res.data].map((cgl, index) => {\r\n                if (index === 0) {\r\n                    setCourseId([cgl._id]);\r\n                    return { ...cgl, expand: true };\r\n                } else {\r\n                    return { ...cgl, expand: false };\r\n                }\r\n            });\r\n            setCourseList(newCourseList);\r\n   \r\n            if (firstUpdate.current) {\r\n                dispatch({\r\n                    type: 'FORUM_ID',\r\n                    payload: res.data[0].groups[0].forum,\r\n                });\r\n                onGroupUpdate(res.data[0].groups[0].name, res.data[0].groups[0]._id);\r\n                firstUpdate.current = false;\r\n                return;\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n    \r\n    useEffect(() => {\r\n        getGroups();\r\n      }, []);\r\n    \r\n\r\n    const showGroup = id => {\r\n        setCourseId([...courseId, id]);\r\n        const editedCourseList = courseList.map(cl => {\r\n            if (cl._id === id && !cl.expand) return { ...cl, expand: true };\r\n            if (cl._id === id && cl.expand) return { ...cl, expand: false };\r\n            else return { ...cl };\r\n        });\r\n      \r\n        setCourseList(editedCourseList);\r\n    };\r\n\r\n    const handleDrawerClose = (name, groupId) => {\r\n        onGroupUpdate(name, groupId);\r\n        dispatch({ type: 'CLOSE_DRAWER' });\r\n    };\r\n\r\n    return (\r\n        <Grid className={classes.container}>\r\n            <Grid item className={classes.chat_head}>\r\n                <Typography>My Courses</Typography>\r\n                <Badge badgeContent={courseList.length} className={classes.badge} />\r\n            </Grid>\r\n            <Grid item className={classes.accordion}>\r\n                {courseList.map(cgl => {\r\n                    let groupList = null;\r\n                    const isIdThere = courseId.some(id => cgl._id === id);\r\n                    if (cgl.expand && isIdThere)\r\n                        groupList = cgl.groups.map(group => {\r\n                            if(group.members.includes(profile.user._id)) {\r\n                                return (\r\n                                    <Typography\r\n                                        key={group._id}\r\n                                        className={classes.group_list}\r\n                                        onClick={() => {\r\n                                            dispatch({\r\n                                                type: 'FORUM_ID',\r\n                                                payload: group.forum,\r\n                                            });\r\n                                            //console.log(group.name)\r\n                                            handleDrawerClose(group.name, group._id);\r\n                                        }}\r\n                                    >\r\n                                        {group.name}\r\n                                    </Typography>\r\n                                );\r\n\r\n                            }\r\n                            \r\n                        });\r\n                    return (\r\n                        <div key={cgl._id} className={classes.accordion_container}>\r\n                            <Grid className={classes.course_name}>\r\n                                <Typography>{cgl.name}</Typography>\r\n                                <Button onClick={() => showGroup(cgl._id)}>\r\n                                    {cgl.expand && isIdThere ? (\r\n                                        <RemoveIcon className={classes.icons} />\r\n                                    ) : (\r\n                                        <AddIcon className={classes.icons} />\r\n                                    )}\r\n                                </Button>\r\n                            </Grid>\r\n                            <div>{groupList}</div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ForumSidePanel;\r\n","import { Grid } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Sidebar from '../../components/Profile/Sidebar';\r\nimport ForumContent from '../../components/Forum/ForumContent';\r\nimport ForumSidePanel from './ForumSidePanel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        height: 'calc(100vh - 100px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'auto',\r\n        },\r\n    },\r\n    contentContainer: {\r\n        backgroundColor: theme.palette.common.white,\r\n    },\r\n}));\r\n\r\nconst Forum = () => {\r\n    const classes = useStyles();\r\n    const [selectedGroup, setSelectedGroup] = useState('');\r\n    const [selectedGroupId, setSelectedGroupId] = useState('');\r\n\r\n    const updateSelectedGroup = (group, groupId) => {\r\n        setSelectedGroup(group);\r\n        setSelectedGroupId(groupId);\r\n    }\r\n\r\n    return (\r\n        <Grid container className={classes.container}>\r\n            <Sidebar>\r\n                <ForumSidePanel onGroupUpdate={updateSelectedGroup} />\r\n            </Sidebar>\r\n            <Grid item container sm={12} md={9} className={classes.contentContainer}>\r\n                <ForumContent name={selectedGroup} groupId={selectedGroupId} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Forum;\r\n","\r\nexport const baseStyle = {\r\n    borderWidth: 3,\r\n    borderRadius: 5,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'solid',\r\n    backgroundColor: '#d8d8d8',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n};\r\n  \r\nexport const activeStyle = {\r\n    borderColor: '#2196f3'\r\n};\r\n  \r\nexport const acceptStyle = {\r\n    borderColor: '#00e676'\r\n};\r\n  \r\nexport const rejectStyle = {\r\n    borderColor: '#ff1744'\r\n};\r\n","import React from 'react';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    Card,\r\n    CardContent,\r\n    CardMedia,\r\n    CardActions,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport PeopleAltOutlinedIcon from '@material-ui/icons/PeopleAltOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport groupPicture from '../../images/study_group.png';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    card: {\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    cardMedia: {\r\n        paddingTop: '60%',\r\n    },\r\n    cardContent: {\r\n        flexGrow: 1,\r\n    },\r\n    button: {\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\n//format group user count\r\nconst formatGroupCount = num => {\r\n    if (num >= 1000000000) {\r\n        return (num / 1000000000).toFixed(1).replace(/\\.0$/, '') + 'G';\r\n    }\r\n    if (num >= 1000000) {\r\n        return (num / 1000000).toFixed(1).replace(/\\.0$/, '') + 'M';\r\n    }\r\n    if (num >= 1000) {\r\n        return (num / 1000).toFixed(1).replace(/\\.0$/, '') + 'K';\r\n    }\r\n    return num;\r\n};\r\n\r\nconst GroupCard = props => {\r\n    const classes = useStyles();\r\n    const [isUpdating, setIsUpdating] = React.useState(false);\r\n\r\n    return (\r\n        <Grid item xs={12} sm={6} md={4}>\r\n            <Card className={classes.card}>\r\n                <CardMedia\r\n                    className={classes.cardMedia}\r\n                    image={props.data.image || groupPicture}\r\n                    title={props.data.name}\r\n                />\r\n                <CardContent className={classes.cardContent}>\r\n                    <Typography gutterBottom variant=\"h6\" style={{ fontWeight: 600 }}>\r\n                        {props.data.name}\r\n                    </Typography>\r\n                    <Grid container direction=\"row\" style={{ paddingTop: '10px' }}>\r\n                        <PeopleAltOutlinedIcon color=\"disabled\" fontSize=\"small\" />\r\n                        <Typography\r\n                            variant=\"body1\"\r\n                            color=\"textSecondary\"\r\n                            style={{ paddingLeft: '5px' }}\r\n                        >\r\n                            {formatGroupCount(props.data.members.length)} members\r\n                        </Typography>\r\n                    </Grid>\r\n                </CardContent>\r\n                <CardActions\r\n                    onClick={async () => {\r\n                        setIsUpdating(true);\r\n                        await props.handleCardPress(props.data._id);\r\n                    }}\r\n                >\r\n                    <Button\r\n                        disabled={isUpdating}\r\n                        className={classes.button}\r\n                        color=\"primary\"\r\n                    >\r\n                        {props.actionText}\r\n                    </Button>\r\n                </CardActions>\r\n            </Card>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default GroupCard;\r\n","import React, { useState, useMemo, useCallback } from 'react';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    Container,\r\n    Button,\r\n    Modal,\r\n    FormHelperText,\r\n    MenuItem,\r\n    Select,\r\n    TextField,\r\n} from '@material-ui/core';\r\nimport {\r\n    baseStyle,\r\n    activeStyle,\r\n    acceptStyle,\r\n    rejectStyle,\r\n} from '../../components/Group/GroupPicture.styles';\r\nimport { Tooltip, Box } from '@material-ui/core';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport GroupCard from '../../components/Group/GroupCard';\r\nimport defaultImage from '../../images/upload_placeholder.png';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    cardGrid: {\r\n        paddingTop: theme.spacing(8),\r\n        paddingBottom: theme.spacing(8),\r\n    },\r\n    button: {\r\n        marginTop: '60px',\r\n        marginRight: '60px',\r\n        textTransform: 'none',\r\n    },\r\n    paper: {\r\n        position: 'fixed',\r\n        width: 475,\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n        borderRadius: 4,\r\n        outline: 'none',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: `translate(-50%, -50%)`,\r\n    },\r\n    groupImageContainer: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingTop: '10px',\r\n        paddingBottom: '10px',\r\n    },\r\n    large: {\r\n        height: '300px',\r\n        width: '400px',\r\n    },\r\n    uploading: {\r\n        opacity: 0.5,\r\n        height: '300px',\r\n        width: '400px',\r\n    },\r\n}));\r\n\r\nconst Groups = () => {\r\n    const classes = useStyles();\r\n    const { conversationManager } = useConversationContext();\r\n    const { userGroups, userCourse, dispatch } = useGlobalContext();\r\n    const { groups, courseGroups } = userGroups;\r\n    const [suggestedGroups, setSuggestedGroups] = useState([]);\r\n\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [openModal, setOpen] = useState(false);\r\n    const [groupError, setGroupErrors] = useState('');\r\n    const [uploading, setUploading] = useState(false);\r\n    const [groupPicture, setGroupPicture] = useState('');\r\n    const [groupName, setGroupName] = useState('');\r\n    const [groupNameValid, setGroupNameValid] = useState('');\r\n    const [courseId, setCourseId] = useState('');\r\n\r\n    const onDrop = useCallback(async droppedFiles => {\r\n        if (droppedFiles.length) {\r\n            setUploading(true);\r\n\r\n            const form = new FormData();\r\n            form.append('image', droppedFiles[0]);\r\n            const res = await axios\r\n                .post('/upload/single', form)\r\n                .catch(err => console.log(err));\r\n            if (res && res.data) {\r\n                setGroupPicture(res.data.imageUrl);\r\n                setUploading(false);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const { getRootProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\r\n        onDrop,\r\n        maxFiles: 1,\r\n        accept: 'image/*',\r\n    });\r\n\r\n    const style = useMemo(\r\n        () => ({\r\n            ...baseStyle,\r\n            ...(isDragActive ? activeStyle : {}),\r\n            ...(isDragAccept ? acceptStyle : {}),\r\n            ...(isDragReject ? rejectStyle : {}),\r\n        }),\r\n        [isDragActive, isDragReject, isDragAccept]\r\n    );\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n        setGroupPicture('');\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        setGroupPicture('');\r\n        setGroupName('');\r\n        setGroupErrors('');\r\n    };\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n\r\n        if (isFormValid()) {\r\n            const data = {\r\n                groupName: groupName,\r\n                imageUrl: groupPicture,\r\n                courseId: courseId,\r\n            };\r\n\r\n            const response = await axios.post('/user/groups', data);\r\n            \r\n            setGroupName('');\r\n            setCourseId('');\r\n            setGroupPicture('');\r\n\r\n            if (response.data) {\r\n                groups.push(response.data.data);\r\n                await actions.fetchUserGroups(groups)(dispatch);\r\n\r\n                conversationManager.updateRooms(groups);\r\n\r\n                enqueueSnackbar('Group Created Successfully.', {\r\n                    variant: 'success',\r\n                    autoHideDuration: '5000',\r\n                });\r\n                setOpen(false);\r\n            } else {\r\n                enqueueSnackbar('Error Creating Group.', {\r\n                    variant: 'Error',\r\n                    autoHideDuration: '5000',\r\n                });\r\n            }\r\n        } else {\r\n            enqueueSnackbar('Error Creating Group.', {\r\n                variant: 'Error',\r\n                autoHideDuration: '5000',\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleOnChange = e => {\r\n        checkGroupExists(e.target.value.toLowerCase());\r\n    };\r\n\r\n    const isFormValid = () => {\r\n        return groupNameValid && courseId ? true : false;\r\n    };\r\n\r\n    const checkGroupExists = name => {\r\n        try {\r\n            const allGroupNames = [...groups, ...courseGroups].map(group => {\r\n                return group.name.toLowerCase();\r\n            });\r\n\r\n            setGroupName(name);\r\n\r\n            if (allGroupNames.includes(name) !== true) {\r\n                setGroupErrors('');\r\n                setGroupNameValid(true);\r\n                return false;\r\n            } else {\r\n                setGroupErrors('A group with this name already exists!');\r\n                setGroupNameValid(false);\r\n                return true;\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const body = (\r\n        <div className={classes.paper}>\r\n            <h2>Create a new group</h2>\r\n            <p>Add group name and select your course.</p>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n                <FormHelperText>\r\n                    {groupError ? (\r\n                        <span style={{ color: '#fc2525' }}>{groupError}</span>\r\n                    ) : (\r\n                        'Please enter a group name'\r\n                    )}\r\n                </FormHelperText>\r\n                <TextField\r\n                    name=\"group_name\"\r\n                    fullWidth={true}\r\n                    variant=\"outlined\"\r\n                    onChange={handleOnChange}\r\n                ></TextField>\r\n\r\n                <Box className={classes.groupImageContainer}>\r\n                    <FormHelperText>Drag and Drop Group Picture </FormHelperText>\r\n                    <Tooltip title=\"Drag and drop group picture\" arrow placement=\"right\">\r\n                        <Box {...getRootProps({ style })}>\r\n                            <img\r\n                                alt=\"Profile Pic\"\r\n                                src={groupPicture ? groupPicture : defaultImage}\r\n                                className={uploading ? classes.uploading : classes.large}\r\n                            />\r\n                        </Box>\r\n                    </Tooltip>\r\n                </Box>\r\n\r\n                <FormHelperText>Course</FormHelperText>\r\n                <Select name=\"course\" variant=\"outlined\" fullWidth={true} defaultValue=\"\">\r\n                    {userCourse.userCourses.map(course => {\r\n                        return (\r\n                            <MenuItem\r\n                                key={course._id}\r\n                                value={course._id}\r\n                                onClick={() => setCourseId(course._id)}\r\n                            >\r\n                                {course.name}\r\n                            </MenuItem>\r\n                        );\r\n                    })}\r\n                </Select>\r\n                <Button\r\n                    type=\"submit\"\r\n                    className={classes.button}\r\n                    color=\"primary\"\r\n                    style={{ marginTop: '20px' }}\r\n                >\r\n                    Create New Group\r\n                </Button>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    //filter out courses which the user has joined as suggestions\r\n    React.useEffect(() => {\r\n        const suggested = courseGroups.filter(group => {\r\n            return !groups.some(joinedGroup => {\r\n                return joinedGroup._id === group._id;\r\n            });\r\n        });\r\n        setSuggestedGroups(suggested);\r\n    }, [courseGroups, userGroups, groups]);\r\n\r\n    const handleJoinGroup = async id => {\r\n        try {\r\n            const res = await axios.post(`/user/groups/${id}`, { groupId: id });\r\n            const currGroups = [...groups, res.data];\r\n            const newUserGroups = { courseGroups: [...courseGroups], groups: currGroups };\r\n            dispatch({ type: 'updateUserGroups', payload: newUserGroups });\r\n            conversationManager.updateRooms(currGroups);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const handleLeaveGroup = async id => {\r\n        try {\r\n            const res = await axios.delete(`/user/groups/${id}`, { groupId: id });\r\n            const [currentGroups, updatedCourseGroups] = [\r\n                [...groups],\r\n                [...userGroups.courseGroups],\r\n            ];\r\n\r\n            const myGroups = currentGroups.filter(group => group._id !== res.data._id);\r\n\r\n            const index = updatedCourseGroups.findIndex(\r\n                group => group._id === res.data._id\r\n            );\r\n\r\n            updatedCourseGroups[index] = res.data;\r\n\r\n            const newUserGroups = { courseGroups: updatedCourseGroups, groups: myGroups };\r\n\r\n            dispatch({ type: 'updateUserGroups', payload: newUserGroups });\r\n            conversationManager.updateRooms(myGroups);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Grid>\r\n            <Grid container>\r\n                <Grid item direction=\"row\" container md={4}></Grid>\r\n                <Grid item justify=\"center\" direction=\"row\" container md={4}></Grid>\r\n                <Grid item justify=\"flex-end\" direction=\"row\" container md={4}>\r\n                    <Button\r\n                        className={classes.button}\r\n                        color=\"primary\"\r\n                        onClick={handleOpen}\r\n                    >\r\n                        Create New Group\r\n                    </Button>\r\n                    <Modal open={openModal} onClose={handleClose}>\r\n                        {body}\r\n                    </Modal>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {groups.length > 0 && (\r\n                <>\r\n                    <Grid container>\r\n                        <Grid item justify=\"center\" direction=\"row\" container sm={12}>\r\n                            <Typography\r\n                                variant=\"h1\"\r\n                                color=\"textPrimary\"\r\n                                style={{ paddingTop: '60px' }}\r\n                            >\r\n                                Your Groups\r\n                            </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Container className={classes.cardGrid} maxWidth=\"md\">\r\n                        <Grid container spacing={4}>\r\n                            {groups.map(card => (\r\n                                <GroupCard\r\n                                    key={card._id}\r\n                                    actionText=\"Leave Group\"\r\n                                    data={card}\r\n                                    handleCardPress={handleLeaveGroup}\r\n                                />\r\n                            ))}\r\n                        </Grid>\r\n                    </Container>\r\n                </>\r\n            )}\r\n            {suggestedGroups.length && (\r\n                <>\r\n                    <Grid container>\r\n                        <Grid item justify=\"center\" direction=\"row\" container sm={12}>\r\n                            <Typography\r\n                                variant=\"h1\"\r\n                                color=\"textPrimary\"\r\n                                style={{ paddingTop: '60px' }}\r\n                            >\r\n                                Sugggested For You.\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item justify=\"center\" direction=\"row\" container sm={12}>\r\n                            <Typography\r\n                                variant=\"h6\"\r\n                                color=\"textSecondary\"\r\n                                style={{ paddingTop: '20px' }}\r\n                            >\r\n                                Groups you might be interested in!\r\n                            </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Container className={classes.cardGrid} maxWidth=\"md\">\r\n                        <Grid container spacing={4}>\r\n                            {suggestedGroups.map(card => (\r\n                                <GroupCard\r\n                                    key={card._id}\r\n                                    actionText=\"Join Group\"\r\n                                    data={card}\r\n                                    handleCardPress={handleJoinGroup}\r\n                                />\r\n                            ))}\r\n                        </Grid>\r\n                    </Container>\r\n                </>\r\n            )}\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Groups;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport * as actions from '../../context/actions';\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst Layout = ({ children }) => {\r\n    const { dispatch, isLoading } = useGlobalContext();\r\n    const { conversationManager } = useConversationContext();\r\n    \r\n    useEffect(() => {\r\n        if (isLoading)\r\n            actions.fetchProfile()(dispatch).then((userGroups) => {\r\n                const groupNames = userGroups.map(group => group._id);\r\n                conversationManager.startSocket(groupNames);\r\n                actions.fetchUserGroups(userGroups)(dispatch);\r\n            });\r\n    }, [isLoading, dispatch, conversationManager]);\r\n\r\n    //cleanup socket\r\n    useEffect(() => {\r\n        return () => conversationManager.closeSocket();\r\n    }, [conversationManager])\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { MuiThemeProvider, CssBaseline } from '@material-ui/core';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { SnackbarProvider } from 'notistack';\r\n\r\nimport { theme } from './themes/theme';\r\nimport Profile from './pages/Profile';\r\nimport Signup from './pages/auth/Sign-up';\r\nimport Login from './pages/auth/Login';\r\nimport ProtectedRoute from './pages/routing/ProtectedRoute';\r\nimport NotFound from './pages/NotFound';\r\nimport Chat from './pages/contentPages/Chat';\r\nimport Forum from './pages/contentPages/Forum';\r\nimport Groups from './pages/contentPages/Groups';\r\n\r\nimport './App.css';\r\nimport Layout from './pages/layout/Layout';\r\n\r\nfunction App() {\r\n    return (\r\n        <MuiThemeProvider theme={theme}>\r\n            <SnackbarProvider>\r\n                <CssBaseline>\r\n                    <BrowserRouter>\r\n                        <Switch>\r\n                            <Route\r\n                                exact\r\n                                path=\"/\"\r\n                                render={() => <Redirect to=\"/sign-up\" />}\r\n                            />\r\n                            <Route exact path=\"/sign-up\" component={Signup} />\r\n                            <Route exact path=\"/login\" component={Login} />\r\n                            <Layout>\r\n                                <Switch>\r\n                                    <ProtectedRoute\r\n                                        exact\r\n                                        path=\"/profile\"\r\n                                        component={Profile}\r\n                                    />\r\n                                    <ProtectedRoute\r\n                                        path=\"/profile/:profileContent\"\r\n                                        component={Profile}\r\n                                    />\r\n                                    <ProtectedRoute path=\"/forum\" component={Forum} />\r\n                                    <ProtectedRoute path=\"/groups\" component={Groups} />\r\n                                    <ProtectedRoute path=\"/chat\" component={Chat} />\r\n                                    <Route path=\"/error\" component={NotFound} />\r\n                                    <Redirect to=\"/error\" />\r\n                                </Switch>\r\n                            </Layout>\r\n                        </Switch>\r\n                    </BrowserRouter>\r\n                </CssBaseline>\r\n            </SnackbarProvider>\r\n        </MuiThemeProvider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { AppProvider } from './context/studyappContext';\r\n\r\nReactDOM.render(\r\n    <AppProvider>\r\n        <App />\r\n    </AppProvider>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}
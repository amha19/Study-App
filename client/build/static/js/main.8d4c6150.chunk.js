(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{250:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a(0),i=a.n(c),s=a(17),o=a.n(s),l=(a(250),a(477)),u=a(478),d=a(23),j=a(26),b=a(41),p=a(219),m=Object(p.a)({typography:{fontFamily:"Poppins",h1:{fontSize:"2.25rem"},h2:{fontSize:"1.375rem",fontWeight:"bold",letterSpacing:.5},h3:{fontFamily:"Montserrat",fontSize:"1.625rem",fontWeight:500,letterSpacing:-1},h4:{fontSize:"1rem",opacity:"50%"},h5:{fontSize:"1.25rem",fontWeight:500,letterSpacing:-.5},h6:{fontSize:"1rem",fontWeight:500}},palette:{primary:{main:"#4B00FF",light:"#2574FF",gradient:"linear-gradient(45deg, #2574FF, #4B00FF)"},secondary:{main:"#2968FF"}},overrides:{MuiButton:{textPrimary:{color:"#FFF",background:"linear-gradient(45deg, #2574FF, #4B00FF)",textTransform:"none",fontSize:"0.875rem",padding:20,height:"3rem"},outlinedPrimary:{color:"#FFF",textTransform:"none",fontSize:"0.875rem",padding:20,height:"3rem","&:hover":{borderColor:"#FFF"}},outlinedSecondary:{color:"#2968FF",textTransform:"none",fontSize:"0.875rem",padding:20,height:"3rem"}}}}),h=a(9),f=a(451),O=a(452),g=a(453),x=a(480),v=a(454),y=a(455),w=a(412),k=a(199),C=a.n(k),N=a(198),S=a.n(N),A=a(11),F=a(8),T=a(21),D=a(197),R=function(e,t){e.on("connect",(function(){console.log("connected to socket server")})),e.on("rooms updated",(function(e){console.log("connected to rooms: ",e)})),e.on("group message",(function(e){t(e)})),e.on("disconnect",(function(){console.log("disconnected from socket server")})),e.on("connect_error",(function(){console.log("Error connecting to socket")}))},I=a(13),L=a(10),E=a.n(L),P=a(14),U=a(18),W=a.n(U),G=function(e){return function(){var t=Object(P.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.a.post("auth/register",e).catch((function(e){throw e.response}));case 3:if(201!==(n=t.sent).status){t.next=7;break}return a({type:"REGISTER_SUCCESS"}),t.abrupt("return",n);case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),a({type:"REGISTER_FAIL"}),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},z=function(){return function(){var e=Object(P.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.delete("/auth/logout");case 3:204===e.sent.status&&t({type:"LOGOUT"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},B=function(){return function(){var e=Object(P.a)(E.a.mark((function e(t){var a,n,r,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/profile");case 3:return a=e.sent,n=a.data,r=n.profile,c=n.user,i=c.courses,t({type:"FETCH_USER_INFO",payload:[Object(A.a)({},r),{school:c.university?c.university.name:"",userCourses:i,schoolCourses:c.university?c.university.courses:[]}]}),e.abrupt("return",c.groups);case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&401===e.t0.response.status&&t({type:"LOGIN_FAIL"}),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(P.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.a.get("/user/groups");case 3:n=t.sent,r=n.data.map((function(e){return e.groups})).flat(),a({type:"updateUserGroups",payload:{groups:Object(I.a)(e),courseGroups:r}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(P.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.a.put("/profile",e);case 3:return n=t.sent,B()(a),t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),console.log(t.t0.message),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},M=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/user/conversations");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),J=function(e){return function(){var t=Object(P.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.a.put("/auth/changepassword",e);case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),t.abrupt("return",t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Z=function e(){var t=this;Object(T.a)(this,e),this.init=function(e){t._updateNotifications=e},this.startSocket=function(e){t._socket.connected||(t._socket.io.opts.query="rooms="+e,t._socket.connect(),t.updateConversations())},this.getConversations=function(){return t._conversations},this.handleReceiveMessage=function(e){t._conversations[e.room].messages.push(e.message),t._notifications[e.room]+=1,t._updateNotifications(Object(A.a)({},t._notifications))},this.sendMessageToGroup=function(e,a){t._socket.emit("messageGroup",{room:e,message:a})},this.updateRooms=function(e){var a=e.map((function(e){return e._id}));t._socket.emit("updateRooms",a),t.updateConversations()},this.updateConversations=function(){M().then((function(e){var a={},n={};e.forEach((function(e){a[e.group]=e,n[e.group]=0})),t._conversations=a,t._notifications=n,t._updateNotifications(n)}))},this.clearNotifications=function(e){t._notifications[e]>0&&(t._notifications[e]=0,t._updateNotifications(Object(A.a)({},t._notifications)))},this.closeSocket=function(){t._socket.connected&&(t._updateConversations=function(){},t._socket.disconnect())},this._socket=D({autoConnect:!1}),R(this._socket,this.handleReceiveMessage),this._updateNotifications=function(){},this._conversations={},this._notifications={}},Y=(n={isLoading:!0,isAuth:!1,userCourse:{},userGroups:{courseGroups:[],groups:[]},profile:{}},Object(h.a)(n,"userGroups",{groups:[],courseGroups:[]}),Object(h.a)(n,"isOpen",!1),Object(h.a)(n,"forumId",null),n),V=function(e,t){var a=t.type,n=t.payload;switch(a){case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{isAuth:!0,isLoading:!0});case"FETCH_USER_INFO":return Object(A.a)(Object(A.a)({},e),{},{userCourse:n[1],profile:n[0],isLoading:!1,isAuth:!0});case"LOGIN_FAIL":case"REGISTER_FAIL":return Object(A.a)(Object(A.a)({},e),{},{isLoading:!1});case"LOGOUT":return Object(A.a)(Object(A.a)({},e),{},{isAuth:!1,isLoading:!1});case"updateProfile":return Object(A.a)(Object(A.a)({},e),{},{profile:n});case"updateUserGroups":return Object(A.a)(Object(A.a)({},e),{},{userGroups:n});case"updateUserCourses":return Object(A.a)(Object(A.a)({},e),{},{userCourse:Object(A.a)(Object(A.a)({},e.userCourse),{},{userCourses:Object(I.a)(n)})});case"CLOSE_DRAWER":return Object(A.a)(Object(A.a)({},e),{},{isOpen:!1});case"OPEN_DRAWER":return Object(A.a)(Object(A.a)({},e),{},{isOpen:!0});case"FORUM_ID":return Object(A.a)(Object(A.a)({},e),{},{forumId:n});default:throw new Error("No action type found!")}},q=Object(c.createContext)({isLoading:!0,isAuth:!1,dispatch:function(){},profile:{}}),K=new Z,_=Object(c.createContext)({conversationManager:K,notifications:{}}),Q=function(e){var t=e.children,a=Object(c.useReducer)(V,Y),n=Object(F.a)(a,2),s=n[0],o=n[1],l=i.a.useState({}),u=Object(F.a)(l,2),d=u[0],j=u[1];return i.a.useEffect((function(){K.init(j)}),[]),Object(r.jsx)(_.Provider,{value:{conversationManager:K,notifications:d},children:Object(r.jsx)(q.Provider,{value:Object(A.a)(Object(A.a)({},s),{},{dispatch:o}),children:t})})},$=function(){return Object(c.useContext)(q)},ee=function(){return Object(c.useContext)(_)},te=Object(w.a)((function(e){return{fab_icon:{margin:16,backgroundColor:"#FFF",color:"#737373","&:hover":{color:"#FFF",backgroundColor:e.palette.secondary.main}},mobile_container:{backgroundColor:e.palette.common.white},menu_icon:{fontSize:"1.5rem"},drawer:{width:350,backgroundColor:"#F9F9FC",overflowY:"auto","&::-webkit-scrollbar":{width:"0.6rem",height:"12rem"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 5px grey",borderRadius:4},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",borderRadius:4},"&::-webkit-scrollbar-thumb:hover":{background:"#ccc"}},icon_btn:{fontSize:"1.75rem",margin:e.spacing(2),color:e.palette.secondary.main}}})),ae=function(e){var t=e.children,a=$(),n=a.dispatch,c=a.isOpen,i=te(),s=function(){n({type:"CLOSE_DRAWER"})};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x.a,{smDown:!0,children:Object(r.jsx)(O.a,{item:!0,md:3,children:t})}),Object(r.jsxs)(x.a,{mdUp:!0,children:[Object(r.jsx)(O.a,{container:!0,className:i.mobile_container,children:Object(r.jsx)(v.a,{color:"primary","aria-label":"add",className:i.fab_icon,onClick:function(){n({type:"OPEN_DRAWER"})},children:Object(r.jsx)(C.a,{className:i.menu_icon})})}),Object(r.jsx)(y.a,{anchor:"left",open:c,onClose:s,children:Object(r.jsxs)("div",{className:i.drawer,children:[Object(r.jsx)(O.a,{container:!0,justify:"flex-end",alignItems:"center",style:{position:"absolute"},children:Object(r.jsx)(g.a,{className:i.icon_btn,onClick:s,children:Object(r.jsx)(S.a,{})})}),t]})})]})]})},ne=a(406),re=a(414),ce=a(457),ie=a(460),se=Object(w.a)((function(e){var t;return{header:Object(h.a)({margin:e.spacing(8,0,8,0)},e.breakpoints.down("sm"),{margin:e.spacing(0,0,8,0)}),inputStyles:Object(h.a)({fontWeight:"600",width:300},e.breakpoints.down("xs"),{width:"100%",paddingRight:24}),labelStyles:{paddingBottom:".5em"},profileGrid:{padding:"2em 0 0 2em"},button:{marginLeft:"1.2em",marginTop:"1em",width:300},container:(t={padding:e.spacing(0,0,0,11)},Object(h.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(0,0,0,6)}),Object(h.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(0,0,0,4),marginBottom:16}),t),listsContainer:Object(h.a)({},e.breakpoints.down("xs"),{display:"flex",flexDirection:"column"}),inputWrapper:{margin:e.spacing(2)}}})),oe=function(){var e=$(),t=e.profile,a=e.dispatch,n=se(),i=Object(b.b)().enqueueSnackbar,s=Object(c.useState)(t.firstName),o=Object(F.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(t.lastName),j=Object(F.a)(d,2),p=j[0],m=j[1],h=Object(c.useState)(t.user.email),f=Object(F.a)(h,2),g=f[0],x=f[1],v=Object(c.useState)(t.location),y=Object(F.a)(v,2),w=y[0],k=y[1],C=Object(c.useState)(t.phone),N=Object(F.a)(C,2),S=N[0],A=N[1],T=function(){var e=Object(P.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={firstName:l,lastName:p,location:w,phone:S},e.next=4,H(n)(a);case 4:200===(r=e.sent).status?i("Updated successfully",{variant:"success",autoHideDuration:"5000"}):i(r.messages,{variant:"Error",autoHideDuration:"5000"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(O.a,{item:!0,container:!0,xs:9,direction:"column",className:n.container,children:Object(r.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(r.jsx)(ne.a,{variant:"h1",className:n.header,children:"Profile"}),Object(r.jsxs)(O.a,{item:!0,container:!0,spacing:4,className:n.listsContainer,children:[Object(r.jsx)(O.a,{item:!0,children:Object(r.jsxs)("div",{className:n.inputWrapper,children:[Object(r.jsx)(re.a,{className:n.labelStyles,children:"First Name"}),Object(r.jsx)(ce.a,{variant:"outlined",defaultValue:l,onChange:function(e){return u(e.target.value)},className:n.inputStyles,placeholder:"Add a first name.."})]})}),Object(r.jsx)(O.a,{item:!0,children:Object(r.jsxs)("div",{className:n.inputWrapper,children:[Object(r.jsx)(re.a,{className:n.labelStyles,children:"Last Name"}),Object(r.jsx)(ce.a,{variant:"outlined",value:p,onChange:function(e){return m(e.target.value)},className:n.inputStyles,placeholder:"Add a last name.."})]})}),Object(r.jsx)(O.a,{item:!0,children:Object(r.jsxs)("div",{className:n.inputWrapper,children:[Object(r.jsx)(re.a,{className:n.labelStyles,children:"Email"}),Object(r.jsx)(ce.a,{variant:"outlined",value:g,onChange:function(e){return x(e.target.value)},className:n.inputStyles})]})}),Object(r.jsx)(O.a,{item:!0,children:Object(r.jsxs)("div",{className:n.inputWrapper,children:[Object(r.jsx)(re.a,{className:n.labelStyles,children:"Phone"}),Object(r.jsx)(ce.a,{variant:"outlined",value:S,onChange:function(e){return A(e.target.value)},className:n.inputStyles,placeholder:"Add phone number.."})]})}),Object(r.jsx)(O.a,{item:!0,children:Object(r.jsxs)("div",{className:n.inputWrapper,children:[Object(r.jsx)(re.a,{className:n.labelStyles,children:"Location"}),Object(r.jsx)(ce.a,{variant:"outlined",value:w,onChange:function(e){return k(e.target.value)},className:n.inputStyles,placeholder:"eg. Toronto"})]})}),Object(r.jsx)(O.a,{container:!0,children:Object(r.jsx)(O.a,{item:!0,children:Object(r.jsx)(ie.a,{color:"primary",className:n.button,onClick:T,children:"Submit"})})})]})]})})},le=a(410),ue=a(46),de=a(24),je=a(34),be=function(e,t){if(e&&e.data&&e.data.response)if(400===e.status){var a={};e.data.response.forEach((function(e){a[e]="Invalid "+e})),t(a)}else 401===e.status?"Invalid credentials"===e.data.response?t({password:"Invalid email or password"}):t({oldPassword:"Invalid password"}):404===e.status?t({email:"User with email not found"}):409===e.status&&t({email:"Email already in use"})},pe=Object(f.a)((function(e){return{settings:Object(h.a)({margin:e.spacing(8,2,2,11)},e.breakpoints.down("xs"),{alignItems:"center",margin:e.spacing(0,0,2,0)}),header:{marginBottom:e.spacing(4)},form:{"& div":{width:"100%",maxWidth:350},"& input":{backgroundColor:e.palette.common.white},"& button":{width:"100%"}},helper_text:{fontSize:"1rem",margin:e.spacing(2.5,0,.5,0)},button:{marginTop:e.spacing(4)}}})),me=je.a().shape({oldPassword:je.c().required("Current password is required"),newPassword:je.c().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:je.c().oneOf([je.b("newPassword"),null],"Passwords must match")}),he=function(){var e=pe(),t=Object(b.b)().enqueueSnackbar,a=$().dispatch;return Object(r.jsx)(O.a,{container:!0,justify:"center",children:Object(r.jsxs)(O.a,{item:!0,container:!0,direction:"column",className:e.settings,children:[Object(r.jsx)(ne.a,{variant:"h1",className:e.header,children:"Account access"}),Object(r.jsx)(ne.a,{variant:"h5",children:"Change password"}),Object(r.jsx)(de.c,{initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:me,onSubmit:function(){var e=Object(P.a)(E.a.mark((function e(n,r){var c,i,s,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=r.setSubmitting,i=r.setErrors,s=r.resetForm,o={oldPassword:n.oldPassword,newPassword:n.newPassword},J(o)(a).then((function(e){200===e.status?(t("Updated successfully",{variant:"success",autoHideDuration:"5000"}),setTimeout((function(){s()}),500)):500===e.status?t("Server Error",{variant:"Error",autoHideDuration:"5000"}):be(e,i)})),setTimeout((function(){c(!1)}),500);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(t){var a=t.submitForm,n=t.isSubmitting;t.errors;return Object(r.jsxs)(de.b,{className:e.form,children:[Object(r.jsx)(le.a,{className:e.helper_text,children:"Your current password"}),Object(r.jsx)(de.a,{component:ue.a,name:"oldPassword",type:"password",variant:"outlined"}),Object(r.jsx)(le.a,{className:e.helper_text,children:"New password"}),Object(r.jsx)(de.a,{component:ue.a,name:"newPassword",type:"password",variant:"outlined"}),Object(r.jsx)(le.a,{className:e.helper_text,children:"Confirm password"}),Object(r.jsx)(de.a,{component:ue.a,name:"confirmPassword",type:"password",variant:"outlined"}),Object(r.jsx)(O.a,{item:!0,children:Object(r.jsx)(ie.a,{color:"primary",className:e.button,disabled:n,onClick:a,children:"Update"})})]})}})]})})},fe=a(461),Oe=a(411),ge=a(413),xe=a(462),ve=a(54),ye=a.n(ve),we=a(206),ke=a.n(we),Ce=a(119),Ne=a.n(Ce),Se=a(205),Ae=a.n(Se),Fe=Object(f.a)((function(e){var t;return{container:(t={backgroundColor:e.palette.common.white,flexDirection:"column",justify:"flex-start",padding:e.spacing(8,0,0,11)},Object(h.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(0,0,0,6)}),Object(h.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(0,2,0,2)}),t),university:{marginBottom:e.spacing(3)},title:{marginBottom:e.spacing(2)},list_item:{justifyContent:"space-between",maxWidth:"400px",padding:"0 4px 0 8px","& button":{padding:8,fontSize:"1.125rem"}},btn_group:{width:"15%",display:"flex",justifyContent:"space-between","& button":{fontSize:"1.125rem"}},form:{display:"flex",flexDirection:"column",maxWidth:"400px","& input":{borderRadius:4,backgroundColor:e.palette.common.white},"& p":{fontSize:"0.75rem",margin:e.spacing(2.5,0,.5,0)}},button:{marginTop:e.spacing(4)},add_btn:{marginTop:8}}})),Te=function(){var e=Object(b.b)().enqueueSnackbar,t=$(),a=t.isLoading,n=t.userCourse,i=t.userGroups,s=t.dispatch,o=ee().conversationManager,l=i.groups,u=n.school,d=n.userCourses,j=n.schoolCourses,p=Fe(),m=Object(c.useState)(""),h=Object(F.a)(m,2),f=h[0],x=h[1],v=Object(c.useState)(""),y=Object(F.a)(v,2),w=y[0],k=y[1],C=Object(c.useState)(d),N=Object(F.a)(C,2),S=N[0],A=N[1],T=Object(c.useState)(!1),D=Object(F.a)(T,2),R=D[0],L=D[1];Object(c.useEffect)((function(){L(JSON.stringify(S)!==JSON.stringify(d))}),[S,d]);var U=function(){var t=Object(P.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(R){t.next=2;break}return t.abrupt("return");case 2:return a=Object(I.a)(S).map((function(e){return e._id})),t.prev=3,t.next=6,W.a.post("/user/courses",a);case 6:n=t.sent,X(n.data.user.groups)(s),s({type:"updateUserCourses",payload:n.data.user.courses}),200===n.status?e("Updated successfully",{variant:"success",autoHideDuration:"5000"}):e(n.messages,{variant:"Error",autoHideDuration:"5000"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}(),G=function(){var e=Object(P.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.some((function(e){return e._id===t}))){e.next=4;break}A(S.filter((function(e){return e._id!==t}))),e.next=19;break;case 4:return e.prev=4,a=l&&l.length?l.reduce((function(e,a){return a.course===t&&e.push(a._id),e}),[]):l.map((function(e){return e._id})),e.next=8,W.a.delete("/user/courses/".concat(t),{data:{groupsRemoved:a}});case 8:return n=e.sent,e.next=11,X(n.data.groups)(s);case 11:o.updateRooms(n.data.groups),s({type:"updateUserCourses",payload:n.data.courses}),A(S.filter((function(e){return e._id!==t}))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return a?Object(r.jsx)(fe.a,{}):Object(r.jsxs)(O.a,{item:!0,container:!0,md:9,className:p.container,children:[Object(r.jsx)(ne.a,{variant:"h1",className:p.university,children:u}),Object(r.jsx)(ne.a,{variant:"h5",className:p.title,children:"Your courses"}),S.length<1&&Object(r.jsx)(ne.a,{children:"No course selected."}),S.map((function(e){return e._id===w?Object(r.jsxs)(Oe.a,{className:p.list_item,children:[Object(r.jsx)(ne.a,{children:e.name}),Object(r.jsxs)("div",{className:p.btn_group,children:[Object(r.jsx)(g.a,{edge:"end",onClick:function(){return G(e._id)},children:Object(r.jsx)(Ae.a,{})}),Object(r.jsx)(g.a,{edge:"end",onClick:function(){return k("")},children:Object(r.jsx)(Ne.a,{})})]})]},e._id):Object(r.jsxs)(Oe.a,{className:p.list_item,children:[Object(r.jsx)(ne.a,{children:e.name}),Object(r.jsx)(g.a,{edge:"end",onClick:function(){return k(e._id)},children:Object(r.jsx)(ke.a,{})})]},e._id)})),Object(r.jsxs)("form",{className:p.form,children:[Object(r.jsx)(le.a,{children:"Select course"}),Object(r.jsx)(ge.a,{value:f,variant:"outlined",onChange:function(e){x(e.target.value)},children:j.map((function(e){return S.some((function(t){return t._id===e._id}))?Object(r.jsx)(xe.a,{value:e._id,disabled:!0,children:e.name},e._id):Object(r.jsx)(xe.a,{value:e._id,children:e.name},e._id)}))}),Object(r.jsx)(O.a,{className:p.add_btn,children:Object(r.jsx)(ie.a,{color:"secondary",startIcon:Object(r.jsx)(ye.a,{}),onClick:function(){""===f||S.some((function(e){return e._id===f}))||(A([].concat(Object(I.a)(S),[j.find((function(e){return e._id===f}))])),k(""),x(""))},children:"Add course"})}),Object(r.jsx)(ie.a,{variant:"text",color:"primary",className:p.button,onClick:U,disabled:!R,children:"Update"})]})]})},De=a(479),Re=a(481),Ie=a(482),Le=Object(f.a)((function(){return{container:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},large:{height:130,width:130},uploading:{opacity:.5,height:130,width:130}}})),Ee={borderWidth:3,borderRadius:65,borderColor:"#eeeeee",borderStyle:"solid",backgroundColor:"#d8d8d8",outline:"none",transition:"border .24s ease-in-out"},Pe={borderColor:"#2196f3"},Ue={borderColor:"#00e676"},We={borderColor:"#ff1744"},Ge=a(81),ze=a(80),Be=a.n(ze),Xe=function(){var e=Le(),t=Object(c.useState)(!1),a=Object(F.a)(t,2),n=a[0],i=a[1],s=$(),o=s.profile,l=s.dispatch,u=Object(c.useCallback)(function(){var e=Object(P.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length&&(i(!0),f(t[0]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Object(c.useEffect)((function(){i(!1)}),[o]);var d=Object(Ge.a)({onDrop:u,maxFiles:1,accept:"image/*"}),j=d.getRootProps,b=d.isDragActive,p=d.isDragAccept,m=d.isDragReject,h=Object(c.useMemo)((function(){return Object(A.a)(Object(A.a)(Object(A.a)(Object(A.a)({},Ee),b?Pe:{}),p?Ue:{}),m?We:{})}),[b,m,p]),f=function(){var e=Object(P.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",t),e.next=4,W.a.post("/upload",a).catch((function(e){return console.log(e)}));case 4:(n=e.sent)&&n.data&&l({type:"updateProfile",payload:n.data});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(De.a,{className:e.container,children:[Object(r.jsx)("label",{htmlFor:"fileUpload",children:Object(r.jsx)(Re.a,{title:"Drag and drop profile picture or click to upload",arrow:!0,placement:"right",children:Object(r.jsx)(De.a,Object(A.a)(Object(A.a)({},j({style:h})),{},{children:o.imageUrl?Object(r.jsx)(Ie.a,{alt:"Profile Pic",src:o.imageUrl,className:n?e.uploading:e.large}):Object(r.jsx)(Ie.a,{className:e.large,children:Object(r.jsx)(Be.a,{className:e.large})})}))})}),Object(r.jsx)("input",{hidden:!0,type:"file",accept:"image/*",multiple:!1,id:"fileUpload",onChange:function(e){e.stopPropagation(),e.preventDefault(),i(!0);var t=e.target.files[0];t&&f(t)}})]})},He=Object(f.a)((function(e){return{linkStyles:{textDecoration:"none",color:"black",padding:"1em 0 0 2em",fontSize:"1.125rem",opacity:"50%"},profilePic:{borderRadius:"50%",width:"130px",marginTop:"4em"},drawer:Object(h.a)({background:"#F9F9FC",height:"calc(100vh - 100px)"},e.breakpoints.down("sm"),{paddingTop:e.spacing(6),background:"#FFF",height:"100vh"}),linkContainer:Object(h.a)({paddingTop:"2em"},e.breakpoints.down("sm"),{paddingTop:0}),profileName:{paddingTop:"1em",fontSize:"1.375rem"},button:{margin:"2em",textTransform:"none",fontWeight:"bold",fontSize:"1rem",letterSpacing:.5}}})),Me=function(e){var t=He(),a=$(),n=a.profile,c=a.dispatch,i=function(){c({type:"CLOSE_DRAWER"})};return Object(r.jsxs)(O.a,{container:!0,direction:"column",alignItems:"center",justify:"space-between",item:!0,className:t.drawer,children:[Object(r.jsxs)(O.a,{container:!0,item:!0,direction:"column",alignItems:"center",style:{marginTop:"3em"},children:[Object(r.jsx)(Xe,{className:t.profilePic}),Object(r.jsx)(ne.a,{className:t.profileName,align:"center",children:n.firstName+" "+n.lastName})]}),Object(r.jsxs)(O.a,{container:!0,item:!0,direction:"column",className:t.linkContainer,children:[Object(r.jsx)(d.c,{to:"/profile",exact:!0,activeStyle:{opacity:"100%"},className:t.linkStyles,onClick:i,children:"User Info"}),Object(r.jsx)(d.c,{to:"/profile/courses",exact:!0,activeStyle:{opacity:"100%"},className:t.linkStyles,onClick:i,children:"My Courses"}),Object(r.jsx)(d.c,{to:"/profile/settings",exact:!0,activeStyle:{opacity:"100%"},className:t.linkStyles,onClick:i,children:"Settings"})]}),Object(r.jsx)(O.a,{container:!0,item:!0,children:Object(r.jsx)(O.a,{item:!0,children:Object(r.jsx)(ie.a,{className:t.button,onClick:function(){return z()(c)},children:"Logout"})})})]})},Je=Object(f.a)((function(e){return{container:Object(h.a)({height:"calc(100vh - 100px)"},e.breakpoints.down("sm"),{height:"auto"}),contentContainer:Object(h.a)({backgroundColor:e.palette.common.white},e.breakpoints.down("sm"),{minHeight:"calc(100vh - 200px)"})}})),Ze=function(){var e=Je();return Object(r.jsx)(O.a,{container:!0,children:Object(r.jsxs)(O.a,{item:!0,container:!0,className:e.container,children:[Object(r.jsx)(ae,{children:Object(r.jsx)(Me,{})}),Object(r.jsx)(O.a,{item:!0,container:!0,sm:12,md:9,className:e.contentContainer,children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/profile",children:Object(r.jsx)(oe,{})}),Object(r.jsx)(j.b,{exact:!0,path:"/profile/courses",children:Object(r.jsx)(Te,{})}),Object(r.jsx)(j.b,{exact:!0,path:"/profile/settings",children:Object(r.jsx)(he,{})})]})})]})})},Ye=a(463),Ve=a(121),qe="data:image/png;base64,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",Ke=a.p+"static/media/sign-up.53109035.png",_e=Object(f.a)((function(e){return{root:Object(h.a)({backgroundColor:e.palette.common.white},e.breakpoints.down("sm"),{height:"100vh"}),container:Object(h.a)({},e.breakpoints.down("sm"),{justifyContent:"center"}),logoContainer:{display:"flex",justifyContent:"space-between"},logo:{width:"4rem",height:"auto",marginBottom:e.spacing(6),"& img":{width:"100%",height:"auto"}},paper:{height:"100vh",width:"auto",textAlign:"center",margin:0,padding:0,borderRadius:0,backgroundImage:"url(".concat(Ke,")"),backgroundPosition:"center center",backgroundSize:"cover","& button":{float:"right",margin:"2rem 2rem 0 0",color:"#FFF",borderColor:"#FFF"}},dark_overlay:{backgroundColor:"rgba(0, 0, 0, 0.25)",position:"relative",height:"100%",width:"100%"},formContainer:Object(h.a)({padding:e.spacing(4,22,4,12),"& h1":{marginLeft:e.spacing(4)}},e.breakpoints.down("sm"),{padding:e.spacing(4,2,4,2),maxWidth:450,justifyContent:"center"}),form:{display:"flex",flexDirection:"column",marginLeft:e.spacing(4),"& input":{borderRadius:4,backgroundColor:e.palette.common.white},"& p":{fontSize:"0.75rem",margin:e.spacing(2.5,0,.5,0)}},add_course:{marginTop:8,marginBottom:8}}})),Qe=Object(f.a)((function(e){return{root:{marginTop:e.spacing(3)}}})),$e=i.a.memo((function(e){var t=e.courses,a=e.removeCourse,n=Qe();return Object(r.jsx)(O.a,{className:n.root,children:t.map((function(e){return Object(r.jsx)(ie.a,{endIcon:Object(r.jsx)(Ne.a,{onClick:function(){return a(e._id)}}),children:e.name},e._id)}))})})),et=je.a().shape({firstName:je.c().min(2,"First name too short").required("Required"),lastName:je.c().min(2,"Last name too short").required("Required"),email:je.c().email("Invalid email").required("Required"),password:je.c().min(6).required("Required"),university:je.c().required("Please select a school")}),tt=function(){var e=_e(),t=$(),a=t.isAuth,n=t.dispatch,i=Object(b.b)().enqueueSnackbar,s=Object(c.useState)(!0),o=Object(F.a)(s,2),l=o[0],u=o[1],p=Object(c.useState)([]),m=Object(F.a)(p,2),h=m[0],f=m[1],g=Object(c.useState)(""),v=Object(F.a)(g,2),y=v[0],w=v[1],k=Object(c.useState)([{_id:1,name:"Select a school first"}]),C=Object(F.a)(k,2),N=C[0],S=C[1],A=Object(c.useState)(""),T=Object(F.a)(A,2),D=T[0],R=T[1],L=Object(c.useState)([]),U=Object(F.a)(L,2),z=U[0],B=U[1],X=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/universities");case 3:t=e.sent,f(t.data),u(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){X()}),[]),Object(c.useEffect)((function(){if(y){var e=[];Object(I.a)(h).forEach((function(t){t._id===y&&e.push.apply(e,Object(I.a)(t.courses))})),S(e)}}),[y,h]);var H=function(){z.some((function(e){return e._id===D}))||""===D||1===D||B([].concat(Object(I.a)(z),[N.find((function(e){return e._id===D}))]))},M=Object(c.useCallback)((function(e){B(z.filter((function(t){return t._id!==e})))}),[z]);return l?Object(r.jsx)(fe.a,{}):a?Object(r.jsx)(j.a,{to:"/profile"}):Object(r.jsx)("div",{className:e.root,children:Object(r.jsxs)(O.a,{container:!0,className:e.container,children:[Object(r.jsxs)(O.a,{item:!0,container:!0,md:6,direction:"column",justify:"flex-start",className:e.formContainer,children:[Object(r.jsxs)("div",{className:e.logoContainer,children:[Object(r.jsx)("div",{className:e.logo,children:Object(r.jsx)("img",{src:qe,alt:"logo"})}),Object(r.jsx)(x.a,{mdUp:!0,children:Object(r.jsx)(Ye.a,{color:"inherit",variant:"inherit",underline:"none",component:d.b,to:"/login",children:Object(r.jsx)(ie.a,{variant:"text",color:"primary",children:"Login"})})})]}),Object(r.jsx)(ne.a,{variant:"h1",color:"textPrimary",children:"Create an account."}),Object(r.jsx)(de.c,{initialValues:{firstName:"",lastName:"",email:"",password:"",university:""},validationSchema:et,onSubmit:function(){var e=Object(P.a)(E.a.mark((function e(t,a){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.setSubmitting,c=a.setErrors,t.courses=Object(I.a)(z).map((function(e){return e._id})),G(t)(n).then((function(e){201===e.status?i("Registered successfully",{variant:"success",autoHideDuration:"5000"}):500===e.status?(setTimeout((function(){r(!1)}),500),i("Server Error",{variant:"Error",autoHideDuration:"5000"})):(setTimeout((function(){r(!1)}),500),be(e,c))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(t){var a=t.submitForm,n=t.isSubmitting;t.errors;return Object(r.jsxs)(de.b,{className:e.form,children:[Object(r.jsx)(le.a,{children:"First name"}),Object(r.jsx)(de.a,{component:ue.a,name:"firstName",type:"text",variant:"outlined"}),Object(r.jsx)(le.a,{children:"Last name"}),Object(r.jsx)(de.a,{component:ue.a,name:"lastName",type:"text",variant:"outlined"}),Object(r.jsx)(le.a,{children:"Email address"}),Object(r.jsx)(de.a,{component:ue.a,name:"email",type:"email",variant:"outlined"}),Object(r.jsx)(le.a,{required:!0,children:"Password"}),Object(r.jsx)(de.a,{component:ue.a,name:"password",type:"password",variant:"outlined"}),Object(r.jsx)(le.a,{children:"Select your school"}),Object(r.jsx)(de.a,{component:ue.a,name:"university",type:"text",select:!0,variant:"outlined",defaultValue:"",children:h.map((function(e){return Object(r.jsx)(xe.a,{value:e._id,onClick:function(){return w(e._id)},children:e.name},e._id)}))}),z.length>0&&Object(r.jsx)($e,{courses:z,removeCourse:M}),Object(r.jsx)(le.a,{children:"Select the course"}),Object(r.jsx)(ge.a,{defaultValue:"",variant:"outlined",onChange:function(e){return R(e.target.value)},children:N.map((function(e){return z.some((function(t){return t._id===e._id}))?Object(r.jsx)(xe.a,{value:e._id,disabled:!0,children:e.name},e._id):Object(r.jsx)(xe.a,{value:e._id,children:e.name},e._id)}))}),Object(r.jsx)(O.a,{className:e.add_course,children:Object(r.jsx)(ie.a,{color:"secondary",startIcon:Object(r.jsx)(ye.a,{}),onClick:H,children:"Add course"})}),Object(r.jsx)(ie.a,{color:"primary",className:e.button,disabled:n,onClick:a,children:"Sign up"})]})}})]}),Object(r.jsx)(O.a,{item:!0,md:6,children:Object(r.jsx)(x.a,{smDown:!0,children:Object(r.jsx)(Ve.a,{className:e.paper,children:Object(r.jsx)("div",{className:e.dark_overlay,children:Object(r.jsx)(Ye.a,{color:"inherit",variant:"inherit",underline:"none",component:d.b,to:"/login",children:Object(r.jsx)(ie.a,{variant:"outlined",color:"primary",children:"Login"})})})})})})]})})},at=je.a().shape({email:je.c().email("Invalid email").required("Required"),password:je.c().required("Required")}),nt=function(e){var t=_e(),a=$(),n=a.isAuth,c=a.dispatch,i=Object(b.b)().enqueueSnackbar,s=e.location.state,o="/profile";return s&&s.from&&(o=s.from.pathname),n?Object(r.jsx)(j.a,{to:o}):Object(r.jsx)("div",{className:t.root,children:Object(r.jsxs)(O.a,{container:!0,className:t.container,children:[Object(r.jsxs)(O.a,{item:!0,container:!0,md:6,direction:"column",className:t.formContainer,children:[Object(r.jsxs)("div",{className:t.logoContainer,children:[Object(r.jsx)("div",{className:t.logo,children:Object(r.jsx)("img",{src:qe,alt:"logo"})}),Object(r.jsx)(x.a,{mdUp:!0,children:Object(r.jsx)(Ye.a,{color:"inherit",variant:"inherit",underline:"none",component:d.b,to:"/sign-up",children:Object(r.jsx)(ie.a,{variant:"text",color:"primary",style:{marginTop:0},children:"Get Started"})})})]}),Object(r.jsx)(ne.a,{variant:"h1",color:"textPrimary",children:"Login."}),Object(r.jsx)(de.c,{initialValues:{email:"",password:""},validationSchema:at,onSubmit:function(e,t){var a=t.setSubmitting,n=t.setErrors;(function(e){return function(){var t=Object(P.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.a.post("auth/login",e).catch((function(e){throw e.response}));case 3:if(200!==(n=t.sent).status){t.next=7;break}return a({type:"LOGIN_SUCCESS"}),t.abrupt("return",n);case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0.response),a({type:"LOGIN_FAIL"}),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()})(e)(c).then((function(e){200===e.status?i("Logged in successfully",{variant:"success",autoHideDuration:"5000"}):500===e.status?(setTimeout((function(){a(!1)}),500),i("Server Error",{variant:"Error",autoHideDuration:"5000"})):(setTimeout((function(){a(!1)}),500),be(e,n))}))},children:function(e){var a=e.submitForm,n=e.isSubmitting;return Object(r.jsxs)(de.b,{className:t.form,children:[Object(r.jsx)(le.a,{children:"Email address"}),Object(r.jsx)(de.a,{component:ue.a,name:"email",type:"email",variant:"outlined"}),Object(r.jsx)(le.a,{required:!0,children:"Password"}),Object(r.jsx)(de.a,{component:ue.a,name:"password",type:"password",variant:"outlined"}),Object(r.jsx)(ne.a,{variant:"body2",children:"Forget password?"}),Object(r.jsx)(ie.a,{color:"primary",disabled:n,onClick:a,children:"Login"})]})}})]}),Object(r.jsx)(O.a,{item:!0,md:6,children:Object(r.jsx)(x.a,{smDown:!0,children:Object(r.jsx)(Ve.a,{className:t.paper,children:Object(r.jsx)("div",{className:t.dark_overlay,children:Object(r.jsx)(Ye.a,{color:"inherit",variant:"inherit",underline:"none",component:d.b,to:"/sign-up",children:Object(r.jsx)(ie.a,{variant:"outlined",color:"primary",children:"Get started"})})})})})})]})})},rt=a(221),ct=a(142),it=a.n(ct),st=a(210),ot=a.n(st),lt=a(143),ut=a.n(lt),dt=a(464),jt=a(465),bt=a(459),pt=a(466),mt=a(220),ht=a(467),ft=a(209),Ot=a.n(ft),gt=Object(f.a)((function(e){var t,a,n,r;return{root:{flexGrow:1},toolbar:{height:100,backgroundColor:e.palette.common.white},logo_study:(t={flexGrow:6,display:"flex",alignItems:"center",marginLeft:"2.25rem"},Object(h.a)(t,e.breakpoints.down("sm"),{marginLeft:"0.75rem"}),Object(h.a)(t,"& img",{width:"2.75rem",height:"auto",marginRight:e.spacing(2),cursor:"pointer"}),t),listContainer:(a={},Object(h.a)(a,e.breakpoints.down("sm"),{display:"none"}),Object(h.a)(a,"flexGrow",3),Object(h.a)(a,"display","flex"),Object(h.a)(a,"& > *",{display:"flex",fontSize:"1rem",fontWeight:500,cursor:"pointer"}),a),profile:(n={},Object(h.a)(n,e.breakpoints.down("sm"),{display:"none"}),Object(h.a)(n,"flexGrow",1),Object(h.a)(n,"display","flex"),Object(h.a)(n,"marginLeft",e.spacing(2)),n),menuButton:(r={},Object(h.a)(r,e.breakpoints.up("md"),{display:"none"}),Object(h.a)(r,"fontSize","2.25rem"),Object(h.a)(r,"color","#4B00FF"),r),avatar:{height:60,width:60},badge:{color:e.palette.common.white,paddingLeft:e.spacing(3),"& span":{width:30,fontSize:"0.75rem",background:e.palette.primary.gradient}},profile_button:{marginLeft:e.spacing(1),textTransform:"capitalize","& span":{marginLeft:0}},icons:{marginRight:8},linkStyles:{textDecoration:"none",color:"black",fontSize:"1.125rem",opacity:"50%",marginLeft:15},dropdown_list:{"& li":{paddingLeft:e.spacing(.5),"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},mobile_logout:{marginTop:e.spacing(2)}}})),xt=function(){var e=gt(),t=Object(j.g)(),a=$(),n=a.profile,i=a.dispatch,s=ee().notifications,o=Object(c.useState)(null),l=Object(F.a)(o,2),u=l[0],b=l[1],p=Boolean(u),m=function(){b(null),t.push("/profile")},h=function(){z()(i)};return Object(r.jsx)("div",{className:e.root,children:Object(r.jsx)(dt.a,{position:"relative",color:"default",elevation:2,children:Object(r.jsxs)(jt.a,{className:e.toolbar,children:[Object(r.jsxs)("div",{className:e.logo_study,children:[Object(r.jsx)(Ye.a,{color:"inherit",variant:"inherit",underline:"none",children:Object(r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAAH5FsI7AAAAAXNSR0IArs4c6QAAF6xJREFUeAHtXQl4VUWWPvXeC2FtJSxCWERQAdkN+xIhYVVRR2XatnVm3LVbce9lPv0+bHU+R8Gl29Zul2nHAe1pVFpGQSIoq6xBERVFp1E2UQkoAhKSvJr/P+/Wffc9XvLeS0JsdUpuqm7VqVN//XVquXXrPkWS3JiTbXFRZ3t4cr5tnZQUux0+0NqRfa0NJhYfZ+24PPugHzd4tLXDh9tr/IhAYGw7G52UZ8/XqIHjEjUF5DRIzZFTz7ej1j1njEvc0dKud+EOe82pDJtceVD6X2C/cgk1+aH2baStEyjLs52g0fJycfRP62nX6X3vixITgkIMk40QA7YR/6Z2w4Zbu/xtY0yv6+3IqnJZFj4M0LjCVXL/hmfNzaeeaTeEyqXvulfjFU1QVXSC3TC2g12YEBm8GTHA2sI+dpGLK8630XGtk7APHZUU4aTh+8IFE6sXcvLj29gPI9FAjYOtEhb553Z7zUYKV+XIiZEgNa7JnCbnU1koSeMRrUJhykSiOS6fCDT6xuFiRw+1XaL75bIEjC4x6Jdb2bLyHbRMj5+jHdEielWIvP2MMZOus7mffyiHQrhfuyhWyhFFUduUKbbRrvek3ETRrFWIqGRlYmG9Rxz9hbuPhJqgcCgMhYLhqHyxfK3xzTQIORhmDwlBPmRl+4Iy08lPu/JKmzOoyNqhY+wuPzKLABWP9cxHERacCauolGWlr5jCLPQkiBblx2pnBpxv19oqGfjWnEQ+Pm1lB0ejsjohV+AmVVMXdQIFMIrtQStzedqXmTUuTB9V+SuVuCuYxvCVBTaHBqZVZtdHK66DKQxKFsz0flQvVBmWEBsicrVDDMw0c7LciEHWEt3STcZEmMhuEArLVwVo7fIKOSQVEnpnZiKnyUqGTLId5RvZJjAbiUqPFWvNB5SJdL/RPhplZJU0ndxGqqZNM+jJIr3/xW4yldLDN27I0EZpd4yrjMoVpYuPLDTBsKko2Y3pah+Gop9A+X5jZfrCneZ3yTLB+5QKMebtAuLjWB1F5XU7dkF3j0a8ccFuE5+hPK0JCtlj3i2Vw8zEK9xI2iwuNbuDCMZ2spfaSnmSVWeBr5YlVttXOGqUbV9RITupaOXaRKGgQhfG0H6GHJaXyGeyUpUZXIi+PCL9wOwUOn9sG0zOreL51A4HjUUEDGjVivTInCLnN20u7QR2MaGV3cK4mGEjwkZkuhPKxp+7xXwWRX5cXZjPYC7ULlM6L3t0wYKL21sbtnJ6xNKM/aaJi+xsaZ/GpN87HhMLodho/h5zRDflPF8VlXmqMGRka3JGKLs4OY73cfqTUtEGMCc0BQIY995LSk45tSXLBO+1pkARiQIq/k0IJjK8I88eFCtNXHyqAdWl0delDejTKrNnBRM1HFB2RFqKCLY0lMBYIhisjATm8Zh0OkRBnUUD7PGV5SJtI9I4lJMj/VjturjDVj4mh7PfNYdD658wm2jptXXDB9slVGYaxdohNOA624b1r43Dyu0XqF0hFS4tNSXUEfkmKksx/Kvrc4m9E1PqbVg5zNkw05wbi039dzAWBlEuUZD3jVXxXmZ6XOdN0N745sY5rmUw3kUbheWUdTNj88XAs+35tkJmu/ES/pdrXjctg0Wak6/XKZTzxO2bfm/uYuLoaTZS9je0PgphZk+5YBrQe46B1fX9I+0vWFyKsEWFTustj2M6uAxzDGc8CfounByP+6/AzuQFX5hlKdRWG5URwJGn2nk2KpNYU/RGBeSHvTgA2AZwHyD9a/idsMLri/ZtlBIw1DA/RrtO8/eY7dWio1x1iYWFthM601YAizHkAQMLdyxdb6ZVl6+m+OIOthUAb0VTN3UVJdOozHsL9pheqfIeARCL6/C2XWhAr/m0qUQeXrnKXJdKQW3jpk2zoeWP0syhwbWKyOqSMjM0qDMBILrSMxD+iWYgcyK/XbXUXB/McDTCY7E+VyJICq7gosEHOHCi/Rj1OZ42w2uN9wxzNACl0omH/T8D3I+9FpPIMdJ4/kemXEdpPFA8junleM59HNUaGhwBL9xlLsAUNB3TkU51FfuwhoZTBgechbGDzMUMtv3aeaZWj1JUWFdX1NFGgcN4LVka6X+e/SN7Kqm1gFs6t2ZwO1vZ2yB/Z22AZDIlm8bS25bLu97oUWD6/djux+jejADR3UvWzzFHrEZSgfm8jW2eKj5VXGUOFmo7zcFUaanixnSJtSgxRbA+2ofWbcbGhv+jVBlSxbX9wuxPFV8fcewHyiAwRdA57gWwBzg/R60kjEGpCtuZZx/CoDA1VZqLy6QpnWyyP7qnPQczkBh0XwVJgT7cHmMnwRU2MuXNWea55IwNdV94SgyLmpzIQ7HFYETuVFpBLRYYsxsKTHI5I/vZA1z8EQtXlYs/MDegYWOu1yXxoWbj0/EFmUs/2v7wgnj5ZI97lSwzvpz2kNd2+VrbCgwbZn81bAialeXT7iJS5sBRJ8ZtkV4/s1dwOauDo88pU46eG1JoF6G8Ijy1YVSOdYjGTaXl4sXmy2CpCod7i9pJIAw/ioyhFOu92LKLCkUefHuWuTGoKF146ETbBTsx70BvMxLB8tiUOns1kVYrF5g9qXSY7jfYMgjmqbDXk11YlVjZDCW34Lob932okOlM04JYiCuMfiDs4p2+4D0eoCevKTEvpQIVjIsxeKPtg3Fn36YZ5pNgYk3hfpfa8TCLu7ECGpgAgMATQVcB9P3dGslts2dzVz47pwCzyxKXntLLNi87JFcDQCEG1UF4GGoB32LK/AigV6HSz726wyyK58g+lDXA03rbcWDtzwCQBz+2HAowpmwChzMF16zwnyj5XK7EdjqNIGOXMcDCfvZmTEHT1facDdInOBYXAOlAOXsEo0Hb3BE5VrpxMcps6VxagONG2PyDB2QHCw0WnMBQrOevRtweKGwEZrtiXOiWZItxkLFKvYjnj3PqBHDkYPsIbOoasuMzFOsEUfTCa5ZsNI+lK2BCR5sHS3gB7J+WUMGYHjmmveRy16Q6PdUyOHyo3QhwvZ1S9a0czLHSYfFbiYNpdcqT48fl299gYL7d6WSlOZXV9HycEuCwEZa9sJuzISrkuLV8TfpxKxlUqvtx7e3nqHwbBQp61a5FOpfsMduS5eNzsZeCKei1qJFuukdH+JAYf4aE6wsci3n1U7yDCskDfMRQCuGDg62TTrR4l5HoEhgcVmzPweA7J8hcbbabE4uo/m5svr0EHeo/nH2TUXScBEwJDFZZmaO1gghXtEcTHGHj5cafMEbdp+MUWcSFt+YJ058PcNA4+7+Ocvo5TSS/+rrXXwqeh3+BZt6lSy2Ui/AZUzpaf7tYAfJlJ0B1pT0oyLC8uGyB+bT+YNSsCSDbK4te+V8ewlTpOQX4twOyzrFHkNhZSDuAOgX15odkWqCp8eJTEREOnJE+PnshmVFvhWahCPZ4ByHp6AFU446TPzB76NTJtsixR3/tAnNLFnrrVzQsSx2L8K9UgHgr+RAjPZDo6N+iay7nus6ieAAlgkG5N5uXYxAm9/vSwfuite1eEZWZscecdNKxdNR/U/5e89N00oveN2XYPNLBGzONjO9giyI+pcgdyZGn0ik5XCXvp5NJTkeRA/A6fxvewP8qOS35XplDjfCPy82zQmAwhhj+qjl4DZPGQYxrm+ydkQUZZQrJFt/kjIyJcMYgnfQzcWiq8M582zSCF/SZyFMmm40m9IktWJqdoGYXlQ4RUkpwfD7N1GWzlZapTicHPF9r+zIiLC1CgfHPyXy7vsF7bbYqiMO1K+QF1Co55aVDhx3Wf3UnyZJ9vGmuwkmzjPcYU5WFYabADdZg8n1lUBED9eaI/GOqTME42OvdwftgmAMEjkKtD8ZlG4alqdmxmdGB54WA9pC2OSKwDrw9nUKs1vbVJAOQaXXUlJ9kEQ9btlkzeToSCsl07KzexoEa7JxcY2Yk4lDAMelkapt+Wh9vE8sD+fJGszdk28g9AaOsre56yQei/uhjCcleKg29Pd0cAHk6WDOx78W2iLcN7UYX4MBqCI3L5gWOcET+gRhIpv51IJE+RuMa+A/m9606ohARQLy+0SwhBAUIxPsY8oacvg2MTUYMtGcBVBOWT3A4XHaDw6AAMZPs0LEHiTiF0NklNoTP178A9qKC80ha+pZ5yJWtW8BIbOHaHkNNgz2LEMT2bXixQNZIFewsN1c6OnD0HcCObGJdEzYgQD0zxjWABw4AH3htpdmRCiAr4dzLLnC0/NGjbbtDUfmUqygFBx8TwDsrVpqbkstUBrWDsBtD8N3HzQsU6nu5HVVVKdOxyh6s4JEWiUqXN5/JfJs4uTDeDym2sw9Wyfm6fwDFLBZLrG1vLDd9UsmbntfZW7H+upfNS2nu6bmtiASfuZGGzcgDuHplC3TgBDsDum+iDr8clodjhquXmOFUn8qZ7jzZQ3DImOA7sM5nOjWwAE8W8utR6J3hY+Xl0scMDkPH3aDzbK9ouVwBMFMhj5Nz3pgWyI+Knrfq9ViLxXMmhkx3nBRyBTqfQHWVTSBGHgaw13Bu6IVgzYOyDAfTXEUZDxCa5uQ1TmQLXkF0TYSS+s5fUSsg9qaoLMNAect7v0s8YowU0+dSewXKe0wBUJ9XEVKr7MbyM0XpYpx2BPgcRkDFh11bSO9sXkeo3h432wnvzzCZPdSgsCl/seEPXpLfovDLAbYRWVEGyRZZd/cMW1mHHdTb1841ryA1a6cAs85Vyww8yL15vxSjHpMBfDgqw54b1goioGBYyaTLB+kqzvI9GaRhG0c2wl+Ed92L2jeWRU99bA5RpCGcj62+C5s0yeYe2CEX4eH7ZlS2p6uwloPKB804GPblKENhz/dNOU6cTyLFVAfT6OIyH4Lc+1oeJ/9Z04uEWKba/a1XAnGI70x0j/tR2ZOomJXW+cKzHEJ0FXXkoII+UY4sZ5H+vUeIu68pD/X76SyfhXpxeE/xEax06vwvzHxG14erM4H4fuxsAHwSwFsRqKukC7v7YKUIHJWpBFFvAcAK+MsjjWR910ay7bHSxOkouZLTRtvIkk/0HdspKHMY9Bcjf38UHdKyEGCltDwPj+pgPC6HA2PyHjTuJa/sNnOTy8jmvlYEjh1rjzn4tU57RUFrcWRpBbzWJ2CA3Y+0J3Jz5IGFpWZrNgCzlT39BHt8xWGZCuu/CkU3c6TSd/gciYG4FTnNZfLLW40+RWZTZlYEYo3Z5RC+tkOmjoHCY12VpQJkgLz/Dofl1qVrj3z1lg3AusqO7Wo74/Oc+4HtPOILkkeLVOe6Oh4+UIFxeNGV8f5sRgQWF9tW+8tlCQD00gweUbS+ICB0y4U5Ubl48dqaTx/WlZTa5p9wvG2Pzy1nAfMYVw/X6PT9C7vpzZvIqDk7TFm6stISiM9f70FL/TLYVTUTyFOHs0A4zvRLPOmkfTWQDkxDpuM07y0gks84Wp3g+OjqirhHSvaan9eEq1oCh4+3bfE0twljSR4VsIBAC2kYY9uvVy4399RUwN97Gt7634R9+Rmsn5IBn70qYJlf4euz/q/sMh+nqgs4ONINHW8nVVTJZ9gJydOtEmimr2HkwGPF8iYRyfmuk8ea41TC/aOuwWI+LAu1jmTEXbE6H1NVIVsmtsa+VgqnpAfjB03C81olntcQyZagLq7nXIvgPu0TbFDfdymMwzLjUdcFrLcS4yYXzyqxhrwFH08mvKROIHDg6fYq9P8/+F2Vpgyn3VfkYChHuq+eX/NXKbEc392/Z3a0HQ7hLSlIbO4PW6wOSY0Re1XJ7vgxK5/AgtPtEAitoqxaX4B93B9oHJYTls03XzD9++7O6GxbHqrQzyqbO+KcUZEb9MJC9z2WEsjPnnHupAyDaQuNiM+wSibe73RfM89s/r4TF6wfF+Tl5bIFcboZp7zAAnVYM7L32NbSTj9v1Eyfyb/hVV0LUusPpMzBKyyX/dDIIyfztphPMFle5XHgT6Lcl4N9tfyqLPYa1RRMscdED0vsuHesj6sElaDPv1X6shnA8A/V4dgJn9f7cSJ1Vuj5UXwOmBdBwkV8q6QDJFNoprinj67773Uljr/tgpfaG6HuqL22DWLEBsHBSFj64eCGfyAtmJ5tGJ/n3omh7Tn0RH932NMRwkdPF/KIwplu3ZPQfUNSfkJu3b91AXk/ayjyWDGMUU0rKuPvHrMlLFken4S/hG6Lo56eYXnDnA53YZnMdwI9aZtB8tQiw/Iu9t55IrdODsd+fg0FF6KIT+qkKJPMRrbjefxSfOJ1bSbimcjwfDze976pRsYeSgLjV09+o9ZWp2gmcvaljwstuR2henGo0LNQxOu76fjy3MpAbg5zFnYOt/k8I3MwyG4g3MwJ/r8vzdXyaFxeF9Yea2R/BKxuBamtlF23/iNjBl27Hp3FTvKnG3AMu7HaeEaacypkT5vd5uuMhI+iEIysi1tIqwWCRL0X2cX3mjxji58PA2eJM01+/wvtSW89Yz6sC7ZPW9pJaJd5Ozd4WrJ4X8bPSXCWjo3+cPu99fu5f6Z1Ku5hT8aHdd2cvG9otEYc5AnhrenzNEeiVAMku7gYh08gbqVUXRwW6EPqkp95gaXOOmqLodJbTDuO6KuhwUf4JVInfS/Cj6Xg+U5vOEgGriY4mrn6WfNZbQEwHz4rP6mSrzcFH13pFJWxtt3hkMxqt7t+vvjJuFRP8Iw+tuW+StmNNTImd9Di8cIwrg2LN5v+ejwmGpG78DqyJDjDUAfN9RtsmiLon+lifLYOi1oOA1dnm+/blseJ0jlgimcD47OvF8bWlh4oxW3M9f4nuwyhkYwIPragN1diED327f8yBzzRH4RX2Nc+iCeQ62lEOrbR+uD0iU3k8SWbTOybjFg0hr2IPMj+rX3cGwN1XDQSQaZLnNwPwS/sb+/C2H29zgWsMPnA5fkfLH4Pmwyei51ww01ORObieYX/GZJI1j3SSWqDHw11ABvaH1Fg/4oTx2drL6RBORJiS7ztPXPxJXrgM2Pyqo4H1EDUJ2SaBCrjJJL3mGc8se+tVzTMdhg+yO7GeHe2W42QB25fkUP4m9v1kG7JJyd8CyQz2HmoQr9Xp+sd5GSfB4lckn1vHT5GfuibKpmqdWYtSRrr7Tmc95uzrBQ/rubWsi4BfgKBYDxfGUfmBAX4siSQ53sTxDHjyzFUPa519UhTEmFEOnnQgEI1fzjtE9j7WjswWhH/kUJlyRsDMCZkfNTh751d/uDYK4vkPpB2k/ZNZ20ky6svLRBuWYfOMjbdaVCfQAyaV7PPc82jiqmQatAaWPP8icFUbthlNm9/lRRjHclf5ubRD56kfwTLntdSyX9bcfi4fCJ+qfap+a/jd18D9aT1aT3xh2GsmLfBH/YGD7yvTo9W8/acak/Cu+DNegMlJJBhbyZaihn6isoKGQ8yxyNtNArQl08cH30Abux0+eAj/RvomZEblgfXPJ3+nAmy1JsbNsHm4Rn2epTP38+IndJy2tlFGQ7WVeS9JmGZgF+z2e7EMvFVT49r7dsQ7qNkOPLoBwsI3FOxZiRplIELkhkMJzQGpS1+AdPKrCbN5PmVT6b+hZuYxsz/Fky2rfEzLOfCwi4CrpEow7BcvTxsDBOze0jQMOLQWx9u2URumT8/sx8WSUZluk+1MxH5U1egEkMpr5UcqQnpKUijPJ2SzoB374AH87tKBONUzvJrXN255vMnf/Vsv+qx8iPct0CxrYCvM/KH/HJIDC4fJzIFiXLls0w6rZ+V/8nJlevemFe3rzaoj1/mTsQk4c86LFDBVDMrIQ8PIS4CkBL8vGnJm79PBMFB+vltcgFW8ndgXDyRiFUfS2OYFQno9stDGpZQGG6lK+K66hoMWHRARx4dn5OxMd3T6SYA3B5RBvTuwBduM5q2k0cXP1W/B9DNkGn2R1/uk7+gYhNYuFqekQ9RiRKALmmdK6+vuLdum5p9LrcFONDL3467AKS28wklAbi0XM9XggNxhKTW5sny3s/DxnCyLt7KHuifDcOYuW6u4CevfVulRL07xV7vWjNUyP9jwc6vpB8abTCy9Ad5bQEoD6S0RFh9AoR1fQ2Z/QjT34b7zSDpAzTG5pymsm71LIONk2/H/R86cPirSDevzAAAAABJRU5ErkJggg==",alt:"logo_study"})}),Object(r.jsx)(ne.a,{variant:"h3",children:"studyapp"})]}),Object(r.jsx)("div",{className:e.listContainer,children:Object(r.jsxs)(bt.a,{children:[Object(r.jsx)(Oe.a,{children:Object(r.jsx)(d.c,{color:"inherit",variant:"inherit",underline:"none",to:"/forum",style:{opacity:"50%"},activeStyle:{opacity:"100%"},className:e.linkStyles,children:"Forum"})}),Object(r.jsx)(Oe.a,{children:Object(r.jsx)(d.c,{color:"inherit",variant:"inherit",underline:"none",to:"/groups",activeStyle:{opacity:"100%"},className:e.linkStyles,children:"Groups"})}),Object(r.jsxs)(Oe.a,{children:[Object(r.jsx)(d.c,{color:"inherit",variant:"inherit",underline:"none",to:"/chat",activeStyle:{opacity:"100%"},className:e.linkStyles,children:"Chats"}),Object(r.jsx)(pt.a,{badgeContent:Object.values(s).reduce((function(e,t){return e+t}),0),className:e.badge})]})]})}),Object(r.jsxs)("div",{className:e.profile,children:[n.imageUrl?Object(r.jsx)(Ie.a,{alt:"Profile Pic",src:n.imageUrl,className:e.avatar}):Object(r.jsx)(Ie.a,{className:e.large,children:Object(r.jsx)(Be.a,{className:e.large})}),Object(r.jsx)(ie.a,{endIcon:Object(r.jsx)(Ot.a,{}),className:e.profile_button,onClick:function(e){return b(e.currentTarget)},children:Object(r.jsx)(ne.a,{variant:"h6",children:"Profile"})}),Object(r.jsxs)(mt.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:p,onClose:function(){return b(null)},children:[Object(r.jsxs)(xe.a,{onClick:h,children:[Object(r.jsx)(it.a,{className:e.icons}),Object(r.jsx)(ne.a,{children:"Logout"})]}),Object(r.jsxs)(xe.a,{onClick:m,children:[Object(r.jsx)(ut.a,{className:e.icons}),Object(r.jsx)(ne.a,{children:"My Profile"})]})]})]}),Object(r.jsx)(x.a,{mdUp:!0,children:Object(r.jsxs)("div",{children:[Object(r.jsx)(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){return b(e.currentTarget)},children:Object(r.jsx)(ot.a,{})}),Object(r.jsxs)(mt.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:p,onClose:function(){return b(null)},children:[Object(r.jsxs)(bt.a,{component:"nav",className:e.dropdown_list,children:[Object(r.jsx)(Oe.a,{children:Object(r.jsx)(d.c,{color:"inherit",variant:"inherit",underline:"none",to:"/forum",activeStyle:{opacity:"100%"},className:e.linkStyles,onClick:function(){return b(null)},children:"Forum"})}),Object(r.jsx)(Oe.a,{children:Object(r.jsx)(d.c,{color:"inherit",variant:"inherit",underline:"none",to:"/groups",activeStyle:{opacity:"100%"},className:e.linkStyles,onClick:function(){return b(null)},children:"Groups"})}),Object(r.jsxs)(Oe.a,{children:[Object(r.jsx)(d.c,{color:"inherit",variant:"inherit",underline:"none",to:"/chat",activeStyle:{opacity:"100%"},className:e.linkStyles,onClick:function(){return b(null)},children:"Chats"}),Object(r.jsx)(pt.a,{badgeContent:12,className:e.badge})]})]}),Object(r.jsx)(ht.a,{}),Object(r.jsxs)(xe.a,{className:e.mobile_logout,onClick:h,children:[Object(r.jsx)(it.a,{className:e.icons}),Object(r.jsx)(ne.a,{children:"Logout"})]}),Object(r.jsxs)(xe.a,{onClick:m,children:[Object(r.jsx)(ut.a,{className:e.icons}),Object(r.jsx)(ne.a,{children:"My Profile"})]})]})]})})]})})})},vt=function(e){var t=e.component,a=Object(rt.a)(e,["component"]),n=$(),c=n.isAuth,i=n.isLoading;return Object(r.jsx)(j.b,Object(A.a)(Object(A.a)({},a),{},{render:function(e){return c&&!i?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(xt,{}),Object(r.jsx)(t,Object(A.a)({},e))]}):i?Object(r.jsx)(fe.a,{}):Object(r.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},yt=a(211),wt=a.n(yt),kt=Object(f.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"column",backgroundColor:e.palette.common.white,height:"100vh",width:"100vw"},icon:{fontSize:"300px"},text:{opacity:"80%",padding:"1em"},linkStyles:{textDecoration:"none",color:"blue",padding:"1em 0 0 2em",fontSize:"0.9375rem",opacity:"50%"}}})),Ct=function(){var e=kt(),t=$().isAuth;return Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(wt.a,{className:e.icon}),Object(r.jsx)(ne.a,{variant:"h1",color:"textPrimary",className:e.text,children:"404"}),Object(r.jsx)(ne.a,{variant:"h6",color:"textPrimary",className:e.text,children:"The page you are looking for doesn't exist or another error occured."}),Object(r.jsxs)(De.a,{flexDirection:"row",className:e.linkContainer,children:[t&&Object(r.jsx)(d.c,{to:"/profile",className:e.linkStyles,children:"Profile"}),Object(r.jsx)(d.c,{to:"/login",className:e.linkStyles,children:"Login"})]})]})},Nt=a(468),St=a(214),At=a.n(St),Ft=function(e){if(isNaN(e))return"Not a number";var t=new Date,a=Math.floor(t.getTime()/1e3)-e;if(a>31556952){var n=Math.floor(a/31556952);return n+(n>1?" years ago":" year ago")}if(a>2592e3){var r=Math.floor(a/2592e3);return r+(r>1?" months ago":" month ago")}if(a>604800){var c=Math.floor(a/604800);return c+(c>1?" weeks ago":" week ago")}if(a>172800)return Math.floor(a/86400)+" days ago";if(a>86400)return"yesterday";if(a>3600){var i=Math.floor(a/3600);return i+(i>1?" hours ago":" hour ago")}if(a>60){var s=Math.floor(a/60);return s+(s>1?" minutes ago":" minute ago")}return Math.floor(a)+" seconds ago"},Tt=Object(w.a)((function(e){return{container:{padding:e.spacing(1)},received_container:{background:e.palette.primary.gradient,borderTopRightRadius:20,borderTopLeftRadius:20,borderBottomRightRadius:20,display:"flex",justifyContent:"center",alignItems:"center",width:"auto",maxWidth:500,color:"#FFF"},sent_container:{background:"#e6edff",borderTopRightRadius:20,borderTopLeftRadius:20,borderBottomLeftRadius:20,display:"flex",justifyContent:"center",alignItems:"center",width:"auto",maxWidth:500,justifySelf:"flex-end",color:"#2574FF"},contentText:{alignItems:"center",padding:5},avatar:{width:60,height:60,marginRight:e.spacing(2)},left_timestamp:{fontSize:"0.75rem",opacity:.29,paddingTop:5,alignSelf:"flex-start"},right_timestamp:{fontSize:"0.75rem",opacity:.29,paddingTop:5,alignSelf:"flex-end"}}})),Dt=function(e){var t=e.msg,a=e.isReceived,n=Tt();return Object(r.jsxs)(De.a,{display:"flex",flexDirection:"row",className:n.container,children:[a&&Object(r.jsx)(Ie.a,{className:n.avatar,src:t.profile.imageUrl}),Object(r.jsxs)(De.a,{display:"flex",flexDirection:"column",children:[Object(r.jsx)(Nt.a,{className:a?n.received_container:n.sent_container,children:Object(r.jsx)(ne.a,{className:n.contentText,variant:"h6",children:t.text})}),Object(r.jsx)(ne.a,{className:a?n.left_timestamp:n.right_timestamp,children:Ft(t.timeStamp)})]})]})},Rt=Object(f.a)((function(e){var t;return{list_container:(t={display:"block",height:"calc(100vh - 343px)"},Object(h.a)(t,e.breakpoints.down("sm"),{height:"calc(100vh - 443px)"}),Object(h.a)(t,"overflowY","auto"),Object(h.a)(t,"backgroundColor",e.palette.common.white),Object(h.a)(t,"&::-webkit-scrollbar",{width:"0.6rem",height:"12rem"}),Object(h.a)(t,"&::-webkit-scrollbar-track",{boxShadow:"inset 0 0 5px grey",borderRadius:4}),Object(h.a)(t,"&::-webkit-scrollbar-thumb",{backgroundColor:"rgba(0,0,0,.1)",borderRadius:4}),Object(h.a)(t,"&::-webkit-scrollbar-thumb:hover",{background:"#ccc"}),t),left_msg:{display:"flex",justifyContent:"flex-start"},right_msg:{display:"flex",justifyContent:"flex-end"}}})),It=function(e){var t=e.notifications,a=e.messages,n=Rt(),i=Object(c.useRef)(null),s=$().profile.user;return Object(c.useEffect)((function(){i.current.scrollIntoView()}),[t,a]),Object(r.jsx)(O.a,{className:n.list_container,children:Object(r.jsx)(Nt.a,{children:Object(r.jsxs)(bt.a,{children:[a.map((function(e,t){var a=e.profile.user!==s._id;return Object(r.jsx)(Oe.a,{className:a?n.left_msg:n.right_msg,children:Object(r.jsx)(Dt,{msg:e,isReceived:a})},t)})),Object(r.jsx)(Oe.a,{ref:i})]})})})},Lt=a(213),Et=a.n(Lt),Pt=a(212),Ut=a.n(Pt),Wt=Object(f.a)((function(e){return{container:{minHeight:120,display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:e.spacing(4),"& p":{fontSize:"1.375rem"}},textContainer:{width:"60%",maxHeight:100,overflowY:"auto","&::-webkit-scrollbar":{width:"0.6rem",height:"12rem"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 5px grey",borderRadius:4},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",borderRadius:4},"&::-webkit-scrollbar-thumb:hover":{background:"#ccc"}},buttonContainer:{width:"40%"},text:{height:100,padding:10},iconAdornments:{fontSize:"1.5rem"},sendButton:{margin:e.spacing(0,3),width:110}}})),Gt=function(e){var t=e.groupId,a=Wt(),n=$().profile,c=ee().conversationManager,s=i.a.useState(""),o=Object(F.a)(s,2),l=o[0],u=o[1],d=function(){var e={profile:n._id,text:l,image:n.imageUrl};c.sendMessageToGroup(t,e),u("")};return Object(r.jsxs)(Nt.a,{className:a.container,children:[Object(r.jsx)(De.a,{className:a.textContainer,children:Object(r.jsx)(ce.a,{fullWidth:!0,multiline:!0,value:l,onChange:function(e){u(e.target.value)},placeholder:"Type your message here",InputProps:{classes:{input:a.text},disableUnderline:!0},onKeyUp:function(e){"Enter"===e.key&&d()}})}),Object(r.jsxs)(De.a,{display:"flex",justifyContent:"flex-end",className:a.buttonContainer,children:[Object(r.jsx)(g.a,{children:Object(r.jsx)(Ut.a,{className:a.iconAdornments})}),Object(r.jsx)(g.a,{children:Object(r.jsx)(Et.a,{className:a.iconAdornments})}),Object(r.jsx)(ie.a,{className:a.sendButton,variant:"outlined",color:"secondary",onClick:function(){d()},children:"Send"})]})]})},zt=a.p+"static/media/study_group.66e37f20.png",Bt=Object(f.a)((function(e){var t;return{container:Object(h.a)({},e.breakpoints.down("sm"),{height:"100vh",backgroundColor:"#FFF",paddingTop:e.spacing(6)}),list_container:(t={display:"block",height:"calc(100vh - 100px)",overflowY:"auto"},Object(h.a)(t,e.breakpoints.down("sm"),{backgroundColor:"#FFF"}),Object(h.a)(t,"&::-webkit-scrollbar",{width:"0.6rem",height:"12rem"}),Object(h.a)(t,"&::-webkit-scrollbar-track",{boxShadow:"inset 0 0 5px grey",borderRadius:4}),Object(h.a)(t,"&::-webkit-scrollbar-thumb",{backgroundColor:"rgba(0,0,0,.1)",borderRadius:4}),Object(h.a)(t,"&::-webkit-scrollbar-thumb:hover",{background:"#ccc"}),Object(h.a)(t,e.breakpoints.down("sm"),{height:"auto"}),t),chat_head:{height:120,display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:e.spacing(4),"& p":{fontSize:"1.375rem"}},badge:{color:e.palette.common.white,paddingLeft:e.spacing(4),"& span":{width:40,height:24,fontSize:"0.875rem",background:e.palette.primary.gradient}},small_badge:{color:e.palette.common.white,"& span":{width:30,height:24,fontSize:"0.7rem",background:e.palette.primary.gradient}},chat_list:{height:100,flexWrap:"nowrap",alignItems:"center","&:hover":{backgroundColor:"#e6edff"}},chat_list_active:{height:100,flexWrap:"nowrap",alignItems:"center",backgroundColor:"#e6edff",borderLeft:"7px solid #2967ff"},group_member:{display:"flex",flexDirection:"column",paddingLeft:e.spacing(2)},avatar_container:{marginLeft:e.spacing(5)},avatar:{height:60,width:60,borderRadius:18},group_name:{fontSize:"1.125rem",fontWeight:500},divider:{opacity:.10414,height:1,background:"#2967ff"}}})),Xt=function(e){var t=e.groups,a=e.selectedGroupChat,n=e.updateSelectedChat,c=e.notifications,s=Bt(),o=$().dispatch;return Object(r.jsx)("div",{className:s.container,children:Object(r.jsxs)(O.a,{container:!0,className:s.list_container,children:[Object(r.jsxs)(O.a,{item:!0,className:s.chat_head,children:[Object(r.jsx)(ne.a,{children:"All Chats"}),Object(r.jsx)(pt.a,{badgeContent:Object.values(c).reduce((function(e,t){return e+t}),0),className:s.badge})]}),Object(r.jsx)(ht.a,{className:s.divider}),t.map((function(e,t){return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsxs)(O.a,{item:!0,container:!0,className:e._id===a?s.chat_list_active:s.chat_list,onClick:function(){return t=e._id,n(t),void o({type:"CLOSE_DRAWER"});var t},children:[Object(r.jsx)(O.a,{item:!0,className:s.avatar_container,children:Object(r.jsx)(Ie.a,{alt:"chat_group_img",src:e.image?e.image:zt,variant:"rounded",className:s.avatar})}),Object(r.jsxs)(O.a,{item:!0,container:!0,className:s.group_member,children:[Object(r.jsx)(ne.a,{className:s.group_name,children:e.name}),Object(r.jsxs)(ne.a,{variant:"subtitle1",color:"textSecondary",children:[e.members.length," members"]})]}),Object(r.jsx)(O.a,{item:!0,xs:1,children:Object(r.jsx)(pt.a,{badgeContent:c[e._id],className:s.small_badge})})]}),Object(r.jsx)(ht.a,{className:s.divider})]},e._id)}))]})})},Ht=Object(f.a)((function(e){return{container:{height:"calc(100vh - 100px)"},contentContainer:Object(h.a)({backgroundColor:e.palette.common.white,display:"block",height:"calc(100vh - 100px)"},e.breakpoints.down("sm"),{height:"calc(100vh - 200px)"}),divider:{opacity:.10414,height:1,background:"#2967ff"},chat_head:{height:120,display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:e.spacing(4),"& p":{fontSize:"1.375rem"}},members:{opacity:.4},chat_pic:{width:80,height:80,borderRadius:18,marginRight:e.spacing(2)},dot_icon:{fontSize:e.spacing(5),color:"#d8d8d8"}}})),Mt=function(){var e=Ht(),t=$().userGroups.groups,a=Object(c.useState)(null),n=Object(F.a)(a,2),s=n[0],o=n[1],l=Object(c.useState)(null),u=Object(F.a)(l,2),d=u[0],j=u[1],b=ee(),p=b.conversationManager,m=b.notifications,h=p.getConversations();if(i.a.useEffect((function(){s&&d&&p.clearNotifications(d)}),[s,p,m,d]),i.a.useEffect((function(){if(t.length&&Object.keys(h).length){var e=t.sort((function(e,t){if(h[e._id]&&h[t._id]){var a=h[e._id].messages,n=h[t._id].messages,r=0===a.length?0:a[a.length-1].timeStamp;return(0===n.length?0:n[n.length-1].timeStamp)-r}return 0}));j((function(t){return t||e[0]._id})),o(Object(I.a)(e))}}),[t,h,m]),!s||!d)return Object(r.jsx)(fe.a,{});var f=s.find((function(e){return e._id===d}));return Object(r.jsxs)(O.a,{container:!0,className:e.container,children:[Object(r.jsx)(ae,{children:Object(r.jsx)(Xt,{groups:s,selectedGroupChat:d,updateSelectedChat:j,notifications:m})}),Object(r.jsx)(O.a,{item:!0,container:!0,sm:12,md:9,className:e.contentContainer,children:s.length&&f&&h[d]&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Nt.a,{className:e.chat_head,children:[Object(r.jsx)(Ie.a,{variant:"square",className:e.chat_pic,src:f.image}),Object(r.jsxs)(De.a,{flexGrow:1,flexDirection:"column",children:[Object(r.jsx)(ne.a,{variant:"h5",children:f.name}),Object(r.jsx)(ne.a,{className:e.members,variant:"h6",children:f.members.length+" Members"})]}),Object(r.jsx)(g.a,{children:Object(r.jsx)(At.a,{className:e.dot_icon})})]}),Object(r.jsx)(ht.a,{className:e.divider}),Object(r.jsx)(It,{notifications:m,messages:h[d].messages}),Object(r.jsx)(ht.a,{className:e.divider}),Object(r.jsx)(Gt,{groupId:d})]})})]})},Jt=a(470),Zt=a(471),Yt=a(473),Vt=a(472),qt=a(469),Kt=Object(f.a)((function(e){var t;return{root:{width:"100%",marginTop:e.spacing(2),backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],borderRadius:15},actionArea:{height:120,display:"grid",gridTemplateColumns:"120px 1fr",alignItems:"center"},cardInfo:{display:"grid",gridTemplateRows:"1fr",justify:"space-between",paddingRight:e.spacing(2)},cardImage:{width:100,height:100,justifySelf:"center",borderRadius:"10px"},cardTitle:(t={fontWeight:"bold",fontSize:"1.375rem"},Object(h.a)(t,e.breakpoints.down("sm"),{fontSize:"1.25rem"}),Object(h.a)(t,e.breakpoints.down("xs"),{fontWeight:"normal",fontSize:"1rem"}),t),cardDesc:{fontSize:"0.875rem"},postedBy:{color:"#2968FF"},postDateInfo:{paddingTop:10}}})),_t=function(e){var t=e.post,a=e.updateActivePost;console.log(t);var n=Kt(),i=Object(c.useState)(!0),s=Object(F.a)(i,2),o=s[0],l=s[1];if(Object(c.useEffect)((function(){l(!1)}),[]),o)return Object(r.jsx)(O.a,{container:!0,direction:"column",justify:"center",align:"center",alignItems:"center",children:Object(r.jsx)(qt.a,{size:100,color:"secondary"})});return Object(r.jsx)(Jt.a,{className:n.root,variant:"outlined",onClick:function(){a(t._id)},children:Object(r.jsxs)(Zt.a,{className:n.actionArea,children:[Object(r.jsx)(Vt.a,{component:"img",alt:"alt img",height:"140",image:t.postAvatar?t.postAvatar:zt,title:t.title,className:n.cardImage}),Object(r.jsxs)(Yt.a,{className:n.cardInfo,children:[Object(r.jsx)("div",{children:Object(r.jsx)(ne.a,{className:n.cardTitle,children:t.title})}),Object(r.jsxs)("div",{className:n.postDateInfo,children:[Object(r.jsxs)("span",{className:n.cardDesc,children:["Posted ",t.postDate," by"," "]}),Object(r.jsx)("span",{className:n.postedBy,children:t.name})]})]})]})})},Qt=a(474),$t=a(475),ea=a(120),ta=a.n(ea),aa=a.p+"static/media/upload_placeholder.78ec9a74.png",na=Object(w.a)((function(e){return{divider:{margin:e.spacing(2,0)},input:{width:"100%",paddingBottom:e.spacing(2)},label:{paddingBottom:e.spacing(1)},title:{marginBottom:e.spacing(1)},button:{width:"100%"},close:{height:2.5}}})),ra=function(e){var t=e.handleCloseNewPost,a=na(),n=Object(c.useState)(""),i=Object(F.a)(n,2),s=i[0],o=i[1],l=Object(c.useState)(""),u=Object(F.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(""),p=Object(F.a)(b,2),m=p[0],h=p[1],f=Object(c.useState)(!1),g=Object(F.a)(f,2),x=(g[0],g[1]),v=$().forumId,y=Object(c.useCallback)(function(){var e=Object(P.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=8;break}return x(!0),(a=new FormData).append("image",t[0]),e.next=6,W.a.post("/upload/single",a).catch((function(e){return console.log(e)}));case 6:(n=e.sent)&&n.data&&(h(n.data.imageUrl),x(!1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),w=function(){var e=Object(P.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("forum/post/".concat(v),{text:d,title:s,postAvatar:m});case 3:a=e.sent,o(""),j(""),h(""),t(a.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),k=Object(Ge.a)({onDrop:y,maxFiles:1,accept:"image/*"}),C=k.getRootProps,N=k.isDragActive,S=k.isDragAccept,T=k.isDragReject,D=Object(c.useMemo)((function(){return Object(A.a)(Object(A.a)(Object(A.a)(Object(A.a)({},Ee),N?Pe:{}),S?Ue:{}),T?We:{})}),[N,T,S]);return Object(r.jsxs)("div",{children:[Object(r.jsxs)(O.a,{item:!0,children:[Object(r.jsx)(ie.a,{onClick:t,color:"primary",className:a.close,children:Object(r.jsx)(ta.a,{})}),Object(r.jsx)(ne.a,{variant:"h2",id:"modal-title",align:"center",className:a.title,children:"Add Forum Post"}),Object(r.jsx)(ne.a,{variant:"h4",id:"modal-description",align:"center",children:"Create a post for students in your course!"}),Object(r.jsx)(ht.a,{className:a.divider})]}),Object(r.jsx)(O.a,{item:!0,container:!0,justify:"center",children:Object(r.jsxs)("form",{children:[Object(r.jsxs)(O.a,{item:!0,children:[Object(r.jsx)(re.a,{className:a.label,children:"Post Title"}),Object(r.jsx)(ce.a,{variant:"outlined",onChange:function(e){return o(e.target.value)},className:a.input,placeholder:"Add a title..",value:s})]}),Object(r.jsxs)(O.a,{item:!0,children:[Object(r.jsx)(re.a,{className:a.label,children:"Post Description"}),Object(r.jsx)(ce.a,{variant:"outlined",id:"outlined-multiline-static",multiline:!0,rows:4,onChange:function(e){return j(e.target.value)},className:a.input,placeholder:"Add a description..",value:d})]}),Object(r.jsx)(O.a,{item:!0,children:Object(r.jsxs)(De.a,{className:a.imageContainer,children:[Object(r.jsxs)(le.a,{className:a.label,children:["Drag and drop post picture"," "]}),Object(r.jsx)(Re.a,{title:"Drag and drop post picture",arrow:!0,placement:"right",children:Object(r.jsx)(De.a,Object(A.a)(Object(A.a)({},C({style:D})),{},{children:Object(r.jsx)("img",{src:m||aa,className:a.large,alt:"Post"})}))})]})}),Object(r.jsx)(O.a,{item:!0,children:Object(r.jsx)(ie.a,{color:"primary",startIcon:Object(r.jsx)(ye.a,{}),onClick:w,className:a.button,children:"Create Post"})})]})})]})},ca=a(215),ia=a.n(ca),sa=a(216),oa=a.n(sa),la=Object(w.a)((function(e){return{avatar:{height:"75px",width:"75px",margin:e.spacing(1,0)},commentText:{padding:e.spacing(2)},divider:{margin:e.spacing(2),width:"100%"}}})),ua=function(e){var t=e.comment,a=la();return Object(r.jsxs)("div",{className:a.comment,children:[" ",Object(r.jsxs)(O.a,{container:!0,item:!0,justify:"flex-start",children:[Object(r.jsxs)(O.a,{item:!0,container:!0,direction:"column",alignItems:"center",justify:"center",xs:2,children:[Object(r.jsx)(O.a,{item:!0,children:t.avatar?Object(r.jsx)(Ie.a,{alt:t.name,src:t.avatar,className:a.avatar}):Object(r.jsx)(Ie.a,{className:a.avatar,children:Object(r.jsx)(Be.a,{className:a.avatar})})}),Object(r.jsx)(O.a,{item:!0,children:Object(r.jsx)(ne.a,{variant:"h4",children:t.name})})]}),Object(r.jsx)(O.a,{item:!0,xs:10,children:Object(r.jsx)(ne.a,{className:a.commentText,children:t.text})})]})]})},da=Object(w.a)((function(e){return{title:{marginBottom:e.spacing(2)},close:{height:2.5},upvote:{transform:"rotate(-90deg)",height:"2rem",width:"2rem"},divider:{margin:e.spacing(2,0),width:"100%"},input:{margin:e.spacing(2,0)},avatar:{height:"75px",width:"75px",margin:e.spacing(1),border:"2px solid #2968FF"},circular:{height:"200px",width:"200px"},postText:{padding:e.spacing(1,0,1,5)},button:{height:117}}})),ja=function(e){var t=e.handleClosePost,a=e.activePostId,n=da(),s=Object(c.useState)([]),o=Object(F.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(""),j=Object(F.a)(d,2),b=j[0],p=j[1],m=Object(c.useState)(),h=Object(F.a)(m,2),f=h[0],x=h[1],v=Object(c.useState)(),y=Object(F.a)(v,2),w=y[0],k=y[1],C=Object(c.useState)(),N=Object(F.a)(C,2),S=N[0],A=N[1],T=Object(c.useState)(),D=Object(F.a)(T,2),R=D[0],L=D[1],U=i.a.useState(!1),G=Object(F.a)(U,2),z=G[0],B=G[1],X=function(){var e=Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/forum/post/".concat(a));case 3:t=e.sent,A(t.data.post.title),L(t.data.post.text),x(t.data.post.postAvatar),k(t.data.post.userAvatar),u(t.data.post.comments),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){X()}),[a]);var H=function(){var e=Object(P.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("forum/post/comment/".concat(a),{text:b});case 2:t=e.sent,n=[].concat(Object(I.a)(l),[t.data.comment]),u(n),p("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S?Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{item:!0,container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(r.jsxs)(O.a,{item:!0,container:!0,direction:"column",alignItems:"center",children:[Object(r.jsxs)(O.a,{item:!0,xs:12,container:!0,justify:"space-between",alignItems:"baseline",children:[Object(r.jsx)(O.a,{item:!0,xs:1,children:Object(r.jsx)(ie.a,{onClick:t,color:"primary",className:n.close,children:Object(r.jsx)(ta.a,{})})}),Object(r.jsx)(O.a,{item:!0,xs:10,children:Object(r.jsx)(ne.a,{variant:"h1",align:"center",id:"form-dialog-title",className:n.title,children:S})}),Object(r.jsx)(O.a,{item:!0,xs:1})]}),Object(r.jsx)(ht.a,{className:n.divider}),Object(r.jsx)(O.a,{item:!0,container:!0,xs:12,justify:"center",children:Object(r.jsx)(O.a,{item:!0,children:Object(r.jsx)("img",{src:f||zt,alt:"Post"})})}),Object(r.jsx)(De.a,{className:n.imageContainer}),Object(r.jsx)(ht.a,{className:n.divider}),Object(r.jsxs)(O.a,{item:!0,container:!0,xs:12,alignItems:"center",children:[Object(r.jsx)(O.a,{item:!0,xs:1,children:Object(r.jsx)(Ie.a,{className:n.avatar,src:w})}),Object(r.jsx)(O.a,{item:!0,xs:10,children:Object(r.jsx)(ne.a,{className:n.postText,children:R})}),Object(r.jsx)(O.a,{item:!0,xs:1,children:Object(r.jsx)(g.a,{"aria-label":"upvote",onClick:function(){B(!z)},children:z?Object(r.jsx)(ia.a,{color:"secondary",className:n.upvote}):Object(r.jsx)(oa.a,{color:"secondary",className:n.upvote})})})]}),Object(r.jsx)(ht.a,{className:n.divider}),Object(r.jsxs)(O.a,{item:!0,container:!0,xs:12,justify:"center",children:[Object(r.jsx)(O.a,{item:!0,xs:1}),Object(r.jsx)(O.a,{item:!0,xs:9,container:!0,direction:"column",children:l.map((function(e){return Object(r.jsx)(O.a,{item:!0,children:Object(r.jsx)(ua,{comment:e},e._id)})}))}),Object(r.jsx)(O.a,{item:!0,xs:1}),Object(r.jsxs)(O.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"center",spacing:1,children:[Object(r.jsx)(O.a,{item:!0,xs:10,children:Object(r.jsx)(ce.a,{variant:"outlined",autoFocus:!0,label:"Comment on post",type:"text",multiline:!0,rows:4,rowsMax:4,color:"secondary",fullWidth:!0,className:n.input,value:b,onChange:function(e){return p(e.target.value)}})}),Object(r.jsx)(O.a,{item:!0,xs:2,children:Object(r.jsx)(ie.a,{color:"secondary",variant:"outlined",onClick:H,className:n.button,fullWidth:!0,children:"Add Comment"})})]})]})]})})}):Object(r.jsx)(O.a,{container:!0,direction:"column",justify:"center",align:"center",alignItems:"center",className:n.circular,children:Object(r.jsx)(qt.a,{size:100,color:"secondary"})})},ba=Object(w.a)((function(e){return{headerContainer:{height:150},headerText:Object(h.a)({paddingLeft:"2em"},e.breakpoints.down("xs"),{paddingLeft:8}),divider:{margin:e.spacing(1,0),width:"100%"},cardContainer:{maxWidth:"100%"},button:Object(h.a)({width:150,marginRight:e.spacing(3)},e.breakpoints.down("xs"),{marginRight:e.spacing(1)}),postCard:Object(h.a)({maxWidth:"100%",padding:e.spacing(0,10,0,10)},e.breakpoints.down("xs"),{padding:e.spacing(0,1,0,1)}),paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],marginTop:"75px",padding:e.spacing(3)},cardTitle:Object(h.a)({fontWeight:"bold",fontSize:"1.375rem"},e.breakpoints.down("sm"),{fontSize:"1rem"}),imageContainer:{flex:1,display:"flex",flexDirection:"column",padding:e.spacing(1,0),maxWidth:500,maxHeight:500},close:{height:2.5},upvote:{transform:"rotate(-90deg)",height:"2rem",width:"2rem"},input:{margin:e.spacing(2,0)},emptyMessage:{marginTop:e.spacing(4)}}})),pa=function(e){var t=e.name,a=e.groupId,n=ba(),s=i.a.useState(!1),o=Object(F.a)(s,2),l=o[0],u=o[1],d=i.a.useState(!1),j=Object(F.a)(d,2),b=j[0],p=j[1],m=i.a.useState(""),h=Object(F.a)(m,2),f=h[0],g=h[1],x=function(e){e._id&&N([e].concat(Object(I.a)(C))),p(!1)},v=function(){u(!1)},y=function(e){g(e),u(!0)},w=Object(c.useState)([]),k=Object(F.a)(w,2),C=k[0],N=k[1],S=Object(c.useCallback)(Object(P.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/forum/".concat(a));case 3:t=e.sent,N(t.data.posts),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a]);Object(c.useEffect)((function(){S(a)}),[S,a]);return Object(r.jsxs)(O.a,{container:!0,direction:"column",alignContent:"center",item:!0,sm:12,children:[Object(r.jsxs)(O.a,{item:!0,container:!0,justify:"space-between",alignItems:"center",className:n.headerContainer,children:[Object(r.jsx)(O.a,{item:!0,children:Object(r.jsx)(ne.a,{variant:"h1",className:n.headerText,children:t})}),Object(r.jsxs)(O.a,{item:!0,container:!0,sm:3,children:[Object(r.jsx)(ie.a,{className:n.button,onClick:function(){p(!0)},variant:"text",color:"primary",type:"button",startIcon:Object(r.jsx)(ye.a,{}),children:"Add Post"}),Object(r.jsx)(Qt.a,{open:b,onClose:x,"aria-labelledby":"form-dialog-title",className:n.dialog,maxWidth:"md",children:Object(r.jsx)($t.a,{children:Object(r.jsx)(ra,{handleCloseNewPost:x})})})]})]}),Object(r.jsx)(ht.a,{className:n.divider}),Object(r.jsxs)(O.a,{item:!0,container:!0,sm:8,justify:"flex-start",direction:"column",className:n.cardContainer,children:[Object(r.jsx)(O.a,{item:!0,className:n.postCard,children:C.length?C.map((function(e){return Object(r.jsx)(_t,{post:e,updateActivePost:y},e._id)})):Object(r.jsx)(ne.a,{variant:"h4",className:n.emptyMessage,children:"There appears to be no posts. Get the conversation started by clicking add post above!"})}),Object(r.jsx)(Qt.a,{open:l,onClose:v,"aria-labelledby":"form-dialog-title",className:n.dialog,maxWidth:"lg",children:Object(r.jsx)($t.a,{children:Object(r.jsx)(ja,{handleClosePost:v,activePostId:f})})})]})]})},ma=a(217),ha=a.n(ma),fa=Object(f.a)((function(e){return{container:Object(h.a)({},e.breakpoints.down("sm"),{height:"100vh",backgroundColor:"#FFF",paddingTop:e.spacing(6)}),chat_head:{height:120,display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:e.spacing(4),"& p":{fontSize:"1.375rem"}},badge:{color:e.palette.common.white,paddingLeft:e.spacing(4),"& span":{width:40,height:24,fontSize:"0.875rem",background:e.palette.primary.gradient}},accordion:{display:"flex",flexDirection:"column"},accordion_container:{display:"block",width:"85%",backgroundColor:"#e6edff",margin:e.spacing(0,5,2,4),padding:e.spacing(2.5),borderRadius:8},course_name:{display:"flex",justifyContent:"space-between",alignItems:"center","& p":{fontSize:"1.125rem"}},icons:{color:"#2968ff",fontSize:"1.375rem"},group_list:{color:"#2574FF",cursor:"pointer",marginTop:16,fontSize:"0.9375rem"}}})),Oa=function(e){var t=e.onGroupUpdate,a=fa(),n=$(),i=n.profile,s=n.dispatch,o=Object(c.useState)([]),l=Object(F.a)(o,2),u=l[0],d=l[1],j=Object(c.useState)([]),b=Object(F.a)(j,2),p=b[0],m=b[1],h=Object(c.useRef)(!0),f=function(){var e=Object(P.a)(E.a.mark((function e(){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/user/groups/");case 3:if(a=e.sent,n=Object(I.a)(a.data).map((function(e,t){return 0===t?(m([e._id]),Object(A.a)(Object(A.a)({},e),{},{expand:!0})):Object(A.a)(Object(A.a)({},e),{},{expand:!1})})),d(n),!h.current){e.next=11;break}return s({type:"FORUM_ID",payload:a.data[0].groups[0].forum}),t(a.data[0].groups[0].name,a.data[0].groups[0]._id),h.current=!1,e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){f()}),[]);return Object(r.jsxs)(O.a,{className:a.container,children:[Object(r.jsxs)(O.a,{item:!0,className:a.chat_head,children:[Object(r.jsx)(ne.a,{children:"My Courses"}),Object(r.jsx)(pt.a,{badgeContent:u.length,className:a.badge})]}),Object(r.jsx)(O.a,{item:!0,className:a.accordion,children:u.map((function(e){var n=null,c=p.some((function(t){return e._id===t}));return e.expand&&c&&(n=e.groups.map((function(e){if(e.members.includes(i.user._id))return Object(r.jsx)(ne.a,{className:a.group_list,onClick:function(){var a,n;s({type:"FORUM_ID",payload:e.forum}),a=e.name,n=e._id,t(a,n),s({type:"CLOSE_DRAWER"})},children:e.name},e._id)}))),Object(r.jsxs)("div",{className:a.accordion_container,children:[Object(r.jsxs)(O.a,{className:a.course_name,children:[Object(r.jsx)(ne.a,{children:e.name}),Object(r.jsx)(ie.a,{onClick:function(){return function(e){m([].concat(Object(I.a)(p),[e]));var t=u.map((function(t){return t._id!==e||t.expand?t._id===e&&t.expand?Object(A.a)(Object(A.a)({},t),{},{expand:!1}):Object(A.a)({},t):Object(A.a)(Object(A.a)({},t),{},{expand:!0})}));d(t)}(e._id)},children:e.expand&&c?Object(r.jsx)(ha.a,{className:a.icons}):Object(r.jsx)(ye.a,{className:a.icons})})]}),Object(r.jsx)("div",{children:n})]},e._id)}))})]})},ga=Object(f.a)((function(e){return{container:Object(h.a)({height:"calc(100vh - 100px)"},e.breakpoints.down("sm"),{height:"auto"}),contentContainer:{backgroundColor:e.palette.common.white}}})),xa=function(){var e=ga(),t=Object(c.useState)(""),a=Object(F.a)(t,2),n=a[0],i=a[1],s=Object(c.useState)(""),o=Object(F.a)(s,2),l=o[0],u=o[1];return Object(r.jsxs)(O.a,{container:!0,className:e.container,children:[Object(r.jsx)(ae,{children:Object(r.jsx)(Oa,{onGroupUpdate:function(e,t){i(e),u(t)}})}),Object(r.jsx)(O.a,{item:!0,container:!0,sm:12,md:9,className:e.contentContainer,children:Object(r.jsx)(pa,{name:n,groupId:l})})]})},va=a(227),ya={borderWidth:3,borderRadius:5,borderColor:"#eeeeee",borderStyle:"solid",backgroundColor:"#d8d8d8",outline:"none",transition:"border .24s ease-in-out"},wa={borderColor:"#2196f3"},ka={borderColor:"#00e676"},Ca={borderColor:"#ff1744"},Na=a(476),Sa=a(218),Aa=a.n(Sa),Fa=Object(f.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"60%"},cardContent:{flexGrow:1},button:{width:"100%"}}})),Ta=function(e){var t,a=Fa(),n=i.a.useState(!1),c=Object(F.a)(n,2),s=c[0],o=c[1];return Object(r.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,children:Object(r.jsxs)(Jt.a,{className:a.card,children:[Object(r.jsx)(Vt.a,{className:a.cardMedia,image:e.data.image||zt,title:e.data.name}),Object(r.jsxs)(Yt.a,{className:a.cardContent,children:[Object(r.jsx)(ne.a,{gutterBottom:!0,variant:"h6",style:{fontWeight:600},children:e.data.name}),Object(r.jsxs)(O.a,{container:!0,direction:"row",style:{paddingTop:"10px"},children:[Object(r.jsx)(Aa.a,{color:"disabled",fontSize:"small"}),Object(r.jsxs)(ne.a,{variant:"body1",color:"textSecondary",style:{paddingLeft:"5px"},children:[(t=e.data.members.length,t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"G":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t)," members"]})]})]}),Object(r.jsx)(Na.a,{onClick:Object(P.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,e.handleCardPress(e.data._id);case 3:case"end":return t.stop()}}),t)}))),children:Object(r.jsx)(ie.a,{disabled:s,className:a.button,color:"primary",children:e.actionText})})]})})},Da=Object(f.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},button:{marginTop:"60px",marginRight:"60px",textTransform:"none"},paper:{position:"fixed",width:475,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:4,outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},groupImageContainer:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:"10px",paddingBottom:"10px"},large:{height:"300px",width:"400px"},uploading:{opacity:.5,height:"300px",width:"400px"}}})),Ra=function(){var e=Da(),t=ee().conversationManager,a=$(),n=a.userGroups,s=a.userCourse,o=a.dispatch,l=n.groups,u=n.courseGroups,d=Object(c.useState)([]),j=Object(F.a)(d,2),p=j[0],m=j[1],h=Object(b.b)().enqueueSnackbar,f=Object(c.useState)(!1),g=Object(F.a)(f,2),x=g[0],v=g[1],y=Object(c.useState)(""),w=Object(F.a)(y,2),k=w[0],C=w[1],N=Object(c.useState)(!1),S=Object(F.a)(N,2),T=S[0],D=S[1],R=Object(c.useState)(""),L=Object(F.a)(R,2),U=L[0],G=L[1],z=Object(c.useState)(""),B=Object(F.a)(z,2),H=B[0],M=B[1],J=Object(c.useState)(""),Z=Object(F.a)(J,2),Y=Z[0],V=Z[1],q=Object(c.useState)(""),K=Object(F.a)(q,2),_=K[0],Q=K[1],te=Object(c.useCallback)(function(){var e=Object(P.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=8;break}return D(!0),(a=new FormData).append("image",t[0]),e.next=6,W.a.post("/upload/single",a).catch((function(e){return console.log(e)}));case 6:(n=e.sent)&&n.data&&(G(n.data.imageUrl),D(!1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),ae=Object(Ge.a)({onDrop:te,maxFiles:1,accept:"image/*"}),re=ae.getRootProps,se=ae.isDragActive,oe=ae.isDragAccept,ue=ae.isDragReject,de=Object(c.useMemo)((function(){return Object(A.a)(Object(A.a)(Object(A.a)(Object(A.a)({},ya),se?wa:{}),oe?ka:{}),ue?Ca:{})}),[se,ue,oe]),je=function(){var e=Object(P.a)(E.a.mark((function e(a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!be()){e.next=21;break}return n={groupName:H,imageUrl:U,courseId:_},e.next=5,W.a.post("/user/groups",n);case 5:if(r=e.sent,M(""),Q(""),G(""),!r.data){e.next=18;break}return l.push(r.data.data),e.next=13,X(l)(o);case 13:t.updateRooms(l),h("Group Created Successfully.",{variant:"success",autoHideDuration:"5000"}),v(!1),e.next=19;break;case 18:h("Error Creating Group.",{variant:"Error",autoHideDuration:"5000"});case 19:e.next=22;break;case 21:h("Error Creating Group.",{variant:"Error",autoHideDuration:"5000"});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){return!(!Y||!_)},pe=function(e){try{var t=[].concat(Object(I.a)(l),Object(I.a)(u)).map((function(e){return e.name.toLowerCase()}));return M(e),!0!==t.includes(e)?(C(""),V(!0),!1):(C("A group with this name already exists!"),V(!1),!0)}catch(a){console.log(a)}},me=Object(r.jsxs)("div",{className:e.paper,children:[Object(r.jsx)("h2",{children:"Create a new group"}),Object(r.jsx)("p",{children:"Add group name and select your course."}),Object(r.jsxs)("form",{className:e.form,onSubmit:je,children:[Object(r.jsx)(le.a,{children:k?Object(r.jsx)("span",{style:{color:"#fc2525"},children:k}):"Please enter a group name"}),Object(r.jsx)(ce.a,{name:"group_name",fullWidth:!0,variant:"outlined",onChange:function(e){pe(e.target.value.toLowerCase())}}),Object(r.jsxs)(De.a,{className:e.groupImageContainer,children:[Object(r.jsx)(le.a,{children:"Drag and Drop Group Picture "}),Object(r.jsx)(Re.a,{title:"Drag and drop group picture",arrow:!0,placement:"right",children:Object(r.jsx)(De.a,Object(A.a)(Object(A.a)({},re({style:de})),{},{children:Object(r.jsx)("img",{alt:"Profile Pic",src:U||aa,className:T?e.uploading:e.large})}))})]}),Object(r.jsx)(le.a,{children:"Course"}),Object(r.jsx)(ge.a,{name:"course",variant:"outlined",fullWidth:!0,defaultValue:"",children:s.userCourses.map((function(e){return Object(r.jsx)(xe.a,{value:e._id,onClick:function(){return Q(e._id)},children:e.name},e._id)}))}),Object(r.jsx)(ie.a,{type:"submit",className:e.button,color:"primary",style:{marginTop:"20px"},children:"Create New Group"})]})]});i.a.useEffect((function(){var e=u.filter((function(e){return!l.some((function(t){return t._id===e._id}))}));m(e)}),[u,n,l]);var he=function(){var e=Object(P.a)(E.a.mark((function e(a){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.post("/user/groups/".concat(a),{groupId:a});case 3:n=e.sent,r=[].concat(Object(I.a)(l),[n.data]),c={courseGroups:Object(I.a)(u),groups:r},o({type:"updateUserGroups",payload:c}),t.updateRooms(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(P.a)(E.a.mark((function e(a){var r,c,i,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.delete("/user/groups/".concat(a),{groupId:a});case 3:r=e.sent,c=Object(I.a)(l),i=Object(I.a)(n.courseGroups),s=c.filter((function(e){return e._id!==r.data._id})),u=i.findIndex((function(e){return e._id===r.data._id})),i[u]=r.data,o({type:"updateUserGroups",payload:{courseGroups:i,groups:s}}),t.updateRooms(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(O.a,{children:[Object(r.jsxs)(O.a,{container:!0,children:[Object(r.jsx)(O.a,{item:!0,direction:"row",container:!0,md:4}),Object(r.jsx)(O.a,{item:!0,justify:"center",direction:"row",container:!0,md:4}),Object(r.jsxs)(O.a,{item:!0,justify:"flex-end",direction:"row",container:!0,md:4,children:[Object(r.jsx)(ie.a,{className:e.button,color:"primary",onClick:function(){v(!0),G("")},children:"Create New Group"}),Object(r.jsx)(va.a,{open:x,onClose:function(){v(!1),G(""),M(""),C("")},children:me})]})]}),l.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O.a,{container:!0,children:Object(r.jsx)(O.a,{item:!0,justify:"center",direction:"row",container:!0,sm:12,children:Object(r.jsx)(ne.a,{variant:"h1",color:"textPrimary",style:{paddingTop:"60px"},children:"Your Groups"})})}),Object(r.jsx)(Nt.a,{className:e.cardGrid,maxWidth:"md",children:Object(r.jsx)(O.a,{container:!0,spacing:4,children:l.map((function(e){return Object(r.jsx)(Ta,{actionText:"Leave Group",data:e,handleCardPress:fe},e._id)}))})})]}),p.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(O.a,{container:!0,children:[Object(r.jsx)(O.a,{item:!0,justify:"center",direction:"row",container:!0,sm:12,children:Object(r.jsx)(ne.a,{variant:"h1",color:"textPrimary",style:{paddingTop:"60px"},children:"Sugggested For You."})}),Object(r.jsx)(O.a,{item:!0,justify:"center",direction:"row",container:!0,sm:12,children:Object(r.jsx)(ne.a,{variant:"h6",color:"textSecondary",style:{paddingTop:"20px"},children:"Groups you might be interested in!"})})]}),Object(r.jsx)(Nt.a,{className:e.cardGrid,maxWidth:"md",children:Object(r.jsx)(O.a,{container:!0,spacing:4,children:p.map((function(e){return Object(r.jsx)(Ta,{actionText:"Join Group",data:e,handleCardPress:he},e._id)}))})})]})]})},Ia=(a(402),function(e){var t=e.children,a=$(),n=a.dispatch,i=a.isLoading,s=ee().conversationManager;return Object(c.useEffect)((function(){i&&B()(n).then((function(e){var t=e.map((function(e){return e._id}));s.startSocket(t),X(e)(n)}))}),[i,n,s]),Object(c.useEffect)((function(){return function(){return s.closeSocket()}}),[s]),Object(r.jsx)(r.Fragment,{children:t})});var La=function(){return Object(r.jsx)(l.a,{theme:m,children:Object(r.jsx)(b.a,{children:Object(r.jsx)(u.a,{children:Object(r.jsx)(d.a,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(j.a,{to:"/sign-up"})}}),Object(r.jsx)(j.b,{exact:!0,path:"/sign-up",component:tt}),Object(r.jsx)(j.b,{exact:!0,path:"/login",component:nt}),Object(r.jsx)(Ia,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(vt,{exact:!0,path:"/profile",component:Ze}),Object(r.jsx)(vt,{path:"/profile/:profileContent",component:Ze}),Object(r.jsx)(vt,{path:"/forum",component:xa}),Object(r.jsx)(vt,{path:"/groups",component:Ra}),Object(r.jsx)(vt,{path:"/chat",component:Mt}),Object(r.jsx)(j.b,{path:"/error",component:Ct}),Object(r.jsx)(j.a,{to:"/error"})]})})]})})})})})};o.a.render(Object(r.jsx)(Q,{children:Object(r.jsx)(La,{})}),document.getElementById("root"))}},[[403,1,2]]]);
//# sourceMappingURL=main.8d4c6150.chunk.js.map
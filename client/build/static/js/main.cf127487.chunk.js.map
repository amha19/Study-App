{"version":3,"sources":["themes/theme.js","websocket/socket-events.js","context/actions.js","websocket/ConversationManager.js","context/reducer.js","context/studyappContext.js","components/Profile/Sidebar.js","components/Profile/UserInfo.js","utils/handleAuthErrors.js","components/Profile/Settings.js","components/Profile/MyCourses.js","components/DragzonePicture.styles.js","components/DragzonePicture.js","pages/ProfileSidePanel.js","pages/Profile.js","images/logo.png","images/sign-up.png","pages/auth/Styles.js","pages/auth/CourseList.js","pages/auth/Sign-up.js","pages/auth/Login.js","pages/layout/NavbarStyles.js","pages/layout/Navbar.js","images/logo_study.png","pages/routing/ProtectedRoute.js","pages/NotFound.js","utils/convertTimeStamps.js","components/Chat/Message.js","components/Chat/Conversation.js","components/Chat/MessageCreator.js","images/study_group.png","pages/contentPages/ChatSidePanel.js","pages/contentPages/Chat.js","components/Forum/PostCard.js","images/upload_placeholder.png","components/Forum/AddPostDialog.js","components/Posts/Comments.js","components/Forum/ForumDialog.js","components/Forum/ForumContent.js","pages/contentPages/ForumSidePanel.js","pages/contentPages/Forum.js","components/Group/GroupPicture.styles.js","components/Group/GroupCard.js","pages/contentPages/Groups.js","pages/layout/Layout.js","App.js","index.js"],"names":["theme","createMuiTheme","typography","fontFamily","h1","fontSize","h2","fontWeight","letterSpacing","h3","h4","opacity","h5","h6","palette","primary","main","light","gradient","secondary","overrides","MuiButton","textPrimary","color","background","textTransform","padding","height","outlinedPrimary","borderColor","outlinedSecondary","socketEvents","socket","handleReceiveMessage","on","console","log","data","register","values","dispatch","a","axios","post","catch","err","response","res","status","type","login","logout","delete","fetchProfile","get","profile","user","courses","payload","school","university","name","userCourses","schoolCourses","groups","message","fetchUserGroups","userGroups","courseGroups","map","course","flat","updateProfile","userInfo","put","fetchConversations","updatePassword","password","ConversationManager","init","updateNotifications","_updateNotifications","startSocket","groupNames","_socket","connected","io","opts","query","connect","updateConversations","getConversations","_conversations","room","messages","push","_notifications","sendMessageToGroup","groupId","emit","updateRooms","group","_id","then","conversations","convos","notifications","forEach","c","clearNotifications","closeSocket","_updateConversations","disconnect","this","autoConnect","initialState","isLoading","isAuth","userCourse","reducer","state","action","isOpen","forumId","Error","AppContext","createContext","conversationManager","ConversationContext","AppProvider","children","useReducer","React","useState","setNotifications","useEffect","Provider","value","useGlobalContext","useContext","useConversationContext","useStyles","makeStyles","fab_icon","margin","backgroundColor","mobile_container","common","white","menu_icon","drawer","width","overflowY","boxShadow","borderRadius","icon_btn","spacing","Sidebar","classes","handleClose","Hidden","smDown","Grid","item","md","mdUp","container","className","Fab","aria-label","onClick","Drawer","anchor","open","onClose","justify","alignItems","style","position","IconButton","header","breakpoints","down","inputStyles","paddingRight","labelStyles","paddingBottom","profileGrid","button","marginLeft","marginTop","marginBottom","listsContainer","display","flexDirection","inputWrapper","UserInfo","enqueueSnackbar","useSnackbar","firstName","setFirstName","lastName","setLastName","email","setEmail","location","setLocation","phone","setPhone","handleSubmit","e","preventDefault","actions","variant","autoHideDuration","xs","direction","noValidate","autoComplete","Typography","InputLabel","TextField","defaultValue","onChange","target","placeholder","Button","handleAuthErrors","setErrors","errors","param","oldPassword","settings","form","maxWidth","helper_text","SignupSchema","Yup","shape","required","newPassword","min","confirmPassword","oneOf","ProfileSettings","initialValues","validationSchema","onSubmit","setSubmitting","resetForm","setTimeout","submitForm","isSubmitting","FormHelperText","component","MikTextField","disabled","title","list_item","justifyContent","btn_group","add_btn","MyCourses","selectId","setSelectId","setCourse","myCourses","setMyCourses","hasChanges","setHasChanges","JSON","stringify","handleAddCourses","handleRemove","id","some","filter","groupIds","length","reduce","arr","g","groupsRemoved","LinearProgress","ListItem","edge","Select","MenuItem","startIcon","find","flex","large","uploading","baseStyle","borderWidth","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","ProfilePic","setUploading","onDrop","useCallback","droppedFiles","updateProfilePicture","useDropzone","maxFiles","accept","getRootProps","isDragActive","isDragAccept","isDragReject","useMemo","file","FormData","append","Box","htmlFor","Tooltip","arrow","placement","imageUrl","Avatar","alt","src","hidden","multiple","event","stopPropagation","files","linkStyles","textDecoration","profilePic","paddingTop","linkContainer","profileName","ProfileSidePanel","props","handleDrawerClose","DragzonePicture","align","to","exact","contentContainer","minHeight","Profile","sm","path","Settings","root","logoContainer","logo","paper","textAlign","backgroundImage","Background","backgroundPosition","backgroundSize","float","dark_overlay","formContainer","add_course","demo_btn","CourseList","memo","removeCourse","endIcon","Signup","isProfLoading","setIsProfLoading","schools","setSchools","courseId","setCourseId","setCourses","setId","addedCourses","setAddedCourses","fetchData","s","addCourse","ac","handleRemoveCourse","Link","underline","RouterLink","select","Paper","LoginSchema","Login","locState","redirectPath","from","pathname","flexGrow","toolbar","logo_study","marginRight","cursor","listContainer","menuButton","up","avatar","badge","paddingLeft","profile_button","icons","dropdown_list","mobile_logout","Navbar","history","useHistory","anchorEl","setAnchorEl","Boolean","handleProfile","handleLogout","AppBar","elevation","Toolbar","List","Badge","badgeContent","Object","b","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","Divider","PrivateRoute","Component","rest","render","icon","text","NotFound","msToTimeAgo","ms","isNaN","d","Date","seconds","Math","floor","getTime","y","m","w","h","received_container","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","sent_container","borderBottomLeftRadius","justifySelf","contentText","left_timestamp","alignSelf","right_timestamp","Message","msg","isReceived","Container","timeStamp","list_container","left_msg","right_msg","Conversation","lastRef","useRef","current","scrollIntoView","index","ref","textContainer","maxHeight","buttonContainer","iconAdornments","sendButton","MessageCreator","workingText","setWorkingText","sendMessage","image","fullWidth","multiline","ev","InputProps","input","disableUnderline","onKeyUp","key","chat_head","small_badge","chat_list","flexWrap","chat_list_active","borderLeft","group_member","avatar_container","group_name","divider","ChatSidePanel","selectedGroupChat","updateSelectedChat","Fragment","groupPicture","members","chat_pic","dot_icon","Chat","chatGroups","setChatGroups","setSelectedGroupChat","keys","sorted","sort","aGroup","bGroup","aMessages","bMessages","aMostRecent","selectedGroup","shadows","actionArea","gridTemplateColumns","cardInfo","gridTemplateRows","cardImage","cardTitle","cardDesc","postedBy","postDateInfo","PostCard","updateActivePost","setIsLoading","CircularProgress","size","Card","CardActionArea","CardMedia","postAvatar","defaultPostPicture","CardContent","postDate","label","close","AddPostDialog","handleCloseNewPost","setTitle","description","setDescription","setImageUrl","createNewPost","rows","imageContainer","commentText","Comments","comment","upvote","transform","border","circular","postText","PostDialog","handleClosePost","activePostId","comments","setComments","newComment","setNewComment","avatarUrl","setAvatarUrl","userAvatar","setUserAvatar","setPostText","upvoted","setUpvoted","getPostData","addComment","updatedComments","autoFocus","rowsMax","headerContainer","headerText","cardContainer","postCard","emptyMessage","ForumContent","openPost","setOpenPost","openNewPost","setOpenNewPost","setActivePostId","newPost","setForumPosts","forumPosts","postId","getGroupForum","posts","alignContent","Dialog","aria-labelledby","dialog","DialogContent","ForumDialog","accordion","accordion_container","course_name","group_list","ForumSidePanel","onGroupUpdate","courseList","setCourseList","firstUpdate","getGroups","newCourseList","cgl","expand","forum","groupList","isIdThere","includes","editedCourseList","cl","showGroup","Forum","setSelectedGroup","selectedGroupId","setSelectedGroupId","card","cardMedia","cardContent","GroupCard","num","isUpdating","setIsUpdating","gutterBottom","toFixed","replace","CardActions","handleCardPress","actionText","cardGrid","top","left","groupImageContainer","Groups","suggestedGroups","setSuggestedGroups","openModal","setOpen","groupError","setGroupErrors","setGroupPicture","groupName","setGroupName","groupNameValid","setGroupNameValid","isFormValid","checkGroupExists","allGroupNames","toLowerCase","body","defaultImage","suggested","joinedGroup","handleJoinGroup","currGroups","newUserGroups","handleLeaveGroup","currentGroups","updatedCourseGroups","myGroups","findIndex","Modal","Layout","App","CssBaseline","ProtectedRoute","ReactDOM","document","getElementById"],"mappings":"+PAEaA,EAAQC,YAAe,CAChCC,WAAY,CACRC,WAAY,UACZC,GAAI,CACAC,SAAU,WAEdC,GAAI,CACAD,SAAU,WACVE,WAAY,OACZC,cAAe,IAEnBC,GAAI,CACAN,WAAY,aACZE,SAAU,WACVE,WAAY,IACZC,eAAgB,GAEpBE,GAAI,CACAL,SAAU,OACVM,QAAS,OAEbC,GAAI,CACAP,SAAU,UACVE,WAAY,IACZC,eAAgB,IAEpBK,GAAI,CACAR,SAAU,OACVE,WAAY,MAGpBO,QAAS,CACLC,QAAS,CACLC,KAAM,UACNC,MAAO,UACPC,SAAU,4CAEdC,UAAW,CACPH,KAAM,YAGdI,UAAW,CACPC,UAAW,CACPC,YAAa,CACTC,MAAO,OACPC,WAAY,2CACZC,cAAe,OACfpB,SAAU,WACVqB,QAAS,GACTC,OAAQ,QAEZC,gBAAiB,CACbL,MAAO,OACPE,cAAe,OACfpB,SAAU,WACVqB,QAAS,GACTC,OAAQ,OACR,UAAW,CACPE,YAAa,SAGrBC,kBAAmB,CACfP,MAAO,UACPE,cAAe,OACfpB,SAAU,WACVqB,QAAS,GACTC,OAAQ,Y,0IC/CTI,EArBM,SAACC,EAAQC,GAC1BD,EAAOE,GAAG,WAAW,WACjBC,QAAQC,IAAI,iCAGhBJ,EAAOE,GAAG,iBAAiB,SAACG,GACxBF,QAAQC,IAAI,uBAAwBC,MAGxCL,EAAOE,GAAG,iBAAiB,SAACG,GACxBJ,EAAqBI,MAGzBL,EAAOE,GAAG,cAAc,WACpBC,QAAQC,IAAI,sCAEhBJ,EAAOE,GAAG,iBAAiB,WACvBC,QAAQC,IAAI,kC,kDCfPE,EAAW,SAAAC,GAAM,8CAAI,WAAMC,GAAN,eAAAC,EAAA,+EAERC,IAAMC,KAAK,gBAAiBJ,GAAQK,OAAM,SAAAC,GACxD,MAAMA,EAAIC,YAHY,UAKP,OAHbC,EAFoB,QAKlBC,OALkB,uBAMtBR,EAAS,CAAES,KAAM,qBANK,kBAOfF,GAPe,8DAU1BZ,QAAQC,IAAR,MACAI,EAAS,CAAES,KAAM,kBAXS,iFAAJ,uDAgBjBC,EAAQ,SAAAX,GAAM,8CAAI,WAAMC,GAAN,eAAAC,EAAA,+EAELC,IAAMC,KAAK,aAAcJ,GAAQK,OAAM,SAAAC,GACrD,MAAMA,EAAIC,YAHS,UAMJ,OAJbC,EAFiB,QAMfC,OANe,uBAOnBR,EAAS,CAAES,KAAM,kBAPE,kBAQZF,GARY,8DAWvBZ,QAAQC,IAAI,KAAIU,UAChBN,EAAS,CAAES,KAAM,eAZM,iFAAJ,uDAiBdE,EAAS,yDAAM,WAAMX,GAAN,SAAAC,EAAA,+EAEFC,IAAMU,OAAO,gBAFX,OAID,MAJC,OAIZJ,QACJR,EAAS,CAAES,KAAM,WALD,gDAQpBd,QAAQC,IAAR,MARoB,yDAAN,uDAYTiB,EAAe,yDAAM,WAAMb,GAAN,uBAAAC,EAAA,+EAERC,IAAMY,IAAI,YAFF,cAEpBP,EAFoB,SAIAA,EAAIV,KAAtBkB,EAJkB,EAIlBA,QAASC,EAJS,EAITA,KACTC,EAAYD,EAAZC,QAERjB,EAAS,CACLS,KAAM,kBACNS,QAAS,CAAC,eAECH,GAEP,CACII,OAAQH,EAAKI,WAAaJ,EAAKI,WAAWC,KAAO,GACjDC,YAAaL,EACbM,cAAeP,EAAKI,WAAaJ,EAAKI,WAAWH,QAAU,OAhB7C,kBAoBnBD,EAAKQ,QApBc,kCAsBtB,KAAIlB,UAAoC,MAAxB,KAAIA,SAASE,QAC7BR,EAAS,CAAES,KAAM,eAErBd,QAAQC,IAAI,KAAI6B,SAzBU,0DAAN,uDA6BfC,EAAkB,SAAAC,GAAU,8CAAI,WAAM3B,GAAN,iBAAAC,EAAA,+EAEnBC,IAAMY,IAAI,gBAFS,OAE/BP,EAF+B,OAG/BqB,EAAerB,EAAIV,KAAKgC,KAAI,SAAAC,GAAM,OAAIA,EAAON,UAAQO,OAC3D/B,EAAS,CACLS,KAAM,mBACNS,QAAS,CACLM,OAAO,YAAKG,GACZC,kBAR6B,gDAYrCjC,QAAQC,IAAI,KAAI6B,SAZqB,yDAAJ,uDAgB5BO,EAAgB,SAAAC,GAAQ,8CAAI,WAAMjC,GAAN,eAAAC,EAAA,+EAEfC,IAAMgC,IAAI,WAAYD,GAFP,cAE3B1B,EAF2B,OAIjCM,IAAeb,GAJkB,kBAK1BO,GAL0B,uCAOjCZ,QAAQC,IAAI,KAAI6B,SAPiB,iFAAJ,uDAYxBU,EAAkB,uCAAG,4BAAAlC,EAAA,+EAERC,IAAMY,IAAI,uBAFF,cAEpBP,EAFoB,yBAGnBA,EAAIV,MAHe,uCAK1BF,QAAQC,IAAR,MAL0B,kBAMnB,IANmB,yDAAH,qDAUlBwC,EAAiB,SAAAC,GAAQ,8CAAI,WAAMrC,GAAN,eAAAC,EAAA,+EAEhBC,IAAMgC,IAAI,uBAAwBG,GAFlB,cAE5B9B,EAF4B,yBAG3BA,GAH2B,uCAKlCZ,QAAQC,IAAI,KAAI6B,SALkB,kBAM3B,KAAInB,UANuB,yDAAJ,uDC7BvBgC,EA/EX,aAAe,IAAD,gCASdC,KAAO,SAACC,GACJ,EAAKC,qBAAuBD,GAVlB,KAcdE,YAAc,SAACC,GACN,EAAKC,QAAQC,YACd,EAAKD,QAAQE,GAAGC,KAAKC,MAAQ,SAAWL,EACxC,EAAKC,QAAQK,UACb,EAAKC,wBAlBC,KAuBdC,iBAAmB,WACf,OAAO,EAAKC,gBAxBF,KA6Bd3D,qBAAuB,SAACI,GACpB,EAAKuD,eAAevD,EAAKwD,MAAMC,SAASC,KAAK1D,EAAK4B,SAClD,EAAK+B,eAAe3D,EAAKwD,OAAS,EAClC,EAAKZ,qBAAL,eAA8B,EAAKe,kBAhCzB,KAmCdC,mBAAqB,SAACC,EAASjC,GAC3B,EAAKmB,QAAQe,KAAK,eAAgB,CAACN,KAAMK,EAASjC,aApCxC,KAwCdmC,YAAc,SAACpC,GACX,IAAMmB,EAAanB,EAAOK,KAAI,SAAAgC,GAAK,OAAIA,EAAMC,OAC7C,EAAKlB,QAAQe,KAAK,cAAehB,GACjC,EAAKO,uBA3CK,KAgDdA,oBAAsB,WAClBf,IAAqB4B,MAAK,SAACC,GACvB,IAAMC,EAAS,GACTC,EAAgB,GACtBF,EAAcG,SAAQ,SAAAC,GAClBH,EAAOG,EAAEP,OAASO,EAClBF,EAAcE,EAAEP,OAAS,KAE7B,EAAKT,eAAiBa,EACtB,EAAKT,eAAiBU,EACtB,EAAKzB,qBAAqByB,OA1DpB,KA+DdG,mBAAqB,SAACX,GACd,EAAKF,eAAeE,GAAW,IAC/B,EAAKF,eAAeE,GAAW,EAC/B,EAAKjB,qBAAL,eAA8B,EAAKe,mBAlE7B,KAuEdc,YAAc,WACN,EAAK1B,QAAQC,YACb,EAAK0B,qBAAuB,aAC5B,EAAK3B,QAAQ4B,eAzEjBC,KAAK7B,QAAUE,EAAG,CAAE4B,aAAa,IACjCnF,EAAakF,KAAK7B,QAAS6B,KAAKhF,sBAChCgF,KAAKhC,qBAAuB,aAC5BgC,KAAKrB,eAAiB,GACtBqB,KAAKjB,eAAiB,ICXjBmB,GAAY,GACrBC,WAAW,EACXC,QAAQ,EACRC,WAAY,GACZnD,WAAY,CACRC,aAAc,GACdJ,OAAQ,IAEZT,QAAS,IARY,2BAST,CAACS,OAAQ,GAAII,aAAc,KATlB,wBAUb,GAVa,wBAWZ,MAXY,GAcZmD,EAAU,SAACC,EAAOC,GAAY,IAC/BxE,EAAkBwE,EAAlBxE,KAAMS,EAAY+D,EAAZ/D,QACd,OAAQT,GACJ,IAAK,gBACL,IAAK,mBACD,OAAO,2BACAuE,GADP,IAEIH,QAAQ,EACRD,WAAW,IAEnB,IAAK,kBACD,OAAO,2BACAI,GADP,IAEIF,WAAY5D,EAAQ,GACpBH,QAASG,EAAQ,GACjB0D,WAAW,EACXC,QAAQ,IAEhB,IAAK,aACL,IAAK,gBACD,OAAO,2BACAG,GADP,IAEIJ,WAAW,IAEnB,IAAK,SACD,OAAO,2BACAI,GADP,IAEIH,QAAQ,EACRD,WAAW,IAEnB,IAAK,gBACD,OAAO,2BACAI,GADP,IAEIjE,QAASG,IAEjB,IAAK,mBACD,OAAO,2BACA8D,GADP,IAEIrD,WAAYT,IAEpB,IAAK,oBACD,OAAO,2BACA8D,GADP,IAEIF,WAAW,2BACJE,EAAMF,YADH,IAENxD,YAAY,YAAKJ,OAG7B,IAAK,eACD,OAAO,2BACA8D,GADP,IAEIE,QAAQ,IAEhB,IAAK,cACD,OAAO,2BACAF,GADP,IAEIE,QAAQ,IAEhB,IAAK,WACD,OAAO,2BACAF,GADP,IAEIG,QAASjE,IAGjB,QACI,MAAM,IAAIkE,MAAM,2BC1EtBC,EAAaC,wBAAc,CAC7BV,WAAW,EACXC,QAAQ,EACR7E,SAAU,aACVe,QAAS,KAGPwE,EAAsB,IAAIjD,EAE1BkD,EAAsBF,wBAAc,CACtCC,sBACArB,cAAe,KAGbuB,EAAc,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACRC,qBAAWZ,EAASJ,GADZ,mBAC3BK,EAD2B,KACpBhF,EADoB,OAEQ4F,IAAMC,SAAS,IAFvB,mBAE3B3B,EAF2B,KAEZ4B,EAFY,KAQlC,OAJAF,IAAMG,WAAU,WACZR,EAAoBhD,KAAKuD,KAC1B,IAGC,cAACN,EAAoBQ,SAArB,CAA8BC,MAAO,CAACV,sBAAqBrB,iBAA3D,SACI,cAACmB,EAAWW,SAAZ,CAAqBC,MAAK,2BAAOjB,GAAP,IAAchF,aAAxC,SACK0F,OAOXQ,GAAmB,WACrB,OAAOC,qBAAWd,IAGhBe,GAAyB,WAC3B,OAAOD,qBAAWX,IClChBa,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnC+I,SAAU,CACNC,OAAQ,GACRC,gBAAiB,OACjB1H,MAAO,UACP,UAAW,CACPA,MAAO,OACP0H,gBAAiBjJ,EAAMc,QAAQK,UAAUH,OAGjDkI,iBAAkB,CACdD,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,OAE1CC,UAAW,CACPhJ,SAAU,UAEdiJ,OAAQ,CACJC,MAAO,IACPN,gBAAiB,UACjBO,UAAW,OACX,uBAAwB,CACpBD,MAAO,SACP5H,OAAQ,SAEZ,6BAA8B,CAC1B8H,UAAW,qBACXC,aAAc,GAElB,6BAA8B,CAC1BT,gBAAiB,iBACjBS,aAAc,GAElB,mCAAoC,CAChClI,WAAY,SAGpBmI,SAAU,CACNtJ,SAAU,UACV2I,OAAQhJ,EAAM4J,QAAQ,GACtBrI,MAAOvB,EAAMc,QAAQK,UAAUH,UA2DxB6I,GAvDC,SAAC,GAAkB,IAAhB3B,EAAe,EAAfA,SAAe,EACDQ,KAArBlG,EADsB,EACtBA,SAAUkF,EADY,EACZA,OAEZoC,EAAUjB,KAMVkB,EAAc,WAChBvH,EAAS,CAAES,KAAM,kBAmBrB,OACI,qCACI,cAAC+G,EAAA,EAAD,CAAQC,QAAM,EAAd,SACI,cAACC,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAf,SACKlC,MAGT,eAAC8B,EAAA,EAAD,CAAQK,MAAI,EAAZ,UACI,cAACH,EAAA,EAAD,CAAMI,WAAS,EAACC,UAAWT,EAAQZ,iBAAnC,SACI,cAACsB,EAAA,EAAD,CACIjJ,MAAM,UACNkJ,aAAW,MACXF,UAAWT,EAAQf,SACnB2B,QArCD,WACflI,EAAS,CAAES,KAAM,iBAgCL,SAMI,cAAC,IAAD,CAAkBsH,UAAWT,EAAQT,gBAG7C,cAACsB,EAAA,EAAD,CAAQC,OAAO,OAAOC,KAAMnD,EAAQoD,QAASf,EAA7C,SAjCR,sBAAKQ,UAAWT,EAAQR,OAAxB,UACI,cAACY,EAAA,EAAD,CACII,WAAS,EACTS,QAAQ,WACRC,WAAW,SACXC,MAAO,CAAEC,SAAU,YAJvB,SAMI,cAACC,EAAA,EAAD,CAAYZ,UAAWT,EAAQH,SAAUe,QAASX,EAAlD,SACI,cAAC,IAAD,QAGP7B,c,wCCpEPW,GAAYC,aAAW,SAAA9I,GAAK,YAAK,CACnCoL,OAAO,aACHpC,OAAQhJ,EAAM4J,QAAQ,EAAG,EAAG,EAAG,IAC9B5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BtC,OAAQhJ,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAGvC2B,YAAY,aACRhL,WAAY,MACZgJ,MAAO,KACNvJ,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B/B,MAAO,OACPiC,aAAc,KAGtBC,YAAa,CACTC,cAAe,QAEnBC,YAAa,CACTjK,QAAS,eAEbkK,OAAQ,CACJC,WAAY,QACZC,UAAW,MACXvC,MAAO,KAEXe,WAAS,GACL5I,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAD3B,cAEJ5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B5J,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAH/B,cAKJ5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B5J,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,GAChCmC,aAAc,KAPb,GAUTC,eAAe,eACVhM,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BW,QAAS,OACTC,cAAe,WAGvBC,aAAc,CACVnD,OAAQhJ,EAAM4J,QAAQ,QAmIfwC,GA/HE,WAAO,IAAD,EACW1D,KAAtBnF,EADW,EACXA,QAASf,EADE,EACFA,SACXsH,EAAUjB,KACRwD,EAAoBC,cAApBD,gBAHW,EAKehE,mBAAS9E,EAAQgJ,WALhC,mBAKZA,EALY,KAKDC,EALC,OAManE,mBAAS9E,EAAQkJ,UAN9B,mBAMZA,EANY,KAMFC,EANE,OAOOrE,mBAAS9E,EAAQC,KAAKmJ,OAP7B,mBAOZA,EAPY,KAOLC,EAPK,OAQavE,mBAAS9E,EAAQsJ,UAR9B,mBAQZA,EARY,KAQFC,EARE,OASOzE,mBAAS9E,EAAQwJ,OATxB,mBASZA,EATY,KASLC,EATK,KAWbC,EAAY,uCAAG,WAAMC,GAAN,iBAAAzK,EAAA,6DACjByK,EAAEC,iBACI1I,EAAW,CACb8H,YACAE,WACAI,WACAE,SANa,SASCK,EAAsB3I,EAAtB2I,CAAgC5K,GATjC,OAUE,OADbO,EATW,QAUTC,OACJqJ,EAAgB,uBAAwB,CACpCgB,QAAS,UACTC,iBAAkB,SAGtBjB,EAAgBtJ,EAAI+C,SAAU,CAC1BuH,QAAS,QACTC,iBAAkB,SAlBT,2CAAH,sDAuBlB,OACI,cAACpD,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACiD,GAAI,EAAGC,UAAU,SAASjD,UAAWT,EAAQQ,UAAlE,SACI,uBAAMmD,YAAU,EAACC,aAAa,MAA9B,UACI,cAACC,GAAA,EAAD,CAAYN,QAAQ,KAAK9C,UAAWT,EAAQsB,OAA5C,qBAGA,eAAClB,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACV,QAAS,EAAGW,UAAWT,EAAQkC,eAApD,UACI,cAAC9B,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,sBAAKI,UAAWT,EAAQqC,aAAxB,UACI,cAACyB,GAAA,EAAD,CAAYrD,UAAWT,EAAQ2B,YAA/B,wBAGA,cAACoC,GAAA,EAAD,CACIR,QAAQ,WACRS,aAAcvB,EACdwB,SAAU,SAAAb,GAAC,OAAIV,EAAaU,EAAEc,OAAOvF,QACrC8B,UAAWT,EAAQyB,YACnB0C,YAAY,4BAKxB,cAAC/D,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,sBAAKI,UAAWT,EAAQqC,aAAxB,UACI,cAACyB,GAAA,EAAD,CAAYrD,UAAWT,EAAQ2B,YAA/B,uBAGA,cAACoC,GAAA,EAAD,CACIR,QAAQ,WACR5E,MAAOgE,EACPsB,SAAU,SAAAb,GAAC,OAAIR,EAAYQ,EAAEc,OAAOvF,QACpC8B,UAAWT,EAAQyB,YACnB0C,YAAY,2BAKxB,cAAC/D,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,sBAAKI,UAAWT,EAAQqC,aAAxB,UACI,cAACyB,GAAA,EAAD,CAAYrD,UAAWT,EAAQ2B,YAA/B,mBACA,cAACoC,GAAA,EAAD,CACIR,QAAQ,WACR5E,MAAOkE,EACPoB,SAAU,SAAAb,GAAC,OAAIN,EAASM,EAAEc,OAAOvF,QACjC8B,UAAWT,EAAQyB,mBAK/B,cAACrB,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,sBAAKI,UAAWT,EAAQqC,aAAxB,UACI,cAACyB,GAAA,EAAD,CAAYrD,UAAWT,EAAQ2B,YAA/B,mBACA,cAACoC,GAAA,EAAD,CACIR,QAAQ,WACR5E,MAAOsE,EACPgB,SAAU,SAAAb,GAAC,OAAIF,EAASE,EAAEc,OAAOvF,QACjC8B,UAAWT,EAAQyB,YACnB0C,YAAY,4BAKxB,cAAC/D,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,sBAAKI,UAAWT,EAAQqC,aAAxB,UACI,cAACyB,GAAA,EAAD,CAAYrD,UAAWT,EAAQ2B,YAA/B,sBAGA,cAACoC,GAAA,EAAD,CACIR,QAAQ,WACR5E,MAAOoE,EACPkB,SAAU,SAAAb,GAAC,OAAIJ,EAAYI,EAAEc,OAAOvF,QACpC8B,UAAWT,EAAQyB,YACnB0C,YAAY,qBAIxB,cAAC/D,EAAA,EAAD,CAAMI,WAAS,EAAf,SACI,cAACJ,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,cAAC+D,GAAA,EAAD,CACI3M,MAAM,UACNgJ,UAAWT,EAAQ8B,OACnBlB,QAASuC,EAHb,iC,qCCnJbkB,GApBU,SAACtL,EAAKuL,GAC3B,GAAIvL,GAAOA,EAAIR,MAAQQ,EAAIR,KAAKS,SAC5B,GAAmB,MAAfD,EAAIG,OAAgB,CACpB,IAAMqL,EAAS,GACfxL,EAAIR,KAAKS,SAAS6D,SAAQ,SAAA2H,GACtBD,EAAOC,GAAS,WAAaA,KAEjCF,EAAUC,QACY,MAAfxL,EAAIG,OACe,wBAAtBH,EAAIR,KAAKS,SACTsL,EAAU,CAAEvJ,SAAU,8BACrBuJ,EAAU,CAAEG,YAAa,qBACR,MAAf1L,EAAIG,OACXoL,EAAU,CAAEzB,MAAO,8BACG,MAAf9J,EAAIG,QACXoL,EAAU,CAAEzB,MAAO,0BCHlB9D,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CAC1CwO,SAAS,aACLxF,OAAQhJ,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAC9B5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BN,WAAY,SACZhC,OAAQhJ,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAGvCwB,OAAQ,CACJW,aAAc/L,EAAM4J,QAAQ,IAEhC6E,KAAM,CACF,QAAS,CACLlF,MAAO,OACPmF,SAAU,KAEd,UAAW,CACPzF,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,OAE1C,WAAY,CACRG,MAAO,SAGfoF,YAAa,CACTtO,SAAU,OACV2I,OAAQhJ,EAAM4J,QAAQ,IAAK,EAAG,GAAK,IAEvCgC,OAAQ,CACJE,UAAW9L,EAAM4J,QAAQ,QAI3BgF,GAAeC,OAAaC,MAAM,CACpCP,YAAaM,OAAaE,SAAS,gCACnCC,YAAaH,OACRI,IAAI,EAAG,0CACPF,SAAS,wBACdG,gBAAiBL,OAAaM,MAC1B,CAACN,KAAQ,eAAgB,MACzB,0BAoGOO,GAhGS,WACpB,IAAMtF,EAAUjB,KACRwD,EAAoBC,cAApBD,gBACA7J,EAAakG,KAAblG,SAER,OACI,cAAC0H,EAAA,EAAD,CAAMI,WAAS,EAACS,QAAQ,SAAxB,SACI,eAACb,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACkD,UAAU,SAASjD,UAAWT,EAAQ0E,SAA3D,UACI,cAACb,GAAA,EAAD,CAAYN,QAAQ,KAAK9C,UAAWT,EAAQsB,OAA5C,4BAGA,cAACuC,GAAA,EAAD,CAAYN,QAAQ,KAApB,6BACA,cAAC,KAAD,CACIgC,cAAe,CACXd,YAAa,GACbS,YAAa,GACbE,gBAAiB,IAErBI,iBAAkBV,GAClBW,SAAQ,uCAAE,WAAOhN,EAAP,wBAAAE,EAAA,sDAAiB+M,EAAjB,EAAiBA,cAAepB,EAAhC,EAAgCA,UAAWqB,EAA3C,EAA2CA,UAC3C5K,EAAW,CACb0J,YAAahM,EAAOgM,YACpBS,YAAazM,EAAOyM,aAExB5B,EACoBvI,EADpBuI,CAC8B5K,GACzB+D,MAAK,SAAAxD,GACiB,MAAfA,EAAIC,QACJqJ,EAAgB,uBAAwB,CACpCgB,QAAS,UACTC,iBAAkB,SAEtBoC,YAAW,WACPD,MACD,MACmB,MAAf1M,EAAIC,OACXqJ,EAAgB,eAAgB,CAC5BgB,QAAS,QACTC,iBAAkB,SAGtBa,GAAiBpL,EAAKqL,MAGlCsB,YAAW,WACPF,GAAc,KACf,KA3BG,2CAAF,wDAPZ,SAqCK,gBAAGG,EAAH,EAAGA,WAAYC,EAAf,EAAeA,aAAf,EAA6BvB,OAA7B,OACG,eAAC,KAAD,CAAM9D,UAAWT,EAAQ2E,KAAzB,UACI,cAACoB,GAAA,EAAD,CAAgBtF,UAAWT,EAAQ6E,YAAnC,mCAGA,cAAC,KAAD,CACImB,UAAWC,KACXlM,KAAK,cACLZ,KAAK,WACLoK,QAAQ,aAEZ,cAACwC,GAAA,EAAD,CAAgBtF,UAAWT,EAAQ6E,YAAnC,0BAGA,cAAC,KAAD,CACImB,UAAWC,KACXlM,KAAK,cACLZ,KAAK,WACLoK,QAAQ,aAEZ,cAACwC,GAAA,EAAD,CAAgBtF,UAAWT,EAAQ6E,YAAnC,8BAGA,cAAC,KAAD,CACImB,UAAWC,KACXlM,KAAK,kBACLZ,KAAK,WACLoK,QAAQ,aAEZ,cAACnD,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,cAAC+D,GAAA,EAAD,CACI3M,MAAM,UACNgJ,UAAWT,EAAQ8B,OACnBoE,SAAUJ,EACVlF,QAASiF,EAJb,kC,2HChH1B9G,GAAYC,aAAW,SAAA9I,GAAK,YAAK,CACnCsK,WAAS,GACLrB,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,MACtC8C,cAAe,SACfnB,QAAS,aACTrJ,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAJ3B,cAKJ5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B5J,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAN/B,cAQJ5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B5J,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAT/B,GAYThG,WAAY,CACRmI,aAAc/L,EAAM4J,QAAQ,IAEhCqG,MAAO,CACHlE,aAAc/L,EAAM4J,QAAQ,IAEhCsG,UAAW,CACPC,eAAgB,gBAChBzB,SAAU,QACVhN,QAAS,cACT,WAAY,CACRA,QAAS,EACTrB,SAAU,aAGlB+P,UAAW,CACP7G,MAAO,MACP0C,QAAS,OACTkE,eAAgB,gBAChB,WAAY,CACR9P,SAAU,aAGlBoO,KAAM,CACFxC,QAAS,OACTC,cAAe,SACfwC,SAAU,QAEV,UAAW,CACPhF,aAAc,EACdT,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,OAE1C,MAAO,CACH/I,SAAU,UACV2I,OAAQhJ,EAAM4J,QAAQ,IAAK,EAAG,GAAK,KAG3CgC,OAAQ,CACJE,UAAW9L,EAAM4J,QAAQ,IAE7ByG,QAAS,CACLvE,UAAW,OAsKJwE,GAlKG,WAAO,IACbjE,EAAoBC,cAApBD,gBADY,EAEoC3D,KAAhDtB,EAFY,EAEZA,UAAWE,EAFC,EAEDA,WAAYnD,EAFX,EAEWA,WAAY3B,EAFvB,EAEuBA,SACnCuF,EAAwBa,KAAxBb,oBACA/D,EAAWG,EAAXH,OACAL,EAAuC2D,EAAvC3D,OAAQG,EAA+BwD,EAA/BxD,YAAaC,EAAkBuD,EAAlBvD,cACvB+F,EAAUjB,KANI,EAOYR,mBAAS,IAPrB,mBAObkI,EAPa,KAOHC,EAPG,OAQQnI,mBAAS,IARjB,mBAQb/D,EARa,KAQLmM,EARK,OAScpI,mBAASvE,GATvB,mBASb4M,EATa,KASFC,EATE,OAUgBtI,oBAAS,GAVzB,mBAUbuI,EAVa,KAUDC,EAVC,KAYpBtI,qBAAU,WACNsI,EAAcC,KAAKC,UAAUL,KAAeI,KAAKC,UAAUjN,MAC5D,CAAC4M,EAAW5M,IAEf,IAOMkN,EAAgB,uCAAG,8BAAAvO,EAAA,yDAChBmO,EADgB,wDAEfnN,EAAU,YAAIiN,GAAWrM,KAAI,SAAAuC,GAAC,OAAIA,EAAEN,OAFrB,kBAIC5D,IAAMC,KAAK,gBAAiBc,GAJ7B,OAIXV,EAJW,OAKjBqK,EAAwBrK,EAAIV,KAAKmB,KAAKQ,OAAtCoJ,CAA8C5K,GAC9CA,EAAS,CAAES,KAAM,oBAAqBS,QAASX,EAAIV,KAAKmB,KAAKC,UAC1C,MAAfV,EAAIC,OACJqJ,EAAgB,uBAAwB,CACpCgB,QAAS,UACTC,iBAAkB,SAGtBjB,EAAgBtJ,EAAI+C,SAAU,CAC1BuH,QAAS,QACTC,iBAAkB,SAfT,kDAmBjBnL,QAAQC,IAAR,MAnBiB,0DAAH,qDAuBhB6O,EAAY,uCAAG,WAAMC,GAAN,iBAAAzO,EAAA,yDAEZqB,EAAYqN,MAAK,SAAA7M,GAAM,OAAIA,EAAOgC,MAAQ4K,KAF9B,gBAGbP,EAAaD,EAAUU,QAAO,SAAAxK,GAAC,OAAIA,EAAEN,MAAQ4K,MAHhC,uCASLG,EAFArN,GAAUA,EAAOsN,OAENtN,EAAOuN,QAEd,SAACC,EAAKC,GAAN,OAAaA,EAAEnN,SAAW4M,GAAMM,EAAIzL,KAAK0L,EAAEnL,KAAMkL,IACjD,IAGOxN,EAAOK,KAAI,SAAAgC,GAAK,OAAIA,EAAMC,OAfhC,SAiBS5D,IAAMU,OAAN,wBAA8B8N,GAAM,CAClD7O,KAAM,CAAEqP,cAAeL,KAlBlB,cAiBHtO,EAjBG,iBAqBHqK,EAAwBrK,EAAIV,KAAK2B,OAAjCoJ,CAAyC5K,GArBtC,QAsBTuF,EAAoB3B,YAAYrD,EAAIV,KAAK2B,QACzCxB,EAAS,CAAES,KAAM,oBAAqBS,QAASX,EAAIV,KAAKoB,UACxDkN,EAAaD,EAAUU,QAAO,SAAAxK,GAAC,OAAIA,EAAEN,MAAQ4K,MAxBpC,kDA0BT/O,QAAQC,IAAR,MA1BS,0DAAH,sDA+BlB,OAAIgF,EAAkB,cAACuK,GAAA,EAAD,IAGlB,eAACzH,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACF,GAAI,EAAGG,UAAWT,EAAQQ,UAA/C,UACI,cAACqD,GAAA,EAAD,CAAYN,QAAQ,KAAK9C,UAAWT,EAAQlG,WAA5C,SACKD,IAEL,cAACgK,GAAA,EAAD,CAAYN,QAAQ,KAAK9C,UAAWT,EAAQmG,MAA5C,0BAGCS,EAAUY,OAAS,GAAK,cAAC3D,GAAA,EAAD,kCACxB+C,EAAUrM,KAAI,SAAAuC,GACX,OAAIA,EAAEN,MAAQhC,EAEN,eAACsN,GAAA,EAAD,CAAsBrH,UAAWT,EAAQoG,UAAzC,UACI,cAACvC,GAAA,EAAD,UAAa/G,EAAE/C,OACf,sBAAK0G,UAAWT,EAAQsG,UAAxB,UACI,cAACjF,EAAA,EAAD,CACI0G,KAAK,MACLnH,QAAS,kBAAMuG,EAAarK,EAAEN,MAFlC,SAII,cAAC,KAAD,MAEJ,cAAC6E,EAAA,EAAD,CAAY0G,KAAK,MAAMnH,QAAS,kBAAM+F,EAAU,KAAhD,SACI,cAAC,KAAD,WAVG7J,EAAEN,KAiBrB,eAACsL,GAAA,EAAD,CAAsBrH,UAAWT,EAAQoG,UAAzC,UACI,cAACvC,GAAA,EAAD,UAAa/G,EAAE/C,OACf,cAACsH,EAAA,EAAD,CAAY0G,KAAK,MAAMnH,QAAS,kBAAM+F,EAAU7J,EAAEN,MAAlD,SACI,cAAC,KAAD,QAHOM,EAAEN,QASzB,uBAAMiE,UAAWT,EAAQ2E,KAAzB,UACI,cAACoB,GAAA,EAAD,4BACA,cAACiC,GAAA,EAAD,CACIrJ,MAAO8H,EACPlD,QAAQ,WACRU,SAAU,SAAAb,GACNsD,EAAYtD,EAAEc,OAAOvF,QAJ7B,SAOK1E,EAAcM,KAAI,SAAAC,GAEf,OADmBoM,EAAUS,MAAK,SAAAvK,GAAC,OAAIA,EAAEN,MAAQhC,EAAOgC,OAGhD,cAACyL,GAAA,EAAD,CAA2BtJ,MAAOnE,EAAOgC,IAAK0J,UAAQ,EAAtD,SACK1L,EAAOT,MADGS,EAAOgC,KAMtB,cAACyL,GAAA,EAAD,CAA2BtJ,MAAOnE,EAAOgC,IAAzC,SACKhC,EAAOT,MADGS,EAAOgC,UAOtC,cAAC4D,EAAA,EAAD,CAAMK,UAAWT,EAAQuG,QAAzB,SACI,cAACnC,GAAA,EAAD,CAAQ3M,MAAM,YAAYyQ,UAAW,cAAC,KAAD,IAAatH,QAhIhD,WACG,KAAb6F,GAAmBG,EAAUS,MAAK,SAAAvK,GAAC,OAAIA,EAAEN,MAAQiK,OACrDI,EAAa,GAAD,mBAAKD,GAAL,CAAgB3M,EAAckO,MAAK,SAAArL,GAAC,OAAIA,EAAEN,MAAQiK,QAC9DE,EAAU,IACVD,EAAY,MA4HA,0BAIJ,cAACtC,GAAA,EAAD,CACIb,QAAQ,OACR9L,MAAM,UACNgJ,UAAWT,EAAQ8B,OACnBlB,QAASsG,EACThB,UAAWY,EALf,2B,8BClOH/H,GAAYC,aAAW,iBAAO,CACvCwB,UAAW,CACT4H,KAAM,EACNjG,QAAS,OACTC,cAAe,SACfiE,eAAgB,SAChBnF,WAAY,UAEdmH,MAAO,CACHxQ,OAAQ,IACR4H,MAAO,KAEX6I,UAAW,CACTzR,QAAS,GACTgB,OAAQ,IACR4H,MAAO,SAIA8I,GAAY,CACrBC,YAAa,EACb5I,aAAc,GACd7H,YAAa,UACb0Q,YAAa,QACbtJ,gBAAiB,UACjBuJ,QAAS,OACTC,WAAY,2BAGHC,GAAc,CACvB7Q,YAAa,WAGJ8Q,GAAc,CACvB9Q,YAAa,WAGJ+Q,GAAc,CACvB/Q,YAAa,W,6BCsDFgR,GAhFI,WACf,IAAM/I,EAAUjB,KADK,EAEaR,oBAAS,GAFtB,mBAEd+J,EAFc,KAEHU,EAFG,OAGSpK,KAAtBnF,EAHa,EAGbA,QAASf,EAHI,EAGJA,SAEXuQ,EAASC,sBAAW,uCACtB,WAAMC,GAAN,SAAAxQ,EAAA,sDACQwQ,EAAa3B,SACbwB,GAAa,GACbI,EAAqBD,EAAa,KAH1C,2CADsB,uDAS1B1K,qBAAU,WACNuK,GAAa,KACd,CAACvP,IAhBiB,MAkB8C4P,aAAY,CAC3EJ,SACAK,SAAU,EACVC,OAAQ,YAHJC,EAlBa,EAkBbA,aAAcC,EAlBD,EAkBCA,aAAcC,EAlBf,EAkBeA,aAAcC,EAlB7B,EAkB6BA,aAM5CxI,EAAQyI,mBACV,8BAAC,uCACMrB,IACCkB,EAAeb,GAAc,IAC7Bc,EAAeb,GAAc,IAC7Bc,EAAeb,GAAc,MAErC,CAACW,EAAcE,EAAcD,IAa3BN,EAAoB,uCAAG,WAAOS,GAAP,iBAAAlR,EAAA,6DACnBgM,EAAO,IAAImF,UACZC,OAAO,QAASF,GAFI,SAGPjR,IACbC,KAAK,UAAW8L,GAChB7L,OAAM,SAAAC,GAAG,OAAIV,QAAQC,IAAIS,MALL,QAGnBE,EAHmB,SAOdA,EAAIV,MACXG,EAAS,CAAES,KAAM,gBAAiBS,QAASX,EAAIV,OAR1B,2CAAH,sDAY1B,OACI,eAACyR,GAAA,EAAD,CAAKvJ,UAAWT,EAAQQ,UAAxB,UACI,uBAAOyJ,QAAQ,aAAf,SACA,cAACC,GAAA,EAAD,CAAS/D,MAAM,mDAAmDgE,OAAK,EAACC,UAAU,QAAlF,SACI,cAACJ,GAAA,EAAD,2BAASR,EAAa,CAAErI,WAAxB,aACK1H,EAAQ4Q,SACL,cAACC,GAAA,EAAD,CACIC,IAAI,cACJC,IAAK/Q,EAAQ4Q,SACb5J,UAAW6H,EAAYtI,EAAQsI,UAAYtI,EAAQqI,QAGvD,cAACiC,GAAA,EAAD,CAAQ7J,UAAWT,EAAQqI,MAA3B,SACI,cAAC,KAAD,CAAe5H,UAAWT,EAAQqI,iBAMlD,uBAAOoC,QAAM,EAACtR,KAAK,OAAOoQ,OAAO,UAAUmB,UAAU,EAAOtD,GAAG,aAAanD,SAzC/D,SAAC0G,GAClBA,EAAMC,kBACND,EAAMtH,iBACN2F,GAAa,GACb,IAAMa,EAAOc,EAAMzG,OAAO2G,MAAM,GAC7BhB,GACCT,EAAqBS,UC7C3B9K,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnC4U,WAAY,CACRC,eAAgB,OAChBtT,MAAO,QACPG,QAAS,cACTrB,SAAU,WACVM,QAAS,OAEbmU,WAAY,CACRpL,aAAc,MACdH,MAAO,QACPuC,UAAW,OAEfxC,OAAO,aACH9H,WAAY,UACZG,OAAQ,uBACP3B,EAAMqL,YAAYC,KAAK,MAAQ,CAC5ByJ,WAAY/U,EAAM4J,QAAQ,GAC1BpI,WAAY,OACZG,OAAQ,UAGhBqT,cAAc,aACVD,WAAY,OACX/U,EAAMqL,YAAYC,KAAK,MAAQ,CAC5ByJ,WAAY,IAGpBE,YAAa,CACTF,WAAY,MACZ1U,SAAU,YAEduL,OAAQ,CACJ5C,OAAQ,MACRvH,cAAe,OACflB,WAAY,OACZF,SAAU,OACVG,cAAe,QAsFR0U,GAlFU,SAAAC,GACrB,IAAMrL,EAAUjB,KADc,EAEAH,KAAtBnF,EAFsB,EAEtBA,QAASf,EAFa,EAEbA,SAEX4S,EAAoB,WACtB5S,EAAS,CAAES,KAAM,kBAGrB,OACI,eAACiH,EAAA,EAAD,CACII,WAAS,EACTkD,UAAU,SACVxC,WAAW,SACXD,QAAQ,gBACRZ,MAAI,EACJI,UAAWT,EAAQR,OANvB,UASI,eAACY,EAAA,EAAD,CACII,WAAS,EACTH,MAAI,EACJqD,UAAU,SACVxC,WAAW,SACXC,MAAO,CAAEa,UAAW,OALxB,UAOI,cAACuJ,GAAD,CAAiB9K,UAAWT,EAAQgL,aAEpC,cAACnH,GAAA,EAAD,CAAYpD,UAAWT,EAAQmL,YAAaK,MAAM,SAAlD,SACK/R,EAAQgJ,UAAY,IAAMhJ,EAAQkJ,cAK3C,eAACvC,EAAA,EAAD,CAAMI,WAAS,EAACH,MAAI,EAACqD,UAAU,SAASjD,UAAWT,EAAQkL,cAA3D,UACI,cAAC,IAAD,CACIO,GAAG,WACHC,OAAK,EACL9C,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WACnBlK,QAAS0K,EAPb,uBAWA,cAAC,IAAD,CACIG,GAAG,mBACHC,OAAK,EACL9C,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WACnBlK,QAAS0K,EAPb,wBAWA,cAAC,IAAD,CACIG,GAAG,oBACHC,OAAK,EACL9C,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WACnBlK,QAAS0K,EAPb,yBAYJ,cAAClL,EAAA,EAAD,CAAMI,WAAS,EAACH,MAAI,EAApB,SACI,cAACD,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,cAAC+D,GAAA,EAAD,CACI3D,UAAWT,EAAQ8B,OACnBlB,QAAS,kBAAM0C,IAAiB5K,IAFpC,4BC5GdqG,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnCsK,UAAU,aACN3I,OAAQ,uBACP3B,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B3J,OAAQ,SAGhB8T,iBAAiB,aACbxM,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,OACrCpJ,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BoK,UAAW,4BAgCRC,GA3BC,WACZ,IAAM7L,EAAUjB,KAEhB,OACI,cAACqB,EAAA,EAAD,CAAMI,WAAS,EAAf,SACI,eAACJ,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACC,UAAWT,EAAQQ,UAAxC,UACI,cAAC,GAAD,UACI,cAAC,GAAD,MAEJ,cAACJ,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACsL,GAAI,GAAIxL,GAAI,EAAGG,UAAWT,EAAQ2L,iBAAvD,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOD,OAAK,EAACK,KAAK,WAAlB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOL,OAAK,EAACK,KAAK,mBAAlB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOL,OAAK,EAACK,KAAK,oBAAlB,SACI,cAACC,GAAD,iB,oBC7Cb,4gQCAA,OAA0B,oCCI5BjN,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CAC1C+V,KAAK,aACD9M,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,OACrCpJ,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B3J,OAAQ,UAGhB2I,UAAU,eACLtK,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B6E,eAAgB,WAGxB6F,cAAe,CACX/J,QAAS,OACTkE,eAAgB,iBAEpB8F,KAAM,CACF1M,MAAO,OACP5H,OAAQ,OACRoK,aAAc/L,EAAM4J,QAAQ,GAC5B,QAAS,CACLL,MAAO,OACP5H,OAAQ,SAGhBuU,MAAO,CACHvU,OAAQ,QACR4H,MAAO,OACP4M,UAAW,SACXnN,OAAQ,EACRtH,QAAS,EACTgI,aAAc,EACd0M,gBAAgB,OAAD,OAASC,GAAT,KACfC,mBAAoB,gBACpBC,eAAgB,QAChB,WAAY,CACRC,MAAO,QACPxN,OAAQ,gBACRzH,MAAO,OACPM,YAAa,SAGrB4U,aAAc,CACVxN,gBAAiB,sBACjBiC,SAAU,WACVvJ,OAAQ,OACR4H,MAAO,QAEXmN,cAAc,aACVhV,QAAS1B,EAAM4J,QAAQ,EAAG,GAAI,EAAG,IACjC,OAAQ,CACJiC,WAAY7L,EAAM4J,QAAQ,KAE7B5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B5J,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,GAChC8E,SAAU,IACVyB,eAAgB,WAGxB1B,KAAM,CACFxC,QAAS,OACTC,cAAe,SACfL,WAAY7L,EAAM4J,QAAQ,GAC1B,UAAW,CACPF,aAAc,EACdT,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,OAE1C,MAAO,CACH/I,SAAU,UACV2I,OAAQhJ,EAAM4J,QAAQ,IAAK,EAAG,GAAK,KAG3C+M,WAAY,CACR7K,UAAW,EACXC,aAAc,GAElB6K,SAAU,CACNrV,MAAO,OACPC,WAAY,2CACZC,cAAe,OACfpB,SAAU,WACVqB,QAAS,GACTC,OAAQ,YChFVkH,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnC+V,KAAM,CACFjK,UAAW9L,EAAM4J,QAAQ,QAqBlBiN,GAjBIzO,IAAM0O,MAAK,YAAgC,IAA7BrT,EAA4B,EAA5BA,QAASsT,EAAmB,EAAnBA,aAChCjN,EAAUjB,KAEhB,OACI,cAACqB,EAAA,EAAD,CAAMK,UAAWT,EAAQiM,KAAzB,SACKtS,EAAQY,KAAI,SAAAuC,GAAC,OACV,cAACsH,GAAA,EAAD,CAEI8I,QAAS,cAAC,KAAD,CAAkBtM,QAAS,kBAAMqM,EAAanQ,EAAEN,QAF7D,SAIKM,EAAE/C,MAHE+C,EAAEN,aCSrBsI,GAAeC,OAAaC,MAAM,CACpCvC,UAAWsC,OAAaI,IAAI,EAAG,wBAAwBF,SAAS,YAChEtC,SAAUoC,OAAaI,IAAI,EAAG,uBAAuBF,SAAS,YAC9DpC,MAAOkC,OAAalC,MAAM,iBAAiBoC,SAAS,YACpDlK,SAAUgK,OAAaI,IAAI,GAAGF,SAAS,YACvCnL,WAAYiL,OAAaE,SAAS,4BA+RvBkI,GA5RA,WACX,IAAMnN,EAAUjB,KADC,EAEYH,KAArBrB,EAFS,EAETA,OAAQ7E,EAFC,EAEDA,SACR6J,EAAoBC,cAApBD,gBAHS,EAKyBhE,oBAAS,GALlC,mBAKV6O,EALU,KAKKC,EALL,OAMa9O,mBAAS,IANtB,mBAMV+O,EANU,KAMDC,EANC,OAOehP,mBAAS,IAPxB,mBAOViP,EAPU,KAOAC,EAPA,OAQalP,mBAAS,CAAC,CAAE/B,IAAK,EAAGzC,KAAM,2BARvC,mBAQVJ,EARU,KAQD+T,EARC,OASGnP,mBAAS,IATZ,mBASV6I,EATU,KASNuG,EATM,OAUuBpP,mBAAS,IAVhC,mBAUVqP,EAVU,KAUIC,EAVJ,KAaXC,EAAS,uCAAG,4BAAAnV,EAAA,+EAEaC,IAAMY,IAAI,iBAFvB,OAEJR,EAFI,OAIVuU,EAAWvU,EAAST,MACpB8U,GAAiB,GALP,gDAOVhV,QAAQC,IAAR,MAPU,yDAAH,qDAWfmG,qBAAU,WACNqP,MACD,IAEHrP,qBAAU,WACN,GAAI+O,EAAU,CACV,IAAMvT,EAAgB,GACtB,YAAIqT,GAASzQ,SAAQ,SAAAkR,GACbA,EAAEvR,MAAQgR,GAAUvT,EAAcgC,KAAd,MAAAhC,EAAa,YAAS8T,EAAEpU,aAEpD+T,EAAWzT,MAEhB,CAACuT,EAAUF,IAEd,IAAMU,EAAY,WAGVJ,EAAavG,MAAK,SAAA4G,GAAE,OAAIA,EAAGzR,MAAQ4K,MAAc,KAAPA,GAAoB,IAAPA,GAE3DyG,EAAgB,GAAD,mBAAKD,GAAL,CAAmBjU,EAAQwO,MAAK,SAAArL,GAAC,OAAIA,EAAEN,MAAQ4K,SAG5D8G,EAAqBhF,uBACvB,SAAA9B,GACIyG,EAAgBD,EAAatG,QAAO,SAAAxK,GAAC,OAAIA,EAAEN,MAAQ4K,QAEvD,CAACwG,IAsBL,OAAIR,EAAsB,cAACvF,GAAA,EAAD,IAEtBtK,EAAe,cAAC,IAAD,CAAUkO,GAAG,aAG5B,qBAAKhL,UAAWT,EAAQiM,KAAxB,SACI,eAAC7L,EAAA,EAAD,CAAMI,WAAS,EAACC,UAAWT,EAAQQ,UAAnC,UACI,eAACJ,EAAA,EAAD,CACIC,MAAI,EACJG,WAAS,EACTF,GAAI,EACJoD,UAAU,SACVzC,QAAQ,aACRR,UAAWT,EAAQ4M,cANvB,UAQI,sBAAKnM,UAAWT,EAAQkM,cAAxB,UACI,qBAAKzL,UAAWT,EAAQmM,KAAxB,SACI,qBAAK3B,IAAK2B,GAAM5B,IAAI,WAExB,8BACI,cAACnG,GAAA,EAAD,CAAQ3D,UAAWT,EAAQ8M,SAAUlM,QAvC3C,WAEd0C,EADe,CAAET,MAAO,iBAAkB9H,SAAU,gBACpDuI,CACmB5K,GACd+D,MAAK,SAAAxD,GACiB,MAAfA,EAAIC,OACJqJ,EAAgB,yBAA0B,CACtCgB,QAAS,UACTC,iBAAkB,SAGtBjB,EAAgB,eAAgB,CAC5BgB,QAAS,QACTC,iBAAkB,aA0Bd,oBAIJ,cAACtD,EAAA,EAAD,CAAQK,MAAI,EAAZ,SACI,cAAC4N,GAAA,EAAD,CACI1W,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACVpI,UAAWqI,IACX5C,GAAG,SALP,SAOI,cAACrH,GAAA,EAAD,CAAQb,QAAQ,OAAO9L,MAAM,UAA7B,0BAMZ,cAACoM,GAAA,EAAD,CAAYN,QAAQ,KAAK9L,MAAM,cAA/B,gCAIA,cAAC,KAAD,CACI8N,cAAe,CACX9C,UAAW,GACXE,SAAU,GACVE,MAAO,GACP9H,SAAU,GACVjB,WAAY,IAEhB0L,iBAAkBV,GAClBW,SAAQ,uCAAE,WAAOhN,EAAP,oBAAAE,EAAA,sDAAiB+M,EAAjB,EAAiBA,cAAepB,EAAhC,EAAgCA,UACtC7L,EAAOkB,QAAU,YAAIiU,GAAcrT,KAAI,SAAA0T,GAAE,OAAIA,EAAGzR,OAChD8G,EACc7K,EADd6K,CACsB5K,GACjB+D,MAAK,SAAAxD,GACiB,MAAfA,EAAIC,OACJqJ,EAAgB,0BAA2B,CACvCgB,QAAS,UACTC,iBAAkB,SAEA,MAAfvK,EAAIC,QACX0M,YAAW,WACPF,GAAc,KACf,KACHnD,EAAgB,eAAgB,CAC5BgB,QAAS,QACTC,iBAAkB,WAGtBoC,YAAW,WACPF,GAAc,KACf,KACHrB,GAAiBpL,EAAKqL,OAtB5B,2CAAF,wDATZ,SAoCK,gBAAGuB,EAAH,EAAGA,WAAYC,EAAf,EAAeA,aAAf,EAA6BvB,OAA7B,OACG,eAAC,KAAD,CAAM9D,UAAWT,EAAQ2E,KAAzB,UACI,cAACoB,GAAA,EAAD,yBACA,cAAC,KAAD,CACIC,UAAWC,KACXlM,KAAK,YACLZ,KAAK,OACLoK,QAAQ,aAEZ,cAACwC,GAAA,EAAD,wBACA,cAAC,KAAD,CACIC,UAAWC,KACXlM,KAAK,WACLZ,KAAK,OACLoK,QAAQ,aAEZ,cAACwC,GAAA,EAAD,4BACA,cAAC,KAAD,CACIC,UAAWC,KACXlM,KAAK,QACLZ,KAAK,QACLoK,QAAQ,aAEZ,cAACwC,GAAA,EAAD,CAAgBd,UAAQ,EAAxB,sBACA,cAAC,KAAD,CACIe,UAAWC,KACXlM,KAAK,WACLZ,KAAK,WACLoK,QAAQ,aAEZ,cAACwC,GAAA,EAAD,iCACA,cAAC,KAAD,CACIC,UAAWC,KACXlM,KAAK,aACLZ,KAAK,OACLmV,QAAM,EACN/K,QAAQ,WACRS,aAAa,GANjB,SAQKsJ,EAAQ/S,KAAI,SAAAV,GACT,OACI,cAACoO,GAAA,EAAD,CAEItJ,MAAO9E,EAAO2C,IACdoE,QAAS,kBAAM6M,EAAY5T,EAAO2C,MAHtC,SAKK3C,EAAOE,MAJHF,EAAO2C,UAS3BoR,EAAapG,OAAS,GACnB,cAAC,GAAD,CACI7N,QAASiU,EACTX,aAAciB,IAGtB,cAACnI,GAAA,EAAD,gCACA,cAACiC,GAAA,EAAD,CACIhE,aAAa,GACbT,QAAQ,WACRU,SAAU,SAAAb,GAAC,OAAIuK,EAAMvK,EAAEc,OAAOvF,QAHlC,SAKKhF,EAAQY,KAAI,SAAAC,GAIT,OAHmBoT,EAAavG,MAC5B,SAAA4G,GAAE,OAAIA,EAAGzR,MAAQhC,EAAOgC,OAIpB,cAACyL,GAAA,EAAD,CAEItJ,MAAOnE,EAAOgC,IACd0J,UAAQ,EAHZ,SAKK1L,EAAOT,MAJHS,EAAOgC,KAShB,cAACyL,GAAA,EAAD,CAEItJ,MAAOnE,EAAOgC,IAFlB,SAIKhC,EAAOT,MAHHS,EAAOgC,UAShC,cAAC4D,EAAA,EAAD,CAAMK,UAAWT,EAAQ6M,WAAzB,SACI,cAACzI,GAAA,EAAD,CACI3M,MAAM,YACNyQ,UAAW,cAAC,KAAD,IACXtH,QAASoN,EAHb,0BAQJ,cAAC5J,GAAA,EAAD,CACI3M,MAAM,UACNgJ,UAAWT,EAAQ8B,OACnBoE,SAAUJ,EACVlF,QAASiF,EAJb,8BAYhB,cAACzF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAf,SACI,cAACJ,EAAA,EAAD,CAAQC,QAAM,EAAd,SACI,cAACoO,GAAA,EAAD,CAAO9N,UAAWT,EAAQoM,MAA1B,SACI,qBAAK3L,UAAWT,EAAQ2M,aAAxB,SACI,cAACwB,GAAA,EAAD,CACI1W,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACVpI,UAAWqI,IACX5C,GAAG,SALP,SAOI,cAACrH,GAAA,EAAD,CAAQb,QAAQ,WAAW9L,MAAM,UAAjC,mCC7R9B+W,GAAczJ,OAAaC,MAAM,CACnCnC,MAAOkC,OAAalC,MAAM,iBAAiBoC,SAAS,YACpDlK,SAAUgK,OAAaE,SAAS,cAuIrBwJ,GApID,SAAApD,GACV,IAAMrL,EAAUjB,KADG,EAEUH,KAArBrB,EAFW,EAEXA,OAAQ7E,EAFG,EAEHA,SACR6J,EAAoBC,cAApBD,gBAEFmM,EAAWrD,EAAMtI,SAASrF,MAC5BiR,EAAe,WAKnB,OAFID,GAAYA,EAASE,OAAMD,EAAeD,EAASE,KAAKC,UAExDtR,EAAe,cAAC,IAAD,CAAUkO,GAAIkD,IAG7B,qBAAKlO,UAAWT,EAAQiM,KAAxB,SACI,eAAC7L,EAAA,EAAD,CAAMI,WAAS,EAACC,UAAWT,EAAQQ,UAAnC,UACI,eAACJ,EAAA,EAAD,CACIC,MAAI,EACJG,WAAS,EACTF,GAAI,EACJoD,UAAU,SACVjD,UAAWT,EAAQ4M,cALvB,UAOI,sBAAKnM,UAAWT,EAAQkM,cAAxB,UACI,qBAAKzL,UAAWT,EAAQmM,KAAxB,SACI,qBAAK3B,IAAK2B,GAAM5B,IAAI,WAExB,cAACrK,EAAA,EAAD,CAAQK,MAAI,EAAZ,SACI,cAAC4N,GAAA,EAAD,CACI1W,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACVpI,UAAWqI,IACX5C,GAAG,WALP,SAOI,cAACrH,GAAA,EAAD,CACIb,QAAQ,OACR9L,MAAM,UACN0J,MAAO,CAAEa,UAAW,GAHxB,gCAUZ,cAAC6B,GAAA,EAAD,CAAYN,QAAQ,KAAK9L,MAAM,cAA/B,oBAGA,cAAC,KAAD,CACI8N,cAAe,CACX1C,MAAO,GACP9H,SAAU,IAEdyK,iBAAkBgJ,GAClB/I,SAAU,SAAChN,EAAD,GAA2C,IAAhCiN,EAA+B,EAA/BA,cAAepB,EAAgB,EAAhBA,UAChChB,EACW7K,EADX6K,CACmB5K,GACd+D,MAAK,SAAAxD,GACiB,MAAfA,EAAIC,OACJqJ,EAAgB,yBAA0B,CACtCgB,QAAS,UACTC,iBAAkB,SAEA,MAAfvK,EAAIC,QACX0M,YAAW,WACPF,GAAc,KACf,KACHnD,EAAgB,eAAgB,CAC5BgB,QAAS,QACTC,iBAAkB,WAGtBoC,YAAW,WACPF,GAAc,KACf,KACHrB,GAAiBpL,EAAKqL,QA3B1C,SAgCK,gBAAGuB,EAAH,EAAGA,WAAYC,EAAf,EAAeA,aAAf,OACG,eAAC,KAAD,CAAMrF,UAAWT,EAAQ2E,KAAzB,UACI,cAACoB,GAAA,EAAD,4BACA,cAAC,KAAD,CACIC,UAAWC,KACXlM,KAAK,QACLZ,KAAK,QACLoK,QAAQ,aAEZ,cAACwC,GAAA,EAAD,CAAgBd,UAAQ,EAAxB,sBACA,cAAC,KAAD,CACIe,UAAWC,KACXlM,KAAK,WACLZ,KAAK,WACLoK,QAAQ,aAEZ,cAACM,GAAA,EAAD,CAAYN,QAAQ,QAApB,8BACA,cAACa,GAAA,EAAD,CACI3M,MAAM,UACNyO,SAAUJ,EACVlF,QAASiF,EAHb,4BAWhB,cAACzF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAf,SACI,cAACJ,EAAA,EAAD,CAAQC,QAAM,EAAd,SACI,cAACoO,GAAA,EAAD,CAAO9N,UAAWT,EAAQoM,MAA1B,SACI,qBAAK3L,UAAWT,EAAQ2M,aAAxB,SACI,cAACwB,GAAA,EAAD,CACI1W,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACVpI,UAAWqI,IACX5C,GAAG,WALP,SAOI,cAACrH,GAAA,EAAD,CAAQb,QAAQ,WAAW9L,MAAM,UAAjC,yC,0JChJvBsH,GAAYC,aAAW,SAAA9I,GAAK,kBAAK,CAC1C+V,KAAM,CACF6C,SAAU,GAEdC,QAAS,CACLlX,OAAQ,IACRsH,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,OAE1C0P,YAAU,GACNF,SAAU,EACV3M,QAAS,OACTjB,WAAY,SACZa,WAAY,WAJN,cAKL7L,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BO,WAAY,YANV,cAQN,QAAS,CACLtC,MAAO,UACP5H,OAAQ,OACRoX,YAAa/Y,EAAM4J,QAAQ,GAC3BoP,OAAQ,YAZN,GAeVC,eAAa,mBACRjZ,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BW,QAAS,SAFJ,yBAIC,GAJD,wBAKA,QALA,cAMT,QAAS,CACLA,QAAS,OACT5L,SAAU,OACVE,WAAY,IACZyY,OAAQ,YAVH,GAabzV,SAAO,mBACFvD,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BW,QAAS,SAFV,yBAIO,GAJP,wBAKM,QALN,2BAMSjM,EAAM4J,QAAQ,IANvB,GAQPsP,YAAU,mBACLlZ,EAAMqL,YAAY8N,GAAG,MAAQ,CAC1BlN,QAAS,SAFP,yBAII,WAJJ,sBAKC,WALD,GAOVmN,OAAQ,CACJzX,OAAQ,GACR4H,MAAO,IAEX8P,MAAO,CACH9X,MAAOvB,EAAMc,QAAQqI,OAAOC,MAC5BkQ,YAAatZ,EAAM4J,QAAQ,GAC3B,SAAU,CACNL,MAAO,GACPlJ,SAAU,UACVmB,WAAYxB,EAAMc,QAAQC,QAAQG,WAG1CqY,eAAgB,CACZ1N,WAAY7L,EAAM4J,QAAQ,GAC1BnI,cAAe,aACf,SAAU,CACNoK,WAAY,IAGpB2N,MAAO,CAAET,YAAa,GACtBnE,WAAY,CACRC,eAAgB,OAChBtT,MAAO,QACPlB,SAAU,WACVM,QAAS,MACTkL,WAAY,IAEhB4N,cAAe,CACX,OAAQ,CACJH,YAAatZ,EAAM4J,QAAQ,IAC3B,UAAW,CACPX,gBAAiB,yBAI7ByQ,cAAe,CACX5N,UAAW9L,EAAM4J,QAAQ,QCkKlB+P,GAhOA,WACX,IAAM7P,EAAUjB,KACV+Q,EAAUC,cAFC,EAIanR,KAAtBnF,EAJS,EAITA,QAASf,EAJA,EAIAA,SACTkE,EAAkBkC,KAAlBlC,cALS,EAOe2B,mBAAS,MAPxB,mBAOVyR,EAPU,KAOAC,EAPA,KAQXlP,EAAOmP,QAAQF,GAEfG,EAAgB,WAClBF,EAAY,MACZH,EAAQ7T,KAAK,aAGXmU,EAAe,WACjB9M,IAAiB5K,IAGrB,OACI,qBAAK+H,UAAWT,EAAQiM,KAAxB,SACI,cAACoE,GAAA,EAAD,CAAQjP,SAAS,WAAW3J,MAAM,UAAU6Y,UAAW,EAAvD,SACI,eAACC,GAAA,EAAD,CAAS9P,UAAWT,EAAQ+O,QAA5B,UACI,sBAAKtO,UAAWT,EAAQgP,WAAxB,UACI,cAACb,GAAA,EAAD,CACI1W,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OAHd,SAOI,qBAAK5D,IC3DlB,ygQD2D6BD,IAAI,iBAExB,cAAC1G,GAAA,EAAD,CAAYN,QAAQ,KAApB,yBAEJ,qBAAK9C,UAAWT,EAAQmP,cAAxB,SACI,eAACqB,GAAA,EAAD,WACI,cAAC1I,GAAA,EAAD,UACI,cAAC,IAAD,CACIrQ,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACV3C,GAAG,SACHtK,MAAO,CAAEtK,QAAS,OAClB+R,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WATvB,qBAcJ,cAAChD,GAAA,EAAD,UACI,cAAC,IAAD,CACIrQ,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACV3C,GAAG,UACH7C,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WARvB,sBAaJ,eAAChD,GAAA,EAAD,WACI,cAAC,IAAD,CACIrQ,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACV3C,GAAG,QACH7C,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WARvB,mBAYA,cAAC2F,GAAA,EAAD,CAAOC,aAAcC,OAAOlY,OAAOmE,GAAe6K,QAAO,SAAC9O,EAAGiY,GAAJ,OAAUjY,EAAIiY,IAAG,GAAInQ,UAAWT,EAAQuP,gBAI7G,sBAAK9O,UAAWT,EAAQvG,QAAxB,UACKA,EAAQ4Q,SACL,cAACC,GAAA,EAAD,CACIC,IAAI,cACJC,IAAK/Q,EAAQ4Q,SACb5J,UAAWT,EAAQsP,SAGvB,cAAChF,GAAA,EAAD,CAAQ7J,UAAWT,EAAQqI,MAA3B,SACI,cAAC,KAAD,CAAe5H,UAAWT,EAAQqI,UAI1C,cAACjE,GAAA,EAAD,CACI8I,QAAS,cAAC,KAAD,IACTzM,UAAWT,EAAQyP,eACnB7O,QAAS,SAAAwC,GAAC,OAAI6M,EAAY7M,EAAEyN,gBAHhC,SAKI,cAAChN,GAAA,EAAD,CAAYN,QAAQ,KAApB,uBAEJ,eAACuN,GAAA,EAAD,CACId,SAAUA,EACVe,aAAc,CACVC,SAAU,MACVC,WAAY,UAEhBC,aAAW,EACXC,gBAAiB,CACbH,SAAU,MACVC,WAAY,UAEhBlQ,KAAMA,EACNC,QAAS,kBAAMiP,EAAY,OAZ/B,UAcI,eAAChI,GAAA,EAAD,CAAUrH,QAASwP,EAAnB,UACI,cAAC,KAAD,CAAe3P,UAAWT,EAAQ0P,QAClC,cAAC7L,GAAA,EAAD,wBAEJ,eAACoE,GAAA,EAAD,CAAUrH,QAASuP,EAAnB,UACI,cAAC,KAAD,CAAmB1P,UAAWT,EAAQ0P,QACtC,cAAC7L,GAAA,EAAD,kCAIZ,cAAC3D,EAAA,EAAD,CAAQK,MAAI,EAAZ,SACI,gCACI,cAACc,EAAA,EAAD,CACI0G,KAAK,QACLtH,UAAWT,EAAQoP,WACnB3X,MAAM,UACNkJ,aAAW,OACXC,QAAS,SAAAwC,GAAC,OAAI6M,EAAY7M,EAAEyN,gBALhC,SAOI,cAAC,KAAD,MAEJ,eAACC,GAAA,EAAD,CACId,SAAUA,EACVe,aAAc,CACVC,SAAU,MACVC,WAAY,UAEhBC,aAAW,EACXC,gBAAiB,CACbH,SAAU,MACVC,WAAY,UAEhBlQ,KAAMA,EACNC,QAAS,kBAAMiP,EAAY,OAZ/B,UAcI,eAACO,GAAA,EAAD,CAAMxK,UAAU,MAAMvF,UAAWT,EAAQ2P,cAAzC,UACI,cAAC7H,GAAA,EAAD,UACI,cAAC,IAAD,CACIrQ,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACV3C,GAAG,SACH7C,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WACnBlK,QAAS,kBAAMqP,EAAY,OAT/B,qBAcJ,cAACnI,GAAA,EAAD,UACI,cAAC,IAAD,CACIrQ,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACV3C,GAAG,UACH7C,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WACnBlK,QAAS,kBAAMqP,EAAY,OAT/B,sBAcJ,eAACnI,GAAA,EAAD,WACI,cAAC,IAAD,CACIrQ,MAAM,UACN8L,QAAQ,UACR6K,UAAU,OACV3C,GAAG,QACH7C,YAAa,CACT/R,QAAS,QAEb4J,UAAWT,EAAQ8K,WACnBlK,QAAS,kBAAMqP,EAAY,OAT/B,mBAaA,cAACQ,GAAA,EAAD,CACIC,aAAc,GACdjQ,UAAWT,EAAQuP,cAI/B,cAAC6B,GAAA,EAAD,IACA,eAACnJ,GAAA,EAAD,CACIxH,UAAWT,EAAQ4P,cACnBhP,QAASwP,EAFb,UAII,cAAC,KAAD,CAAe3P,UAAWT,EAAQ0P,QAClC,cAAC7L,GAAA,EAAD,wBAEJ,eAACoE,GAAA,EAAD,CAAUrH,QAASuP,EAAnB,UACI,cAAC,KAAD,CAAmB1P,UAAWT,EAAQ0P,QACtC,cAAC7L,GAAA,EAAD,4CElNrBwN,GA1BM,SAAC,GAAuC,IAA1BC,EAAyB,EAApCtL,UAAyBuL,EAAW,gCAC9B3S,KAAtBrB,EADoD,EACpDA,OAAQD,EAD4C,EAC5CA,UAEZ,OACI,cAAC,IAAD,2BACQiU,GADR,IAEIC,OAAQ,SAAAnG,GACJ,OAAI9N,IAAWD,EAEP,qCACI,cAAC,GAAD,IACA,cAACgU,EAAD,eAAejG,OAGlB/N,EAAkB,cAACuK,GAAA,EAAD,IAGnB,cAAC,IAAD,CACI4D,GAAI,CAAEoD,SAAU,SAAUnR,MAAO,CAAEkR,KAAMvD,EAAMtI,kB,qBChBrEhE,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnC+V,KAAM,CACF9J,QAAS,OACTkE,eAAgB,aAChBnF,WAAY,SACZkB,cAAe,SACfjD,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,MACtCzH,OAAQ,QACR4H,MAAO,SAEXgS,KAAM,CAAElb,SAAU,SAClBmb,KAAM,CAAE7a,QAAS,MAAOe,QAAS,OACjCkT,WAAY,CACRC,eAAgB,OAChBtT,MAAO,OACPG,QAAS,cACTrB,SAAU,YACVM,QAAS,WA+BF8a,GA3BE,WACb,IAAM3R,EAAUjB,KACRxB,EAAWqB,KAAXrB,OAER,OACI,sBAAKkD,UAAWT,EAAQiM,KAAxB,UACI,cAAC,KAAD,CAA+BxL,UAAWT,EAAQyR,OAClD,cAAC5N,GAAA,EAAD,CAAYN,QAAQ,KAAK9L,MAAM,cAAcgJ,UAAWT,EAAQ0R,KAAhE,iBAGA,cAAC7N,GAAA,EAAD,CAAYN,QAAQ,KAAK9L,MAAM,cAAcgJ,UAAWT,EAAQ0R,KAAhE,kFAGA,eAAC1H,GAAA,EAAD,CAAK5H,cAAc,MAAM3B,UAAWT,EAAQkL,cAA5C,UACK3N,GACG,cAAC,IAAD,CAASkO,GAAG,WAAWhL,UAAWT,EAAQ8K,WAA1C,qBAIJ,cAAC,IAAD,CAASW,GAAG,SAAShL,UAAWT,EAAQ8K,WAAxC,0B,+BC7CH8G,GAAc,SAACC,GAExB,GAAIC,MAAMD,GAAK,MAAO,eAEtB,IAAME,EAAI,IAAIC,KAERC,EADQC,KAAKC,MAAMJ,EAAEK,UAAU,KACfP,EAGtB,GAAII,EAAU,SAAkB,CAC5B,IAAMI,EAAIH,KAAKC,MAAMF,EAAO,UAC5B,OAAQI,GAAKA,EAAI,EAAI,aAAe,aAGxC,GAAIJ,EAAU,OAAY,CACtB,IAAMK,EAAIJ,KAAKC,MAAMF,EAAO,QAC5B,OAAOK,GAAKA,EAAI,EAAI,cAAgB,cAGxC,GAAIL,EAAU,OAAW,CACrB,IAAMM,EAAIL,KAAKC,MAAMF,EAAO,QAC5B,OAAOM,GAAKA,EAAI,EAAI,aAAe,aAGvC,GAAIN,EAAU,OACV,OAAOC,KAAKC,MAAMF,EAAO,OAAgB,YAG7C,GAAIA,EAAU,MACV,MAAO,YAGX,GAAIA,EAAU,KAAM,CAChB,IAAMO,EAAIN,KAAKC,MAAMF,EAAQ,MAC7B,OAAOO,GAAKA,EAAI,EAAI,aAAe,aAGvC,GAAIP,EAAU,GAAI,CACd,IAAMlE,EAAImE,KAAKC,MAAMF,EAAQ,IAC7B,OAAOlE,GAAKA,EAAI,EAAI,eAAiB,eAGzC,OAAOmE,KAAKC,MAAMF,GAAW,gBCvC3BlT,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnCsK,UAAW,CACP5I,QAAS1B,EAAM4J,QAAQ,IAE3B2S,mBAAoB,CAChB/a,WAAYxB,EAAMc,QAAQC,QAAQG,SAClCsb,qBAAsB,GACtBC,oBAAqB,GACrBC,wBAAyB,GACzBzQ,QAAS,OACTkE,eAAgB,SAChBnF,WAAY,SACZzB,MAAO,OACPmF,SAAU,IACVnN,MAAO,QAEXob,eAAgB,CACZnb,WAAY,UACZgb,qBAAsB,GACtBC,oBAAqB,GACrBG,uBAAwB,GACxB3Q,QAAS,OACTkE,eAAgB,SAChBnF,WAAY,SACZzB,MAAO,OACPmF,SAAU,IACVmO,YAAa,WACbtb,MAAO,WAEXub,YAAa,CACT9R,WAAY,SACZtJ,QAAS,GAEb0X,OAAQ,CACJ7P,MAAO,GACP5H,OAAQ,GACRoX,YAAa/Y,EAAM4J,QAAQ,IAE/BmT,eAAgB,CACZ1c,SAAU,UACVM,QAAS,IACToU,WAAY,EACZiI,UAAW,cAEfC,gBAAiB,CACb5c,SAAU,UACVM,QAAS,IACToU,WAAY,EACZiI,UAAW,gBAoCJE,GAhCC,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,IAAKC,EAAiB,EAAjBA,WACdtT,EAAUjB,KAChB,OACI,eAACiL,GAAA,EAAD,CAAK7H,QAAQ,OAAOC,cAAc,MAAM3B,UAAWT,EAAQQ,UAA3D,UACK8S,GACG,cAAChJ,GAAA,EAAD,CAAQ7J,UAAWT,EAAQsP,OAAQ9E,IAAK6I,EAAI5Z,QAAQ4Q,WAExD,eAACL,GAAA,EAAD,CAAK7H,QAAQ,OAAOC,cAAc,SAAlC,UACI,cAACmR,GAAA,EAAD,CACI9S,UACI6S,EAAatT,EAAQyS,mBAAqBzS,EAAQ6S,eAF1D,SAKI,cAAChP,GAAA,EAAD,CACIpD,UAAWT,EAAQgT,YACnBzP,QAAQ,KAFZ,SAIK8P,EAAI3B,SAGb,cAAC7N,GAAA,EAAD,CACIpD,UACI6S,EAAatT,EAAQiT,eAAiBjT,EAAQmT,gBAFtD,SAKKvB,GAAYyB,EAAIG,oBCtE/BzU,GAAYC,aAAW,SAAA9I,GAAK,YAAK,CACnCud,gBAAc,GACVtR,QAAS,QACTtK,OAAQ,uBAFE,cAGT3B,EAAMqL,YAAYC,KAAK,MAAQ,CAC9B3J,OAAQ,wBAJA,0BAMC,QAND,gCAOO3B,EAAMc,QAAQqI,OAAOC,OAP5B,cAQV,uBAAwB,CACpBG,MAAO,SACP5H,OAAQ,UAVF,cAYV,6BAA8B,CAC1B8H,UAAW,qBACXC,aAAc,IAdR,cAgBV,6BAA8B,CAC1BT,gBAAiB,iBACjBS,aAAc,IAlBR,cAoBV,mCAAoC,CAChClI,WAAY,SArBN,GAwBdgc,SAAU,CACNvR,QAAS,OACTkE,eAAgB,cAEpBsN,UAAW,CACPxR,QAAS,OACTkE,eAAgB,gBA0CTuN,GAtCM,SAAC,GAA+B,IAA9BhX,EAA6B,EAA7BA,cAAeZ,EAAc,EAAdA,SAC5BgE,EAAUjB,KACV8U,EAAUC,iBAAO,MAEfpa,EADYkF,KAAZnF,QACAC,KAMR,OAJA+E,qBAAU,WACNoV,EAAQE,QAAQC,mBACjB,CAACpX,EAAeZ,IAGf,cAACoE,EAAA,EAAD,CAAMK,UAAWT,EAAQyT,eAAzB,SACI,cAACF,GAAA,EAAD,UACI,eAAC/C,GAAA,EAAD,WAEQxU,EAASzB,KAAI,SAACJ,EAAS8Z,GACnB,IAAMX,EAAanZ,EAAQV,QAAQC,OAASA,EAAK8C,IACjD,OACI,cAACsL,GAAA,EAAD,CAEIrH,UACI6S,EACAtT,EAAQ0T,SACR1T,EAAQ2T,UALhB,SAQI,cAAC,GAAD,CAASN,IAAKlZ,EAASmZ,WAAYA,KAP9BW,MAYrB,cAACnM,GAAA,EAAD,CAAUoM,IAAKL,Y,0CCtE7B9U,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnCsK,UAAW,CACPoL,UAAW,IACXzJ,QAAS,OACTkE,eAAgB,aAChBnF,WAAY,SACZsO,YAAatZ,EAAM4J,QAAQ,GAC3B,MAAO,CACHvJ,SAAU,aAGlB4d,cAAe,CACX1U,MAAO,MACP2U,UAAW,IACX1U,UAAW,OACX,uBAAwB,CACpBD,MAAO,SACP5H,OAAQ,SAEZ,6BAA8B,CAC1B8H,UAAW,qBACXC,aAAc,GAElB,6BAA8B,CAC1BT,gBAAiB,iBACjBS,aAAc,GAElB,mCAAoC,CAChClI,WAAY,SAGpB2c,gBAAiB,CACb5U,MAAO,OAEXiS,KAAM,CACF7Z,OAAQ,IACRD,QAAS,IAEb0c,eAAgB,CACZ/d,SAAU,UAEdge,WAAY,CACRrV,OAAQhJ,EAAM4J,QAAQ,EAAG,GACzBL,MAAO,SAoEA+U,GAhEQ,SAAC,GAAiB,IAAfpY,EAAc,EAAdA,QAChB4D,EAAUjB,KACRtF,EAAYmF,KAAZnF,QACAwE,EAAwBa,KAAxBb,oBAH4B,EAIEK,IAAMC,SAAS,IAJjB,mBAI7BkW,EAJ6B,KAIhBC,EAJgB,KAM9BC,EAAc,WAChB,IAAM/a,EAAU,CACZH,QAASA,EAAQ+C,IACjBkV,KAAM+C,EACNG,MAAOnb,EAAQ4Q,UAEnBpM,EAAoB9B,mBAAmBC,EAASxC,GAChD8a,EAAe,KAOnB,OACI,eAACnB,GAAA,EAAD,CAAW9S,UAAWT,EAAQQ,UAA9B,UACI,cAACwJ,GAAA,EAAD,CAAKvJ,UAAWT,EAAQmU,cAAxB,SACI,cAACpQ,GAAA,EAAD,CACI8Q,WAAW,EACXC,WAAW,EACXnW,MAAO8V,EACPxQ,SAXS,SAAA8Q,GACrBL,EAAeK,EAAG7Q,OAAOvF,QAWbwF,YAAY,yBACZ6Q,WAAY,CACRhV,QAAS,CAAEiV,MAAOjV,EAAQ0R,MAC1BwD,kBAAkB,GAEtBC,QAAS,SAAA/R,GACS,UAAVA,EAAEgS,KAAiBT,SAInC,eAAC3K,GAAA,EAAD,CACI7H,QAAQ,OACRkE,eAAe,WACf5F,UAAWT,EAAQqU,gBAHvB,UAKI,cAAChT,EAAA,EAAD,UACI,cAAC,KAAD,CAAgCZ,UAAWT,EAAQsU,mBAEvD,cAACjT,EAAA,EAAD,UACI,cAAC,KAAD,CAA6BZ,UAAWT,EAAQsU,mBAEpD,cAAClQ,GAAA,EAAD,CACI3D,UAAWT,EAAQuU,WACnBhR,QAAQ,WACR9L,MAAM,YACNmJ,QAAS,WACL+T,KALR,yBCxGD,OAA0B,wCCYnC5V,GAAYC,aAAW,SAAA9I,GAAK,YAAK,CACnCsK,UAAU,eACLtK,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B3J,OAAQ,QACRsH,gBAAiB,OACjB8L,WAAY/U,EAAM4J,QAAQ,KAGlC2T,gBAAc,GACVtR,QAAS,QACTtK,OAAQ,sBACR6H,UAAW,QAHD,cAITxJ,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BrC,gBAAiB,SALX,cAOV,uBAAwB,CACpBM,MAAO,SACP5H,OAAQ,UATF,cAWV,6BAA8B,CAC1B8H,UAAW,qBACXC,aAAc,IAbR,cAeV,6BAA8B,CAC1BT,gBAAiB,iBACjBS,aAAc,IAjBR,cAmBV,mCAAoC,CAChClI,WAAY,SApBN,cAsBTxB,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B3J,OAAQ,SAvBF,GA0Bdwd,UAAW,CACPxd,OAAQ,IACRsK,QAAS,OACTkE,eAAgB,aAChBnF,WAAY,SACZsO,YAAatZ,EAAM4J,QAAQ,GAC3B,MAAO,CACHvJ,SAAU,aAGlBgZ,MAAO,CACH9X,MAAOvB,EAAMc,QAAQqI,OAAOC,MAC5BkQ,YAAatZ,EAAM4J,QAAQ,GAC3B,SAAU,CACNL,MAAO,GACP5H,OAAQ,GACRtB,SAAU,WACVmB,WAAYxB,EAAMc,QAAQC,QAAQG,WAG1Cke,YAAa,CACT7d,MAAOvB,EAAMc,QAAQqI,OAAOC,MAC5B,SAAU,CACNG,MAAO,GACP5H,OAAQ,GACRtB,SAAU,SACVmB,WAAYxB,EAAMc,QAAQC,QAAQG,WAG1Cme,UAAW,CACP1d,OAAQ,IACR2d,SAAU,SACVtU,WAAY,SACZ,UAAW,CACP/B,gBAAiB,YAGzBsW,iBAAkB,CACd5d,OAAQ,IACR2d,SAAU,SACVtU,WAAY,SACZ/B,gBAAiB,UACjBuW,WAAY,qBAEhBC,aAAc,CACVxT,QAAS,OACTC,cAAe,SACfoN,YAAatZ,EAAM4J,QAAQ,IAE/B8V,iBAAkB,CACd7T,WAAY7L,EAAM4J,QAAQ,IAE9BwP,OAAQ,CACJzX,OAAQ,GACR4H,MAAO,GACPG,aAAc,IAElBiW,WAAY,CACRtf,SAAU,WACVE,WAAY,KAEhBqf,QAAS,CACLjf,QAAS,OACTgB,OAAQ,EACRH,WAAY,eA+DLqe,GA3DO,SAAC,GAAoE,IAAnE7b,EAAkE,EAAlEA,OAAQ8b,EAA0D,EAA1DA,kBAAmBC,EAAuC,EAAvCA,mBAAoBrZ,EAAmB,EAAnBA,cAC7DoD,EAAUjB,KACRrG,EAAakG,KAAblG,SAOR,OACI,qBAAK+H,UAAWT,EAAQQ,UAAxB,SACI,eAACJ,EAAA,EAAD,CAAMI,WAAS,EAACC,UAAWT,EAAQyT,eAAnC,UACI,eAACrT,EAAA,EAAD,CAAMC,MAAI,EAACI,UAAWT,EAAQqV,UAA9B,UACI,cAACxR,GAAA,EAAD,wBACA,cAAC4M,GAAA,EAAD,CAAOC,aAAcC,OAAOlY,OAAOmE,GAAe6K,QAAO,SAAC9O,EAAGiY,GAAJ,OAAUjY,EAAIiY,IAAG,GAAInQ,UAAWT,EAAQuP,WAErG,cAAC6B,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,UAC3B5b,EAAOK,KAAI,SAACoN,EAAGsM,GACZ,OACI,eAAC,IAAMiC,SAAP,WACI,eAAC9V,EAAA,EAAD,CACIC,MAAI,EACJG,WAAS,EACTC,UACIkH,EAAEnL,MAAQwZ,EACJhW,EAAQyV,iBACRzV,EAAQuV,UAElB3U,QAAS,kBAxBbwG,EAwBkCO,EAAEnL,IAvBxDyZ,EAAmB7O,QACnB1O,EAAS,CAAES,KAAM,iBAFE,IAACiO,GAgBA,UAUI,cAAChH,EAAA,EAAD,CAAMC,MAAI,EAACI,UAAWT,EAAQ4V,iBAA9B,SACI,cAACtL,GAAA,EAAD,CACIC,IAAI,iBACJC,IAAK7C,EAAEiN,MAAQjN,EAAEiN,MAAQuB,GACzB5S,QAAQ,UACR9C,UAAWT,EAAQsP,WAG3B,eAAClP,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACC,UAAWT,EAAQ2V,aAAxC,UACI,cAAC9R,GAAA,EAAD,CAAYpD,UAAWT,EAAQ6V,WAA/B,SACKlO,EAAE5N,OAEP,eAAC8J,GAAA,EAAD,CAAYN,QAAQ,YAAY9L,MAAM,gBAAtC,UACKkQ,EAAEyO,QAAQ5O,OADf,iBAIJ,cAACpH,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,EAAf,SACI,cAACgN,GAAA,EAAD,CAAOC,aAAc9T,EAAc+K,EAAEnL,KAAMiE,UAAWT,EAAQsV,mBAGtE,cAAClE,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,YA/BXnO,EAAEnL,cCjHzCuC,GAAYC,aAAW,SAAC9I,GAAD,MAAY,CACrCsK,UAAW,CACP3I,OAAQ,uBAEZ8T,iBAAiB,aACbxM,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,MACtC6C,QAAS,QACTtK,OAAQ,uBACP3B,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B3J,OAAQ,wBAGhBie,QAAS,CACLjf,QAAS,OACTgB,OAAQ,EACRH,WAAY,WAEhB2d,UAAW,CACPxd,OAAQ,IACRsK,QAAS,OACTkE,eAAgB,aAChBnF,WAAY,SACZsO,YAAatZ,EAAM4J,QAAQ,GAC3B,MAAO,CACHvJ,SAAU,aAGlB6f,QAAS,CACLvf,QAAS,IAEbwf,SAAU,CACN5W,MAAO,GACP5H,OAAQ,GACR+H,aAAc,GACdqP,YAAa/Y,EAAM4J,QAAQ,IAE/BwW,SAAU,CACN/f,SAAUL,EAAM4J,QAAQ,GACxBrI,MAAO,eA+FA8e,GA3FF,WACT,IAAMvW,EAAUjB,KAET7E,EADgB0E,KAAfvE,WACDH,OAHQ,EAIqBqE,mBAAS,MAJ9B,mBAIRiY,EAJQ,KAIIC,EAJJ,OAKmClY,mBAAS,MAL5C,mBAKRyX,EALQ,KAKWU,EALX,OAOgC5X,KAAvCb,EAPO,EAOPA,oBAAqBrB,EAPd,EAOcA,cAEzBF,EAAgBuB,EAAoBpC,mBAkCxC,GA7BAyC,IAAMG,WAAU,WACR+X,GAAcR,GACd/X,EAAoBlB,mBAAmBiZ,KAE5C,CAACQ,EAAYvY,EAAqBrB,EAAeoZ,IAGpD1X,IAAMG,WAAU,WAEZ,GAAIvE,EAAOsN,QAAUmJ,OAAOgG,KAAKja,GAAe8K,OAAQ,CACpD,IAAMoP,EAAS1c,EAAO2c,MAAK,SAACC,EAAQC,GAEhC,GAAIra,EAAcoa,EAAOta,MAAQE,EAAcqa,EAAOva,KAAM,CACxD,IAAMwa,EAAYta,EAAcoa,EAAOta,KAAKR,SACtCib,EAAYva,EAAcqa,EAAOva,KAAKR,SAEtCkb,EACmB,IAArBF,EAAUxP,OAAe,EAAIwP,EAAUA,EAAUxP,OAAS,GAAGgM,UAGjE,OADyB,IAArByD,EAAUzP,OAAe,EAAIyP,EAAUA,EAAUzP,OAAS,GAAGgM,WAC5C0D,EAEzB,OAAO,KAEXR,GAAqB,SAAA3I,GAAC,OAAIA,GAAK6I,EAAO,GAAGpa,OACzCia,EAAc,YAAIG,OAEvB,CAAC1c,EAAQwC,EAAeE,KAEtB4Z,IAAeR,EAAmB,OAAO,cAACnO,GAAA,EAAD,IAC9C,IAAMsP,EAAgBX,EAAWrO,MAAK,SAAAR,GAAC,OAAIA,EAAEnL,MAAQwZ,KACrD,OACI,eAAC5V,EAAA,EAAD,CAAMI,WAAS,EAACC,UAAWT,EAAQQ,UAAnC,UACI,cAAC,GAAD,UACI,cAAC,GAAD,CACItG,OAAQsc,EACRR,kBAAmBA,EACnBC,mBAAoBS,EACpB9Z,cAAeA,MAGvB,cAACwD,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACsL,GAAI,GAAIxL,GAAI,EAAGG,UAAWT,EAAQ2L,iBAAvD,SAEI6K,EAAWhP,QACX2P,GACAza,EAAcsZ,IACd,qCACI,eAACzC,GAAA,EAAD,CAAW9S,UAAWT,EAAQqV,UAA9B,UACI,cAAC/K,GAAA,EAAD,CACI/G,QAAQ,SACR9C,UAAWT,EAAQqW,SACnB7L,IAAK2M,EAAcvC,QAEvB,eAAC5K,GAAA,EAAD,CAAK8E,SAAU,EAAG1M,cAAc,SAAhC,UACI,cAACyB,GAAA,EAAD,CAAYN,QAAQ,KAApB,SAA0B4T,EAAcpd,OACxC,cAAC8J,GAAA,EAAD,CAAYpD,UAAWT,EAAQoW,QAAS7S,QAAQ,KAAhD,SACK4T,EAAcf,QAAQ5O,OAAS,gBAGxC,cAACnG,EAAA,EAAD,UACI,cAAC,KAAD,CAAeZ,UAAWT,EAAQsW,gBAG1C,cAAClF,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,UAC5B,cAAC,GAAD,CACIlZ,cAAeA,EACfZ,SAAUU,EAAcsZ,GAAmBha,WAE/C,cAACoV,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,UAC5B,cAAC,GAAD,CAAgB1Z,QAAS4Z,a,kDCrIvCjX,GAAYC,aAAW,SAAA9I,GAAK,YAAK,CACnC+V,KAAM,CACFxM,MAAO,OACPuC,UAAW9L,EAAM4J,QAAQ,GACzBX,gBAAiBjJ,EAAMc,QAAQU,WAAW0U,MAC1CzM,UAAWzJ,EAAMkhB,QAAQ,GACzBxX,aAAc,IAElByX,WAAY,CACRxf,OAAQ,IACRsK,QAAS,OACTmV,oBAAqB,YACrBpW,WAAY,UAEhBqW,SAAU,CACNpV,QAAS,OACTqV,iBAAkB,MAClBvW,QAAS,gBACTS,aAAcxL,EAAM4J,QAAQ,IAEhC2X,UAAW,CACPhY,MAAO,IACP5H,OAAQ,IACRkb,YAAa,SACbnT,aAAc,QAElB8X,WAAS,GACLjhB,WAAY,OACZF,SAAU,YAFL,cAGJL,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BjL,SAAU,YAJT,cAMJL,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B/K,WAAY,SACZF,SAAU,SART,GAWTohB,SAAU,CACNphB,SAAU,YAEdqhB,SAAU,CACNngB,MAAO,WAEXogB,aAAc,CACV5M,WAAY,QA2DL6M,GAvDE,SAAC,GAAgC,IAA9Bjf,EAA6B,EAA7BA,KAAMkf,EAAuB,EAAvBA,iBAChB/X,EAAUjB,KAD6B,EAEXR,oBAAS,GAFE,mBAEtCjB,EAFsC,KAE3B0a,EAF2B,KAQ7C,GAJAvZ,qBAAU,WACNuZ,GAAa,KACd,IAEC1a,EACA,OACI,cAAC8C,EAAA,EAAD,CACII,WAAS,EACTkD,UAAU,SACVzC,QAAQ,SACRuK,MAAM,SACNtK,WAAW,SALf,SAOI,cAAC+W,GAAA,EAAD,CAAkBC,KAAM,IAAKzgB,MAAM,gBAS/C,OACI,cAAC0gB,GAAA,EAAD,CAAM1X,UAAWT,EAAQiM,KAAM1I,QAAQ,WAAW3C,QALjC,WACjBmX,EAAiBlf,EAAK2D,MAItB,SACI,eAAC4b,GAAA,EAAD,CAAgB3X,UAAWT,EAAQqX,WAAnC,UACI,cAACgB,GAAA,EAAD,CACIrS,UAAU,MACVuE,IAAI,UACJ1S,OAAO,MACP+c,MAAO/b,EAAKyf,WAAazf,EAAKyf,WAAaC,GAC3CpS,MAAOtN,EAAKsN,MACZ1F,UAAWT,EAAQyX,YAEvB,eAACe,GAAA,EAAD,CAAa/X,UAAWT,EAAQuX,SAAhC,UACI,8BACI,cAAC1T,GAAA,EAAD,CAAYpD,UAAWT,EAAQ0X,UAA/B,SACK7e,EAAKsN,UAGd,sBAAK1F,UAAWT,EAAQ6X,aAAxB,UACI,uBAAMpX,UAAWT,EAAQ2X,SAAzB,oBACY9e,EAAK4f,SADjB,MAC8B,OAE9B,sBAAMhY,UAAWT,EAAQ4X,SAAzB,SAAoC/e,EAAKkB,mB,yCC3GlD,OAA0B,+CC0BnCgF,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnC4f,QAAS,CACL5W,OAAQhJ,EAAM4J,QAAQ,EAAG,IAE7BmV,MAAO,CACHxV,MAAO,OACPmC,cAAe1L,EAAM4J,QAAQ,IAEjC4Y,MAAO,CACH9W,cAAe1L,EAAM4J,QAAQ,IAEjCqG,MAAO,CACHlE,aAAc/L,EAAM4J,QAAQ,IAEhCgC,OAAQ,CACJrC,MAAO,QAEXkZ,MAAO,CACH9gB,OAAQ,SA0JD+gB,GAtJO,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,mBACf7Y,EAAUjB,KAD8B,EAGpBR,mBAAS,IAHW,mBAGvC4H,EAHuC,KAGhC2S,EAHgC,OAIRva,mBAAS,IAJD,mBAIvCwa,EAJuC,KAI1BC,EAJ0B,OAKdza,mBAAS,IALK,mBAKvC8L,EALuC,KAK7B4O,EAL6B,OAMZ1a,oBAAS,GANG,mBAM5ByK,GAN4B,WAOtCnL,EAAYe,KAAZf,QAIFoL,EAASC,sBAAW,uCAAC,WAAMC,GAAN,iBAAAxQ,EAAA,0DACnBwQ,EAAa3B,OADM,uBAEnBwB,GAAa,IAEPrE,EAAO,IAAImF,UACZC,OAAO,QAASZ,EAAa,IALf,SAMDvQ,IACbC,KAAK,iBAAkB8L,GACvB7L,OAAM,SAAAC,GAAG,OAAIV,QAAQC,IAAIS,MARX,QAMbE,EANa,SASRA,EAAIV,OACX0gB,EAAYhgB,EAAIV,KAAK8R,UACrBrB,GAAa,IAXE,2CAAD,sDAcvB,IAMGkQ,EAAa,uCAAG,4BAAAvgB,EAAA,+EAEIC,IAAMC,KAAN,qBAAyBgF,GAAW,CAClD6T,KAAMqH,EACN5S,MAAOA,EACPmS,WAAYjO,IALF,OAERpR,EAFQ,OAOd6f,EAAS,IACTE,EAAe,IACfC,EAAY,IACZJ,EAAmB5f,EAAIV,MAVT,kDAYdF,QAAQC,IAAR,MAZc,0DAAH,qDA/B2B,EA+CqB+Q,aAAY,CAC3EJ,SACAK,SAAU,EACVC,OAAQ,YAHJC,EA/CsC,EA+CtCA,aAAcC,EA/CwB,EA+CxBA,aAAcC,EA/CU,EA+CVA,aAAcC,EA/CJ,EA+CIA,aAK5CxI,EAAQyI,mBACV,8BAAC,uCACMrB,IACCkB,EAAeb,GAAc,IAC7Bc,EAAeb,GAAc,IAC7Bc,EAAeb,GAAc,MAErC,CAACW,EAAcE,EAAcD,IAGjC,OACI,gCACI,eAACtJ,EAAA,EAAD,CAAMC,MAAI,EAAV,UACI,cAAC+D,GAAA,EAAD,CACIxD,QAASiY,EACTphB,MAAM,UACNgJ,UAAWT,EAAQ2Y,MAHvB,SAKI,cAAC,KAAD,MAEJ,cAAC9U,GAAA,EAAD,CACIN,QAAQ,KACR6D,GAAG,cACHoE,MAAM,SACN/K,UAAWT,EAAQmG,MAJvB,4BAQA,cAACtC,GAAA,EAAD,CAAYN,QAAQ,KAAK6D,GAAG,oBAAoBoE,MAAM,SAAtD,wDAGA,cAAC4F,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,aAGhC,cAAC1V,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACS,QAAQ,SAA7B,SACI,iCACI,eAACb,EAAA,EAAD,CAAMC,MAAI,EAAV,UACI,cAACyD,GAAA,EAAD,CAAYrD,UAAWT,EAAQ0Y,MAA/B,wBACA,cAAC3U,GAAA,EAAD,CACIR,QAAQ,WACRU,SAAU,SAAAb,GAAC,OAAI0V,EAAS1V,EAAEc,OAAOvF,QACjC8B,UAAWT,EAAQiV,MACnB9Q,YAAY,gBACZxF,MAAOwH,OAIf,eAAC/F,EAAA,EAAD,CAAMC,MAAI,EAAV,UACI,cAACyD,GAAA,EAAD,CAAYrD,UAAWT,EAAQ0Y,MAA/B,8BAGA,cAAC3U,GAAA,EAAD,CACIR,QAAQ,WACR6D,GAAG,4BACH0N,WAAS,EACTqE,KAAM,EACNlV,SAAU,SAAAb,GAAC,OAAI4V,EAAe5V,EAAEc,OAAOvF,QACvC8B,UAAWT,EAAQiV,MACnB9Q,YAAY,sBACZxF,MAAOoa,OAGf,cAAC3Y,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,eAAC2J,GAAA,EAAD,CAAKvJ,UAAWT,EAAQoZ,eAAxB,UACI,eAACrT,GAAA,EAAD,CAAgBtF,UAAWT,EAAQ0Y,MAAnC,uCAC+B,OAE/B,cAACxO,GAAA,EAAD,CACI/D,MAAM,6BACNgE,OAAK,EACLC,UAAU,QAHd,SAKI,cAACJ,GAAA,EAAD,2BAASR,EAAa,CAAErI,WAAxB,aACI,qBACIqJ,IAAKH,GAAsBkO,GAC3B9X,UAAWT,EAAQqI,MACnBkC,IAAI,mBAMxB,cAACnK,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,cAAC+D,GAAA,EAAD,CACI3M,MAAM,UACNyQ,UAAW,cAAC,KAAD,IACXtH,QAASsY,EACTzY,UAAWT,EAAQ8B,OAJvB,oC,0CClLlB/C,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnCoZ,OAAQ,CACJzX,OAAQ,OACR4H,MAAO,OACPP,OAAQhJ,EAAM4J,QAAQ,EAAG,IAE7BuZ,YAAa,CACTzhB,QAAS1B,EAAM4J,QAAQ,IAE3BgW,QAAS,CACL5W,OAAQhJ,EAAM4J,QAAQ,GACtBL,MAAO,YA8CA6Z,GA1CE,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACVvZ,EAAUjB,KAChB,OACI,sBAAK0B,UAAWT,EAAQuZ,QAAxB,UACK,IACD,eAACnZ,EAAA,EAAD,CAAMI,WAAS,EAACH,MAAI,EAACY,QAAQ,aAA7B,UACI,eAACb,EAAA,EAAD,CACIC,MAAI,EACJG,WAAS,EACTkD,UAAU,SACVxC,WAAW,SACXD,QAAQ,SACRwC,GAAI,EANR,UAQI,cAACrD,EAAA,EAAD,CAAMC,MAAI,EAAV,SACKkZ,EAAQjK,OACL,cAAChF,GAAA,EAAD,CACIC,IAAKgP,EAAQxf,KACbyQ,IAAK+O,EAAQjK,OACb7O,UAAWT,EAAQsP,SAGvB,cAAChF,GAAA,EAAD,CAAQ7J,UAAWT,EAAQsP,OAA3B,SACI,cAAC,KAAD,CAAe7O,UAAWT,EAAQsP,aAI9C,cAAClP,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,cAACwD,GAAA,EAAD,CAAYN,QAAQ,KAApB,SAA0BgW,EAAQxf,YAG1C,cAACqG,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,GAAf,SACI,cAACI,GAAA,EAAD,CAAYpD,UAAWT,EAAQqZ,YAA/B,SACKE,EAAQ7H,gBCjC3B3S,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnCiQ,MAAO,CACHlE,aAAc/L,EAAM4J,QAAQ,IAEhC6Y,MAAO,CACH9gB,OAAQ,KAEZ2hB,OAAQ,CACJC,UAAW,iBACX5hB,OAAQ,OACR4H,MAAO,QAEXqW,QAAS,CACL5W,OAAQhJ,EAAM4J,QAAQ,EAAG,GACzBL,MAAO,QAEXwV,MAAO,CACH/V,OAAQhJ,EAAM4J,QAAQ,EAAG,IAE7BwP,OAAQ,CACJzX,OAAQ,OACR4H,MAAO,OACPP,OAAQhJ,EAAM4J,QAAQ,GACtB4Z,OAAQ,qBAEZC,SAAU,CACN9hB,OAAQ,QACR4H,MAAO,SAEXma,SAAU,CACNhiB,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,IAEpCgC,OAAQ,CACJjK,OAAQ,SA0LDgiB,GAtLI,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,gBAAiBC,EAAmB,EAAnBA,aAC7B/Z,EAAUjB,KADsC,EAEtBR,mBAAS,IAFa,mBAE/Cyb,EAF+C,KAErCC,EAFqC,OAGlB1b,mBAAS,IAHS,mBAG/C2b,EAH+C,KAGnCC,EAHmC,OAIpB5b,qBAJoB,mBAI/C6b,EAJ+C,KAIpCC,EAJoC,OAKlB9b,qBALkB,mBAK/C+b,EAL+C,KAKnCC,EALmC,OAM5Bhc,qBAN4B,mBAM/C4H,EAN+C,KAMxC2S,EANwC,OAOtBva,qBAPsB,mBAO/Cqb,EAP+C,KAOrCY,EAPqC,OAQxBlc,IAAMC,UAAS,GARS,mBAQ/Ckc,EAR+C,KAQtCC,EARsC,KAchDC,EAAW,uCAAG,4BAAAhiB,EAAA,+EAEMC,IAAMY,IAAN,sBAAyBugB,IAF/B,OAEN9gB,EAFM,OAGZ6f,EAAS7f,EAAIV,KAAKM,KAAKsN,OACvBqU,EAAYvhB,EAAIV,KAAKM,KAAK6Y,MAC1B2I,EAAaphB,EAAIV,KAAKM,KAAKyf,YAC3BiC,EAActhB,EAAIV,KAAKM,KAAKyhB,YAC5BL,EAAYhhB,EAAIV,KAAKM,KAAKmhB,UAPd,kDASZ3hB,QAAQC,IAAR,MATY,0DAAH,qDAYjBmG,qBAAU,WACNkc,MAED,CAACZ,IAEJ,IAAMa,EAAU,uCAAG,8BAAAjiB,EAAA,sEACGC,IAAMC,KAAN,6BAAiCkhB,GAAgB,CAC/DrI,KAAMwI,IAFK,OACTjhB,EADS,OAIT4hB,EAJS,sBAIab,GAJb,CAIuB/gB,EAAIV,KAAKghB,UAC/CU,EAAYY,GACZV,EAAc,IANC,2CAAH,qDAShB,OAAKhU,EAeD,8BACI,cAAC/F,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACkD,UAAU,SAASzC,QAAQ,SAASC,WAAW,SAApE,SACI,eAACd,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACkD,UAAU,SAASxC,WAAW,SAAnD,UACI,eAACd,EAAA,EAAD,CACIC,MAAI,EACJoD,GAAI,GACJjD,WAAS,EACTS,QAAQ,gBACRC,WAAW,WALf,UAOI,cAACd,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,EAAf,SACI,cAACW,GAAA,EAAD,CACIxD,QAASkZ,EACTriB,MAAM,UACNgJ,UAAWT,EAAQ2Y,MAHvB,SAKI,cAAC,KAAD,QAGR,cAACvY,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,GAAf,SAEI,cAACI,GAAA,EAAD,CACIN,QAAQ,KACRiI,MAAM,SACNpE,GAAG,oBACH3G,UAAWT,EAAQmG,MAJvB,SAMKA,MAGT,cAAC/F,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,OAGnB,cAAC2N,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,UAE5B,cAAC1V,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACiD,GAAI,GAAIxC,QAAQ,SAArC,SACI,cAACb,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,qBACImK,IAAK4P,GAAwB7B,GAC7BhO,IAAI,aAIhB,cAACP,GAAA,EAAD,CAAKvJ,UAAWT,EAAQoZ,iBAExB,cAAChI,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,UAE5B,eAAC1V,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACiD,GAAI,GAAIvC,WAAW,SAAxC,UACI,cAACd,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,EAAf,SACI,cAAC6G,GAAA,EAAD,CAAQ7J,UAAWT,EAAQsP,OAAQ9E,IAAK8P,MAE5C,cAACla,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,GAAf,SACI,cAACI,GAAA,EAAD,CAAYpD,UAAWT,EAAQ4Z,SAA/B,SACKA,MAGT,cAACxZ,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,EAAf,SACI,cAACpC,EAAA,EAAD,CAAYV,aAAW,SAASC,QAtGrC,WACf8Z,GAAYD,IAqGQ,SACKA,EACG,cAAC,KAAD,CACIhjB,MAAM,YACNgJ,UAAWT,EAAQwZ,SAGvB,cAAC,KAAD,CACI/hB,MAAM,YACNgJ,UAAWT,EAAQwZ,gBAMvC,cAACpI,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,UAE5B,eAAC1V,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACiD,GAAI,GAAIxC,QAAQ,SAArC,UACI,cAACb,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,IACf,cAACrD,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,EAAGjD,WAAS,EAACkD,UAAU,SAAtC,SACKsW,EAASzf,KAAI,SAAAgf,GAAO,OACjB,cAACnZ,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,cAAC,GAAD,CAAUkZ,QAASA,KADPA,EAAQ/c,UAKhC,cAAC4D,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,IACf,eAACrD,EAAA,EAAD,CACIC,MAAI,EACJG,WAAS,EACTiD,GAAI,GACJvC,WAAW,SACXD,QAAQ,SACRnB,QAAS,EANb,UAQI,cAACM,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,GAAf,SACI,cAACM,GAAA,EAAD,CACIR,QAAQ,WACRuX,WAAS,EACTpC,MAAM,kBACNvf,KAAK,OACL2b,WAAS,EACTqE,KAAM,EACN4B,QAAS,EACTtjB,MAAM,YACNod,WAAS,EACTpU,UAAWT,EAAQiV,MACnBtW,MAAOub,EACPjW,SAAU,SAAAb,GAAC,OAAI+W,EAAc/W,EAAEc,OAAOvF,YAG9C,cAACyB,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,EAAf,SACI,cAACW,GAAA,EAAD,CACI3M,MAAM,YACN8L,QAAQ,WACR3C,QAASga,EACTna,UAAWT,EAAQ8B,OACnB+S,WAAS,EALb,wCA1HpB,cAACzU,EAAA,EAAD,CACII,WAAS,EACTkD,UAAU,SACVzC,QAAQ,SACRuK,MAAM,SACNtK,WAAW,SACXT,UAAWT,EAAQ2Z,SANvB,SASI,cAAC1B,GAAA,EAAD,CAAkBC,KAAM,IAAKzgB,MAAM,iBCjG7CsH,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnC8kB,gBAAiB,CACbnjB,OAAQ,KAEZojB,WAAW,aACPzL,YAAa,OACZtZ,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BgO,YAAa,IAGrBsG,QAAS,CACL5W,OAAQhJ,EAAM4J,QAAQ,EAAG,GACzBL,MAAO,QAEXyb,cAAe,CACXtW,SAAU,QAEd9C,OAAO,aACHrC,MAAO,IACPwP,YAAa/Y,EAAM4J,QAAQ,IAC1B5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5ByN,YAAa/Y,EAAM4J,QAAQ,KAGnCqb,SAAS,aACLvW,SAAU,OACVhN,QAAS1B,EAAM4J,QAAQ,EAAG,GAAI,EAAG,KAChC5J,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B5J,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,EAAG,KAGxCsM,MAAO,CACHjN,gBAAiBjJ,EAAMc,QAAQU,WAAW0U,MAC1CzM,UAAWzJ,EAAMkhB,QAAQ,GACzBpV,UAAW,OACXpK,QAAS1B,EAAM4J,QAAQ,IAE3B4X,UAAU,aACNjhB,WAAY,OACZF,SAAU,YACTL,EAAMqL,YAAYC,KAAK,MAAQ,CAC5BjL,SAAU,SAGlB6iB,eAAgB,CACZhR,KAAM,EACNjG,QAAS,OACTC,cAAe,SACfxK,QAAS1B,EAAM4J,QAAQ,EAAG,GAC1B8E,SAAU,IACVwP,UAAW,KAEfuE,MAAO,CACH9gB,OAAQ,KAEZ2hB,OAAQ,CACJC,UAAW,iBACX5hB,OAAQ,OACR4H,MAAO,QAEXwV,MAAO,CACH/V,OAAQhJ,EAAM4J,QAAQ,EAAG,IAE7Bsb,aAAc,CACVpZ,UAAW9L,EAAM4J,QAAQ,QA8IlBub,GA1IM,SAAC,GAAuB,IAArBthB,EAAoB,EAApBA,KAAMqC,EAAc,EAAdA,QACpB4D,EAAUjB,KADwB,EAERT,IAAMC,UAAS,GAFP,mBAEjC+c,EAFiC,KAEvBC,EAFuB,OAGFjd,IAAMC,UAAS,GAHb,mBAGjCid,EAHiC,KAGpBC,EAHoB,OAIAnd,IAAMC,SAAS,IAJf,mBAIjCwb,EAJiC,KAInB2B,EAJmB,KAWlC7C,EAAqB,SAAA8C,GACnBA,EAAQnf,KACRof,EAAc,CAACD,GAAF,mBAAcE,KAE/BJ,GAAe,IAOb3B,EAAkB,WACpByB,GAAY,IAGVxD,EAAmB,SAAA+D,GACrBJ,EAAgBI,GARhBP,GAAY,IAnBwB,EA+BJhd,mBAAS,IA/BL,mBA+BjCsd,EA/BiC,KA+BrBD,EA/BqB,KAiClCG,EAAgB7S,sBAAW,sBAAC,4BAAAvQ,EAAA,+EAEHC,IAAMY,IAAN,iBAAoB4C,IAFjB,OAEpBpD,EAFoB,OAG1B4iB,EAAc5iB,EAAST,KAAKyjB,OAHF,gDAK1B3jB,QAAQC,IAAR,MAL0B,yDAO/B,CAAC8D,IAEJqC,qBAAU,WACNsd,EAAc3f,KACf,CAAC2f,EAAe3f,IAqBnB,OACI,eAACgE,EAAA,EAAD,CAAMI,WAAS,EAACkD,UAAU,SAASuY,aAAa,SAAS5b,MAAI,EAACyL,GAAI,GAAlE,UACI,eAAC1L,EAAA,EAAD,CACIC,MAAI,EACJG,WAAS,EACTS,QAAQ,gBACRC,WAAW,SACXT,UAAWT,EAAQgb,gBALvB,UAOI,cAAC5a,EAAA,EAAD,CAAMC,MAAI,EAAV,SACI,cAACwD,GAAA,EAAD,CAAYN,QAAQ,KAAK9C,UAAWT,EAAQib,WAA5C,SACKlhB,MAIT,eAACqG,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACsL,GAAI,EAAzB,UACI,cAAC1H,GAAA,EAAD,CACI3D,UAAWT,EAAQ8B,OACnBlB,QA5EM,WACtB6a,GAAe,IA4EClY,QAAQ,OACR9L,MAAM,UACN0B,KAAK,SACL+O,UAAW,cAAC,KAAD,IANf,sBAWA,cAACgU,GAAA,EAAD,CACInb,KAAMya,EACNxa,QAAS6X,EACTsD,kBAAgB,oBAChB1b,UAAWT,EAAQoc,OACnBxX,SAAS,KALb,SAOI,cAACyX,GAAA,EAAD,UACI,cAAC,GAAD,CAAexD,mBAAoBA,cAKnD,cAACzH,GAAA,EAAD,CAAS3Q,UAAWT,EAAQ8V,UAE5B,eAAC1V,EAAA,EAAD,CACIC,MAAI,EACJG,WAAS,EACTsL,GAAI,EACJ7K,QAAQ,aACRyC,UAAU,SACVjD,UAAWT,EAAQkb,cANvB,UAQI,cAAC9a,EAAA,EAAD,CAAMC,MAAI,EAACI,UAAWT,EAAQmb,SAA9B,SApEJU,EAAWrU,OACJqU,EAAWthB,KAAI,SAAA1B,GAAI,OACtB,cAAC,GAAD,CAEIA,KAAMA,EACNkf,iBAAkBA,GAFblf,EAAK2D,QAOd,cAACqH,GAAA,EAAD,CAAYN,QAAQ,KAAK9C,UAAWT,EAAQob,aAA5C,sGA8DA,cAACc,GAAA,EAAD,CACInb,KAAMua,EACNta,QAAS8Y,EACTqC,kBAAgB,oBAChB1b,UAAWT,EAAQoc,OACnBxX,SAAS,KALb,SAOI,cAACyX,GAAA,EAAD,UACI,cAACC,GAAD,CACIxC,gBAAiBA,EACjBC,aAAcA,e,qBCxMpChb,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnCsK,UAAU,eACLtK,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B3J,OAAQ,QACRsH,gBAAiB,OACjB8L,WAAY/U,EAAM4J,QAAQ,KAGlCuV,UAAW,CACPxd,OAAQ,IACRsK,QAAS,OACTkE,eAAgB,aAChBnF,WAAY,SACZsO,YAAatZ,EAAM4J,QAAQ,GAC3B,MAAO,CACHvJ,SAAU,aAGlBgZ,MAAO,CACH9X,MAAOvB,EAAMc,QAAQqI,OAAOC,MAC5BkQ,YAAatZ,EAAM4J,QAAQ,GAC3B,SAAU,CACNL,MAAO,GACP5H,OAAQ,GACRtB,SAAU,WACVmB,WAAYxB,EAAMc,QAAQC,QAAQG,WAG1CmlB,UAAW,CACPpa,QAAS,OACTC,cAAe,UAEnBoa,oBAAqB,CACjBra,QAAS,QACT1C,MAAO,MACPN,gBAAiB,UACjBD,OAAQhJ,EAAM4J,QAAQ,EAAG,EAAG,EAAG,GAC/BlI,QAAS1B,EAAM4J,QAAQ,KACvBF,aAAc,GAElB6c,YAAa,CACTta,QAAS,OACTkE,eAAgB,gBAChBnF,WAAY,SACZ,MAAO,CACH3K,SAAU,aAGlBmZ,MAAO,CACHjY,MAAO,UACPlB,SAAU,YAEdmmB,WAAY,CACRjlB,MAAO,UACPyX,OAAQ,UACRlN,UAAW,GACXzL,SAAU,iBAkHHomB,GA9GQ,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cAChB5c,EAAUjB,KAD0B,EAEZH,KAAtBnF,EAFkC,EAElCA,QAASf,EAFyB,EAEzBA,SAFyB,EAIN6F,mBAAS,IAJH,mBAInCse,EAJmC,KAIvBC,EAJuB,OAKVve,mBAAS,IALC,mBAKnCiP,EALmC,KAKzBC,EALyB,KAMpCsP,EAAcjJ,kBAAO,GAErBkJ,EAAS,uCAAG,8BAAArkB,EAAA,+EAEQC,IAAMY,IAAI,iBAFlB,UAEJP,EAFI,OAGJgkB,EAAgB,YAAIhkB,EAAIV,MAAMgC,KAAI,SAAC2iB,EAAKjJ,GAC1C,OAAc,IAAVA,GACAxG,EAAY,CAACyP,EAAI1gB,MACV,2BAAK0gB,GAAZ,IAAiBC,QAAQ,KAElB,2BAAKD,GAAZ,IAAiBC,QAAQ,OAGjCL,EAAcG,IAEVF,EAAYhJ,QAbN,wBAcNrb,EAAS,CACLS,KAAM,WACNS,QAASX,EAAIV,KAAK,GAAG2B,OAAO,GAAGkjB,QAEnCR,EAAc3jB,EAAIV,KAAK,GAAG2B,OAAO,GAAGH,KAAMd,EAAIV,KAAK,GAAG2B,OAAO,GAAGsC,KAChEugB,EAAYhJ,SAAU,EAnBhB,6EAuBV1b,QAAQC,IAAR,MAvBU,0DAAH,qDA2BfmG,qBAAU,WACNue,MACC,IAmBL,OACI,eAAC5c,EAAA,EAAD,CAAMK,UAAWT,EAAQQ,UAAzB,UACI,eAACJ,EAAA,EAAD,CAAMC,MAAI,EAACI,UAAWT,EAAQqV,UAA9B,UACI,cAACxR,GAAA,EAAD,yBACA,cAAC4M,GAAA,EAAD,CAAOC,aAAcmM,EAAWrV,OAAQ/G,UAAWT,EAAQuP,WAE/D,cAACnP,EAAA,EAAD,CAAMC,MAAI,EAACI,UAAWT,EAAQuc,UAA9B,SACKM,EAAWtiB,KAAI,SAAA2iB,GACZ,IAAIG,EAAY,KACVC,EAAY9P,EAASnG,MAAK,SAAAD,GAAE,OAAI8V,EAAI1gB,MAAQ4K,KAwBlD,OAvBI8V,EAAIC,QAAUG,IACdD,EAAYH,EAAIhjB,OAAOK,KAAI,SAAAgC,GACvB,GAAGA,EAAM6Z,QAAQmH,SAAS9jB,EAAQC,KAAK8C,KACnC,OACI,cAACqH,GAAA,EAAD,CAEIpD,UAAWT,EAAQ0c,WACnB9b,QAAS,WAtBnB,IAAC7G,EAAMqC,EAuBO1D,EAAS,CACLS,KAAM,WACNS,QAAS2C,EAAM6gB,QAzBhCrjB,EA4B+BwC,EAAMxC,KA5B/BqC,EA4BqCG,EAAMC,IA3BxEogB,EAAc7iB,EAAMqC,GACpB1D,EAAS,CAAES,KAAM,kBAiBW,SAYKoD,EAAMxC,MAXFwC,EAAMC,SAmB3B,sBAAmBiE,UAAWT,EAAQwc,oBAAtC,UACI,eAACpc,EAAA,EAAD,CAAMK,UAAWT,EAAQyc,YAAzB,UACI,cAAC5Y,GAAA,EAAD,UAAaqZ,EAAInjB,OACjB,cAACqK,GAAA,EAAD,CAAQxD,QAAS,kBArD3B,SAAAwG,GACdqG,EAAY,GAAD,mBAAKD,GAAL,CAAepG,KAC1B,IAAMoW,EAAmBX,EAAWtiB,KAAI,SAAAkjB,GACpC,OAAIA,EAAGjhB,MAAQ4K,GAAOqW,EAAGN,OACrBM,EAAGjhB,MAAQ4K,GAAMqW,EAAGN,OAAe,2BAAKM,GAAZ,IAAgBN,QAAQ,IACnD,eAAYM,GAFuB,2BAAKA,GAAZ,IAAgBN,QAAQ,OAK7DL,EAAcU,GA6CiCE,CAAUR,EAAI1gB,MAArC,SACK0gB,EAAIC,QAAUG,EACX,cAAC,KAAD,CAAY7c,UAAWT,EAAQ0P,QAE/B,cAAC,KAAD,CAASjP,UAAWT,EAAQ0P,aAIxC,8BAAM2N,MAXAH,EAAI1gB,cCvJhCuC,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnCsK,UAAU,aACN3I,OAAQ,uBACP3B,EAAMqL,YAAYC,KAAK,MAAQ,CAC5B3J,OAAQ,SAGhB8T,iBAAkB,CACdxM,gBAAiBjJ,EAAMc,QAAQqI,OAAOC,WA0B/Bqe,GAtBD,WACV,IAAM3d,EAAUjB,KADA,EAE0BR,mBAAS,IAFnC,mBAET4Y,EAFS,KAEMyG,EAFN,OAG8Brf,mBAAS,IAHvC,mBAGTsf,EAHS,KAGQC,EAHR,KAUhB,OACI,eAAC1d,EAAA,EAAD,CAAMI,WAAS,EAACC,UAAWT,EAAQQ,UAAnC,UACI,cAAC,GAAD,UACI,cAAC,GAAD,CAAgBoc,cARA,SAACrgB,EAAOH,GAChCwhB,EAAiBrhB,GACjBuhB,EAAmB1hB,QAQf,cAACgE,EAAA,EAAD,CAAMC,MAAI,EAACG,WAAS,EAACsL,GAAI,GAAIxL,GAAI,EAAGG,UAAWT,EAAQ2L,iBAAvD,SACI,cAAC,GAAD,CAAc5R,KAAMod,EAAe/a,QAASyhB,U,UClC/CtV,GAAY,CACrBC,YAAa,EACb5I,aAAc,EACd7H,YAAa,UACb0Q,YAAa,QACbtJ,gBAAiB,UACjBuJ,QAAS,OACTC,WAAY,2BAGHC,GAAc,CACvB7Q,YAAa,WAGJ8Q,GAAc,CACvB9Q,YAAa,WAGJ+Q,GAAc,CACvB/Q,YAAa,W,+BCNXgH,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnC6nB,KAAM,CACFlmB,OAAQ,OACRsK,QAAS,OACTC,cAAe,UAEnB4b,UAAW,CACP/S,WAAY,OAEhBgT,YAAa,CACTnP,SAAU,GAEdhN,OAAQ,CACJrC,MAAO,YAgEAye,GA9CG,SAAA7S,GACd,IAdqB8S,EAcfne,EAAUjB,KADO,EAEaT,IAAMC,UAAS,GAF5B,mBAEhB6f,EAFgB,KAEJC,EAFI,KAIvB,OACI,cAACje,EAAA,EAAD,CAAMC,MAAI,EAACoD,GAAI,GAAIqI,GAAI,EAAGxL,GAAI,EAA9B,SACI,eAAC6X,GAAA,EAAD,CAAM1X,UAAWT,EAAQ+d,KAAzB,UACI,cAAC1F,GAAA,EAAD,CACI5X,UAAWT,EAAQge,UACnBpJ,MAAOvJ,EAAM9S,KAAKqc,OAASuB,GAC3BhQ,MAAOkF,EAAM9S,KAAKwB,OAEtB,eAACye,GAAA,EAAD,CAAa/X,UAAWT,EAAQie,YAAhC,UACI,cAACpa,GAAA,EAAD,CAAYya,cAAY,EAAC/a,QAAQ,KAAKpC,MAAO,CAAE1K,WAAY,KAA3D,SACK4U,EAAM9S,KAAKwB,OAEhB,eAACqG,EAAA,EAAD,CAAMI,WAAS,EAACkD,UAAU,MAAMvC,MAAO,CAAE8J,WAAY,QAArD,UACI,cAAC,KAAD,CAAuBxT,MAAM,WAAWlB,SAAS,UACjD,eAACsN,GAAA,EAAD,CACIN,QAAQ,QACR9L,MAAM,gBACN0J,MAAO,CAAEqO,YAAa,OAH1B,WA/BC2O,EAoCqB9S,EAAM9S,KAAK6d,QAAQ5O,OAnCzD2W,GAAO,KACCA,EAAM,KAAYI,QAAQ,GAAGC,QAAQ,OAAQ,IAAM,IAE3DL,GAAO,KACCA,EAAM,KAASI,QAAQ,GAAGC,QAAQ,OAAQ,IAAM,IAExDL,GAAO,KACCA,EAAM,KAAMI,QAAQ,GAAGC,QAAQ,OAAQ,IAAM,IAElDL,GAqBa,oBASR,cAACM,GAAA,EAAD,CACI7d,QAAO,sBAAE,sBAAAjI,EAAA,6DACL0lB,GAAc,GADT,SAEChT,EAAMqT,gBAAgBrT,EAAM9S,KAAKiE,KAFlC,2CADb,SAMI,cAAC4H,GAAA,EAAD,CACI8B,SAAUkY,EACV3d,UAAWT,EAAQ8B,OACnBrK,MAAM,UAHV,SAKK4T,EAAMsT,qBCtDzB5f,GAAYC,aAAW,SAAA9I,GAAK,MAAK,CACnC0oB,SAAU,CACN3T,WAAY/U,EAAM4J,QAAQ,GAC1B8B,cAAe1L,EAAM4J,QAAQ,IAEjCgC,OAAQ,CACJE,UAAW,OACXiN,YAAa,OACbtX,cAAe,QAEnByU,MAAO,CACHhL,SAAU,QACV3B,MAAO,IACPN,gBAAiBjJ,EAAMc,QAAQU,WAAW0U,MAC1CzM,UAAWzJ,EAAMkhB,QAAQ,GACzBxf,QAAS1B,EAAM4J,QAAQ,EAAG,EAAG,GAC7BF,aAAc,EACd8I,QAAS,OACTmW,IAAK,MACLC,KAAM,MACNrF,UAAU,yBAEdsF,oBAAqB,CACjB3W,KAAM,EACNjG,QAAS,OACTC,cAAe,SACfiE,eAAgB,SAChBnF,WAAY,SACZ+J,WAAY,OACZrJ,cAAe,QAEnByG,MAAO,CACHxQ,OAAQ,QACR4H,MAAO,SAEX6I,UAAW,CACPzR,QAAS,GACTgB,OAAQ,QACR4H,MAAO,aAuUAuf,GAnUA,WACX,IAAMhf,EAAUjB,KACRd,EAAwBa,KAAxBb,oBAFS,EAG4BW,KAArCvE,EAHS,EAGTA,WAAYmD,EAHH,EAGGA,WAAY9E,EAHf,EAGeA,SACxBwB,EAAyBG,EAAzBH,OAAQI,EAAiBD,EAAjBC,aAJC,EAK6BiE,mBAAS,IALtC,mBAKV0gB,EALU,KAKOC,EALP,KAOT3c,EAAoBC,cAApBD,gBAPS,EAQYhE,oBAAS,GARrB,mBAQV4gB,EARU,KAQCC,EARD,OASoB7gB,mBAAS,IAT7B,mBASV8gB,EATU,KASEC,EATF,OAUiB/gB,oBAAS,GAV1B,mBAUV+J,EAVU,KAUCU,EAVD,OAWuBzK,mBAAS,IAXhC,mBAWV4X,EAXU,KAWIoJ,EAXJ,OAYiBhhB,mBAAS,IAZ1B,mBAYVihB,EAZU,KAYCC,EAZD,OAa2BlhB,mBAAS,IAbpC,mBAaVmhB,EAbU,KAaMC,EAbN,OAcephB,mBAAS,IAdxB,mBAcViP,EAdU,KAcAC,EAdA,KAgBXxE,EAASC,sBAAW,uCAAC,WAAMC,GAAN,iBAAAxQ,EAAA,0DACnBwQ,EAAa3B,OADM,uBAEnBwB,GAAa,IAEPrE,EAAO,IAAImF,UACZC,OAAO,QAASZ,EAAa,IALf,SAMDvQ,IACbC,KAAK,iBAAkB8L,GACvB7L,OAAM,SAAAC,GAAG,OAAIV,QAAQC,IAAIS,MARX,QAMbE,EANa,SASRA,EAAIV,OACXgnB,EAAgBtmB,EAAIV,KAAK8R,UACzBrB,GAAa,IAXE,2CAAD,sDAcvB,IA9Bc,GAgCkDK,aAAY,CAC3EJ,SACAK,SAAU,EACVC,OAAQ,YAHJC,GAhCS,GAgCTA,aAAcC,GAhCL,GAgCKA,aAAcC,GAhCnB,GAgCmBA,aAAcC,GAhCjC,GAgCiCA,aAM5CxI,GAAQyI,mBACV,8BAAC,uCACMrB,IACCkB,GAAeb,GAAc,IAC7Bc,GAAeb,GAAc,IAC7Bc,GAAeb,GAAc,MAErC,CAACW,GAAcE,GAAcD,KAe3BvG,GAAY,uCAAG,WAAMC,GAAN,iBAAAzK,EAAA,yDACjByK,EAAEC,kBAEEuc,KAHa,wBAIPrnB,EAAO,CACTinB,UAAWA,EACXnV,SAAU8L,EACV3I,SAAUA,GAPD,SAUU5U,IAAMC,KAAK,eAAgBN,GAVrC,UAUPS,EAVO,OAYbymB,EAAa,IACbhS,EAAY,IACZ8R,EAAgB,KAEZvmB,EAAST,KAhBA,wBAiBT2B,EAAO+B,KAAKjD,EAAST,KAAKA,MAjBjB,UAkBH+K,EAAwBpJ,EAAxBoJ,CAAgC5K,GAlB7B,QAoBTuF,EAAoB3B,YAAYpC,GAEhCqI,EAAgB,8BAA+B,CAC3CgB,QAAS,UACTC,iBAAkB,SAEtB4b,GAAQ,GA1BC,wBA4BT7c,EAAgB,wBAAyB,CACrCgB,QAAS,QACTC,iBAAkB,SA9Bb,gCAkCbjB,EAAgB,wBAAyB,CACrCgB,QAAS,QACTC,iBAAkB,SApCT,4CAAH,sDA6CZoc,GAAc,WAChB,SAAOF,IAAkBlS,IAGvBqS,GAAmB,SAAA9lB,GACrB,IACI,IAAM+lB,EAAgB,sBAAI5lB,GAAJ,YAAeI,IAAcC,KAAI,SAAAgC,GACnD,OAAOA,EAAMxC,KAAKgmB,iBAKtB,OAFAN,EAAa1lB,IAEwB,IAAjC+lB,EAAcvC,SAASxjB,IACvBulB,EAAe,IACfK,GAAkB,IACX,IAEPL,EAAe,0CACfK,GAAkB,IACX,GAEb,MAAO5mB,GACLV,QAAQC,IAAIS,KAIdinB,GACF,sBAAKvf,UAAWT,EAAQoM,MAAxB,UACI,oDACA,uEACA,uBAAM3L,UAAWT,EAAQ2E,KAAMc,SAAUtC,GAAzC,UACI,cAAC4C,GAAA,EAAD,UACKsZ,EACG,sBAAMle,MAAO,CAAE1J,MAAO,WAAtB,SAAoC4nB,IAEpC,8BAGR,cAACtb,GAAA,EAAD,CACIhK,KAAK,aACL8a,WAAW,EACXtR,QAAQ,WACRU,SA9CO,SAAAb,GACnByc,GAAiBzc,EAAEc,OAAOvF,MAAMohB,kBAgDxB,eAAC/V,GAAA,EAAD,CAAKvJ,UAAWT,EAAQ+e,oBAAxB,UACI,cAAChZ,GAAA,EAAD,2CACA,cAACmE,GAAA,EAAD,CAAS/D,MAAM,8BAA8BgE,OAAK,EAACC,UAAU,QAA7D,SACI,cAACJ,GAAA,EAAD,2BAASR,GAAa,CAAErI,YAAxB,aACI,qBACIoJ,IAAI,cACJC,IAAK2L,GAA8B8J,GACnCxf,UAAW6H,EAAYtI,EAAQsI,UAAYtI,EAAQqI,gBAMnE,cAACtC,GAAA,EAAD,qBACA,cAACiC,GAAA,EAAD,CAAQjO,KAAK,SAASwJ,QAAQ,WAAWsR,WAAW,EAAM7Q,aAAa,GAAvE,SACKxG,EAAWxD,YAAYO,KAAI,SAAAC,GACxB,OACI,cAACyN,GAAA,EAAD,CAEItJ,MAAOnE,EAAOgC,IACdoE,QAAS,kBAAM6M,EAAYjT,EAAOgC,MAHtC,SAKKhC,EAAOT,MAJHS,EAAOgC,UAS5B,cAAC4H,GAAA,EAAD,CACIjL,KAAK,SACLsH,UAAWT,EAAQ8B,OACnBrK,MAAM,UACN0J,MAAO,CAAEa,UAAW,QAJxB,oCAaZ1D,IAAMG,WAAU,WACZ,IAAMyhB,EAAY5lB,EAAagN,QAAO,SAAA/K,GAClC,OAAQrC,EAAOmN,MAAK,SAAA8Y,GAChB,OAAOA,EAAY3jB,MAAQD,EAAMC,UAGzC0iB,EAAmBgB,KACpB,CAAC5lB,EAAcD,EAAYH,IAE9B,IAAMkmB,GAAe,uCAAG,WAAMhZ,GAAN,mBAAAzO,EAAA,+EAEEC,IAAMC,KAAN,uBAA2BuO,GAAM,CAAEhL,QAASgL,IAF9C,OAEVnO,EAFU,OAGVonB,EAHU,sBAGOnmB,GAHP,CAGejB,EAAIV,OAC7B+nB,EAAgB,CAAEhmB,aAAa,YAAKA,GAAeJ,OAAQmmB,GACjE3nB,EAAS,CAAES,KAAM,mBAAoBS,QAAS0mB,IAC9CriB,EAAoB3B,YAAY+jB,GANhB,kDAQhBhoB,QAAQC,IAAR,MARgB,0DAAH,sDAYfioB,GAAgB,uCAAG,WAAMnZ,GAAN,uBAAAzO,EAAA,+EAECC,IAAMU,OAAN,uBAA6B8N,GAAM,CAAEhL,QAASgL,IAF/C,OAEXnO,EAFW,OAGVunB,EAHU,YAITtmB,GADcumB,EAHL,YAKTpmB,EAAWC,cAGbomB,EAAWF,EAAclZ,QAAO,SAAA/K,GAAK,OAAIA,EAAMC,MAAQvD,EAAIV,KAAKiE,OAEhEyX,EAAQwM,EAAoBE,WAC9B,SAAApkB,GAAK,OAAIA,EAAMC,MAAQvD,EAAIV,KAAKiE,OAGpCikB,EAAoBxM,GAAShb,EAAIV,KAIjCG,EAAS,CAAES,KAAM,mBAAoBS,QAFf,CAAEU,aAAcmmB,EAAqBvmB,OAAQwmB,KAGnEziB,EAAoB3B,YAAYokB,GAnBf,kDAqBjBroB,QAAQC,IAAR,MArBiB,0DAAH,sDAyBtB,OACI,eAAC8H,EAAA,EAAD,WACI,eAACA,EAAA,EAAD,CAAMI,WAAS,EAAf,UACI,cAACJ,EAAA,EAAD,CAAMC,MAAI,EAACqD,UAAU,MAAMlD,WAAS,EAACF,GAAI,IACzC,cAACF,EAAA,EAAD,CAAMC,MAAI,EAACY,QAAQ,SAASyC,UAAU,MAAMlD,WAAS,EAACF,GAAI,IAC1D,eAACF,EAAA,EAAD,CAAMC,MAAI,EAACY,QAAQ,WAAWyC,UAAU,MAAMlD,WAAS,EAACF,GAAI,EAA5D,UACI,cAAC8D,GAAA,EAAD,CACI3D,UAAWT,EAAQ8B,OACnBrK,MAAM,UACNmJ,QArMD,WACfwe,GAAQ,GACRG,EAAgB,KAgMJ,8BAOA,cAACqB,GAAA,EAAD,CAAO7f,KAAMoe,EAAWne,QApMpB,WAChBoe,GAAQ,GACRG,EAAgB,IAChBE,EAAa,IACbH,EAAe,KAgMH,SACKU,WAKZ9lB,EAAOsN,OAAS,GACb,qCACI,cAACpH,EAAA,EAAD,CAAMI,WAAS,EAAf,SACI,cAACJ,EAAA,EAAD,CAAMC,MAAI,EAACY,QAAQ,SAASyC,UAAU,MAAMlD,WAAS,EAACsL,GAAI,GAA1D,SACI,cAACjI,GAAA,EAAD,CACIN,QAAQ,KACR9L,MAAM,cACN0J,MAAO,CAAE8J,WAAY,QAHzB,6BASR,cAACsI,GAAA,EAAD,CAAW9S,UAAWT,EAAQ4e,SAAUha,SAAS,KAAjD,SACI,cAACxE,EAAA,EAAD,CAAMI,WAAS,EAACV,QAAS,EAAzB,SACK5F,EAAOK,KAAI,SAAAwjB,GAAI,OACZ,cAAC,GAAD,CAEIY,WAAW,cACXpmB,KAAMwlB,EACNW,gBAAiB6B,IAHZxC,EAAKvhB,eAUjCyiB,EAAgBzX,QACb,qCACI,eAACpH,EAAA,EAAD,CAAMI,WAAS,EAAf,UACI,cAACJ,EAAA,EAAD,CAAMC,MAAI,EAACY,QAAQ,SAASyC,UAAU,MAAMlD,WAAS,EAACsL,GAAI,GAA1D,SACI,cAACjI,GAAA,EAAD,CACIN,QAAQ,KACR9L,MAAM,cACN0J,MAAO,CAAE8J,WAAY,QAHzB,kCAQJ,cAAC7K,EAAA,EAAD,CAAMC,MAAI,EAACY,QAAQ,SAASyC,UAAU,MAAMlD,WAAS,EAACsL,GAAI,GAA1D,SACI,cAACjI,GAAA,EAAD,CACIN,QAAQ,KACR9L,MAAM,gBACN0J,MAAO,CAAE8J,WAAY,QAHzB,qDAUR,cAACsI,GAAA,EAAD,CAAW9S,UAAWT,EAAQ4e,SAAUha,SAAS,KAAjD,SACI,cAACxE,EAAA,EAAD,CAAMI,WAAS,EAACV,QAAS,EAAzB,SACKmf,EAAgB1kB,KAAI,SAAAwjB,GAAI,OACrB,cAAC,GAAD,CAEIY,WAAW,aACXpmB,KAAMwlB,EACNW,gBAAiB0B,IAHZrC,EAAKvhB,mBC9V/BqkB,I,OAzBA,SAAC,GAAkB,IAAhBziB,EAAe,EAAfA,SAAe,EACGQ,KAAxBlG,EADqB,EACrBA,SAAU4E,EADW,EACXA,UACVW,EAAwBa,KAAxBb,oBAgBR,OAdAQ,qBAAU,WACFnB,GACAgG,IAAuB5K,GAAU+D,MAAK,SAACpC,GACnC,IAAMgB,EAAahB,EAAWE,KAAI,SAAAgC,GAAK,OAAIA,EAAMC,OACjDyB,EAAoB7C,YAAYC,GAChCiI,EAAwBjJ,EAAxBiJ,CAAoC5K,QAE7C,CAAC4E,EAAW5E,EAAUuF,IAGzBQ,qBAAU,WACN,OAAO,kBAAMR,EAAoBjB,iBAClC,CAACiB,IAGA,mCACKG,MC8BE0iB,OArCf,WACI,OACI,cAAC,IAAD,CAAkB5qB,MAAOA,EAAzB,SACI,cAAC,IAAD,UACI,cAAC6qB,EAAA,EAAD,UACI,cAAC,IAAD,UACI,eAAC,IAAD,WAEI,cAAC,IAAD,CACIrV,OAAK,EACLK,KAAK,IACLyF,OAAQ,kBAAM,cAAC,IAAD,CAAU/F,GAAG,gBAE/B,cAAC,IAAD,CAAOC,OAAK,EAACK,KAAK,WAAW/F,UAAWmH,KACxC,cAAC,IAAD,CAAOzB,OAAK,EAACK,KAAK,SAAS/F,UAAWyI,KACtC,cAAC,GAAD,UACI,eAAC,IAAD,WACI,cAACuS,GAAD,CAAgBtV,OAAK,EAACK,KAAK,WAAW/F,UAAW6F,KACjD,cAACmV,GAAD,CACIjV,KAAK,2BACL/F,UAAW6F,KAEf,cAACmV,GAAD,CAAgBjV,KAAK,SAAS/F,UAAW2X,KACzC,cAACqD,GAAD,CAAgBjV,KAAK,UAAU/F,UAAWgZ,KAC1C,cAACgC,GAAD,CAAgBjV,KAAK,QAAQ/F,UAAWuQ,KACxC,cAAC,IAAD,CAAOxK,KAAK,SAAS/F,UAAW2L,KAChC,cAAC,IAAD,CAAUlG,GAAG,4BCtCjDwV,IAASzP,OACL,cAAC,EAAD,UACI,cAAC,GAAD,MAEJ0P,SAASC,eAAe,W","file":"static/js/main.cf127487.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core';\r\n\r\nexport const theme = createMuiTheme({\r\n    typography: {\r\n        fontFamily: 'Poppins',\r\n        h1: {\r\n            fontSize: '2.25rem',\r\n        },\r\n        h2: {\r\n            fontSize: '1.375rem',\r\n            fontWeight: 'bold',\r\n            letterSpacing: 0.5,\r\n        },\r\n        h3: {\r\n            fontFamily: 'Montserrat',\r\n            fontSize: '1.625rem',\r\n            fontWeight: 500,\r\n            letterSpacing: -1,\r\n        },\r\n        h4: {\r\n            fontSize: '1rem',\r\n            opacity: '50%',\r\n        },\r\n        h5: {\r\n            fontSize: '1.25rem',\r\n            fontWeight: 500,\r\n            letterSpacing: -0.5,\r\n        },\r\n        h6: {\r\n            fontSize: '1rem',\r\n            fontWeight: 500,\r\n        },\r\n    },\r\n    palette: {\r\n        primary: {\r\n            main: '#4B00FF',\r\n            light: '#2574FF',\r\n            gradient: 'linear-gradient(45deg, #2574FF, #4B00FF)',\r\n        },\r\n        secondary: {\r\n            main: '#2968FF',\r\n        },\r\n    },\r\n    overrides: {\r\n        MuiButton: {\r\n            textPrimary: {\r\n                color: '#FFF',\r\n                background: 'linear-gradient(45deg, #2574FF, #4B00FF)',\r\n                textTransform: 'none',\r\n                fontSize: '0.875rem',\r\n                padding: 20,\r\n                height: '3rem',\r\n            },\r\n            outlinedPrimary: {\r\n                color: '#FFF',\r\n                textTransform: 'none',\r\n                fontSize: '0.875rem',\r\n                padding: 20,\r\n                height: '3rem',\r\n                '&:hover': {\r\n                    borderColor: '#FFF',\r\n                },\r\n            },\r\n            outlinedSecondary: {\r\n                color: '#2968FF',\r\n                textTransform: 'none',\r\n                fontSize: '0.875rem',\r\n                padding: 20,\r\n                height: '3rem',\r\n            },\r\n        },\r\n    },\r\n});\r\n","const socketEvents = (socket, handleReceiveMessage) => {\r\n    socket.on('connect', () => {\r\n        console.log('connected to socket server');\r\n    });\r\n\r\n    socket.on('rooms updated', (data) => {\r\n        console.log('connected to rooms: ', data);\r\n    });\r\n\r\n    socket.on('group message', (data) => {\r\n        handleReceiveMessage(data);\r\n    })\r\n    \r\n    socket.on('disconnect', () => {\r\n        console.log('disconnected from socket server');\r\n    })\r\n    socket.on('connect_error', () => {\r\n        console.log('Error connecting to socket');\r\n    })\r\n};\r\n\r\nexport default socketEvents;\r\n","import axios from 'axios';\r\n\r\nexport const register = values => async dispatch => {\r\n    try {\r\n        const res = await axios.post('auth/register', values).catch(err => {\r\n            throw err.response;\r\n        });\r\n        if (res.status === 201) {\r\n            dispatch({ type: 'REGISTER_SUCCESS' });\r\n            return res;\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        dispatch({ type: 'REGISTER_FAIL' });\r\n        return err;\r\n    }\r\n};\r\n\r\nexport const login = values => async dispatch => {\r\n    try {\r\n        const res = await axios.post('auth/login', values).catch(err => {\r\n            throw err.response;\r\n        });\r\n\r\n        if (res.status === 200) {\r\n            dispatch({ type: 'LOGIN_SUCCESS' });\r\n            return res;\r\n        }\r\n    } catch (err) {\r\n        console.log(err.response);\r\n        dispatch({ type: 'LOGIN_FAIL' });\r\n        return err;\r\n    }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n    try {\r\n        const res = await axios.delete('/auth/logout');\r\n\r\n        if (res.status === 204) {\r\n            dispatch({ type: 'LOGOUT' });\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const fetchProfile = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get('/profile');\r\n\r\n        const { profile, user } = res.data;\r\n        const { courses } = user;\r\n\r\n        dispatch({\r\n            type: 'FETCH_USER_INFO',\r\n            payload: [\r\n                {\r\n                    ...profile,\r\n                },\r\n                {\r\n                    school: user.university ? user.university.name : '',\r\n                    userCourses: courses,\r\n                    schoolCourses: user.university ? user.university.courses : [],\r\n                },\r\n            ],\r\n        });\r\n        return user.groups;\r\n    } catch (err) {\r\n        if (err.response && err.response.status === 401) {\r\n            dispatch({ type: 'LOGIN_FAIL' });\r\n        }\r\n        console.log(err.message);\r\n    }\r\n};\r\n\r\nexport const fetchUserGroups = userGroups => async dispatch => {\r\n    try {\r\n        const res = await axios.get('/user/groups');\r\n        const courseGroups = res.data.map(course => course.groups).flat();\r\n        dispatch({\r\n            type: 'updateUserGroups',\r\n            payload: {\r\n                groups: [...userGroups],\r\n                courseGroups,\r\n            },\r\n        });\r\n    } catch (err) {\r\n        console.log(err.message);\r\n    }\r\n};\r\n\r\nexport const updateProfile = userInfo => async dispatch => {\r\n    try {\r\n        const res = await axios.put('/profile', userInfo);\r\n\r\n        fetchProfile()(dispatch);\r\n        return res;\r\n    } catch (err) {\r\n        console.log(err.message);\r\n        return err;\r\n    }\r\n};\r\n\r\nexport const fetchConversations = async () => {\r\n    try {\r\n        const res = await axios.get('/user/conversations');\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(err);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport const updatePassword = password => async dispatch => {\r\n    try {\r\n        const res = await axios.put('/auth/changepassword', password);\r\n        return res;\r\n    } catch (err) {\r\n        console.log(err.message);\r\n        return err.response;\r\n    }\r\n};\r\n","import * as io from 'socket.io-client'\r\nimport socketEvents from './socket-events';\r\nimport { fetchConversations } from '../context/actions';\r\n\r\nclass ConversationManager {\r\n\r\n    constructor() {\r\n        this._socket = io({ autoConnect: false });\r\n        socketEvents(this._socket, this.handleReceiveMessage);\r\n        this._updateNotifications = () => {};\r\n        this._conversations = {};\r\n        this._notifications = {};\r\n    }\r\n\r\n    //Initialize ConversationManager with update functions\r\n    init = (updateNotifications) => {\r\n        this._updateNotifications = updateNotifications;\r\n    };\r\n\r\n    // Connect to socket server and joins rooms\r\n    startSocket = (groupNames) => {\r\n        if (!this._socket.connected) {\r\n            this._socket.io.opts.query = 'rooms=' + groupNames;\r\n            this._socket.connect();\r\n            this.updateConversations();\r\n        }\r\n    }\r\n\r\n    //Get list of conversations of the form {groupId: Conversation}\r\n    getConversations = () => {\r\n        return this._conversations;\r\n    };\r\n\r\n    //Adds data.messages to conversation.messages and increases notification\r\n    // counter by 1\r\n    handleReceiveMessage = (data) => {\r\n        this._conversations[data.room].messages.push(data.message);\r\n        this._notifications[data.room] += 1;\r\n        this._updateNotifications({...this._notifications});  \r\n    };\r\n\r\n    sendMessageToGroup = (groupId, message) => {\r\n        this._socket.emit('messageGroup', {room: groupId, message})\r\n    }\r\n\r\n    //Updates socket rooms on changes to user groups\r\n    updateRooms = (groups) => {\r\n        const groupNames = groups.map(group => group._id);\r\n        this._socket.emit('updateRooms', groupNames);\r\n        this.updateConversations();\r\n    }\r\n\r\n    //fetches new list of conversations and initializes\r\n    // conversations and notifications\r\n    updateConversations = () => {\r\n        fetchConversations().then((conversations) => {\r\n            const convos = {};\r\n            const notifications = {};\r\n            conversations.forEach(c => {\r\n                convos[c.group] = c;\r\n                notifications[c.group] = 0;\r\n            });\r\n            this._conversations = convos;\r\n            this._notifications = notifications;\r\n            this._updateNotifications(notifications);\r\n        })\r\n    }\r\n\r\n    //Clears the notifications for a specific conversation by groupId\r\n    clearNotifications = (groupId) => {\r\n        if (this._notifications[groupId] > 0) {\r\n            this._notifications[groupId] = 0\r\n            this._updateNotifications({...this._notifications});\r\n        }\r\n    }\r\n\r\n    //Disconnect from socket server\r\n    closeSocket = () => {\r\n        if (this._socket.connected) {\r\n            this._updateConversations = () => {};\r\n            this._socket.disconnect();\r\n        }\r\n    }\r\n}\r\n\r\nexport default ConversationManager;\r\n","export const initialState = {\r\n    isLoading: true,\r\n    isAuth: false,\r\n    userCourse: {},\r\n    userGroups: {\r\n        courseGroups: [],\r\n        groups: [],\r\n    },\r\n    profile: {},\r\n    userGroups: {groups: [], courseGroups: []},\r\n    isOpen: false,\r\n    forumId: null\r\n};\r\n\r\nexport const reducer = (state, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n        case 'LOGIN_SUCCESS':\r\n        case 'REGISTER_SUCCESS':\r\n            return {\r\n                ...state,\r\n                isAuth: true,\r\n                isLoading: true,\r\n            };\r\n        case 'FETCH_USER_INFO':\r\n            return {\r\n                ...state,\r\n                userCourse: payload[1],\r\n                profile: payload[0],\r\n                isLoading: false,\r\n                isAuth: true,\r\n            };\r\n        case 'LOGIN_FAIL':\r\n        case 'REGISTER_FAIL':\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n            };\r\n        case 'LOGOUT':\r\n            return {\r\n                ...state,\r\n                isAuth: false,\r\n                isLoading: false,\r\n            };\r\n        case 'updateProfile':\r\n            return {\r\n                ...state,\r\n                profile: payload,\r\n            };\r\n        case 'updateUserGroups':\r\n            return {\r\n                ...state,\r\n                userGroups: payload,\r\n            };\r\n        case 'updateUserCourses':\r\n            return {\r\n                ...state,\r\n                userCourse: {\r\n                    ...state.userCourse,\r\n                    userCourses: [...payload],\r\n                },\r\n            };\r\n        case 'CLOSE_DRAWER':\r\n            return {\r\n                ...state,\r\n                isOpen: false,\r\n            };\r\n        case 'OPEN_DRAWER':\r\n            return {\r\n                ...state,\r\n                isOpen: true,\r\n            };\r\n        case 'FORUM_ID':\r\n            return {\r\n                ...state,\r\n                forumId: payload,\r\n            };\r\n\r\n        default:\r\n            throw new Error('No action type found!');\r\n    }\r\n};\r\n","import React, { createContext, useContext, useReducer } from 'react';\r\nimport ConversationManager from '../websocket/ConversationManager';\r\n\r\nimport { initialState, reducer } from './reducer';\r\n\r\nconst AppContext = createContext({\r\n    isLoading: true,\r\n    isAuth: false,\r\n    dispatch: () => {},\r\n    profile: {},\r\n});\r\n\r\nconst conversationManager = new ConversationManager();\r\n\r\nconst ConversationContext = createContext({\r\n    conversationManager,\r\n    notifications: {},\r\n});\r\n\r\nconst AppProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n    const [notifications, setNotifications] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        conversationManager.init(setNotifications);\r\n    }, []);\r\n    \r\n    return (\r\n        <ConversationContext.Provider value={{conversationManager, notifications}}>\r\n            <AppContext.Provider value={{ ...state, dispatch }}>\r\n                {children}\r\n            </AppContext.Provider>\r\n        </ConversationContext.Provider>\r\n        \r\n    );\r\n};\r\n\r\nconst useGlobalContext = () => {\r\n    return useContext(AppContext);\r\n};\r\n\r\nconst useConversationContext = () => {\r\n    return useContext(ConversationContext);\r\n}\r\n\r\nexport { AppProvider, useGlobalContext, useConversationContext };\r\n","import React from 'react';\r\nimport { Grid, Hidden, Fab, Drawer, IconButton } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport MenuOutlinedIcon from '@material-ui/icons/MenuOutlined';\r\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\r\n\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    fab_icon: {\r\n        margin: 16,\r\n        backgroundColor: '#FFF',\r\n        color: '#737373',\r\n        '&:hover': {\r\n            color: '#FFF',\r\n            backgroundColor: theme.palette.secondary.main,\r\n        },\r\n    },\r\n    mobile_container: {\r\n        backgroundColor: theme.palette.common.white,\r\n    },\r\n    menu_icon: {\r\n        fontSize: '1.5rem',\r\n    },\r\n    drawer: {\r\n        width: 350,\r\n        backgroundColor: '#F9F9FC',\r\n        overflowY: 'auto',\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.6rem',\r\n            height: '12rem',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            boxShadow: 'inset 0 0 5px grey',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#ccc',\r\n        },\r\n    },\r\n    icon_btn: {\r\n        fontSize: '1.75rem',\r\n        margin: theme.spacing(2),\r\n        color: theme.palette.secondary.main,\r\n    },\r\n}));\r\n\r\nconst Sidebar = ({ children }) => {\r\n    const { dispatch, isOpen } = useGlobalContext();\r\n\r\n    const classes = useStyles();\r\n\r\n    const handleOpen = () => {\r\n        dispatch({ type: 'OPEN_DRAWER' });\r\n    };\r\n\r\n    const handleClose = () => {\r\n        dispatch({ type: 'CLOSE_DRAWER' });\r\n    };\r\n\r\n    const drawerContent = () => (\r\n        <div className={classes.drawer}>\r\n            <Grid\r\n                container\r\n                justify=\"flex-end\"\r\n                alignItems=\"center\"\r\n                style={{ position: 'absolute' }}\r\n            >\r\n                <IconButton className={classes.icon_btn} onClick={handleClose}>\r\n                    <CloseOutlinedIcon />\r\n                </IconButton>\r\n            </Grid>\r\n            {children}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Hidden smDown>\r\n                <Grid item md={3}>\r\n                    {children}\r\n                </Grid>\r\n            </Hidden>\r\n            <Hidden mdUp>\r\n                <Grid container className={classes.mobile_container}>\r\n                    <Fab\r\n                        color=\"primary\"\r\n                        aria-label=\"add\"\r\n                        className={classes.fab_icon}\r\n                        onClick={handleOpen}\r\n                    >\r\n                        <MenuOutlinedIcon className={classes.menu_icon} />\r\n                    </Fab>\r\n                </Grid>\r\n                <Drawer anchor=\"left\" open={isOpen} onClose={handleClose}>\r\n                    {drawerContent()}\r\n                </Drawer>\r\n            </Hidden>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useState } from 'react';\r\nimport { Grid, InputLabel, Button, Typography, TextField } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n        margin: theme.spacing(8, 0, 8, 0),\r\n        [theme.breakpoints.down('sm')]: {\r\n            margin: theme.spacing(0, 0, 8, 0),\r\n        },\r\n    },\r\n    inputStyles: {\r\n        fontWeight: '600',\r\n        width: 300,\r\n        [theme.breakpoints.down('xs')]: {\r\n            width: '100%',\r\n            paddingRight: 24,\r\n        },\r\n    },\r\n    labelStyles: {\r\n        paddingBottom: '.5em',\r\n    },\r\n    profileGrid: {\r\n        padding: '2em 0 0 2em',\r\n    },\r\n    button: {\r\n        marginLeft: '1.2em',\r\n        marginTop: '1em',\r\n        width: 300,\r\n    },\r\n    container: {\r\n        padding: theme.spacing(0, 0, 0, 11),\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(0, 0, 0, 6),\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(0, 0, 0, 4),\r\n            marginBottom: 16,\r\n        },\r\n    },\r\n    listsContainer: {\r\n        [theme.breakpoints.down('xs')]: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n        },\r\n    },\r\n    inputWrapper: {\r\n        margin: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nconst UserInfo = () => {\r\n    const { profile, dispatch } = useGlobalContext();\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [firstName, setFirstName] = useState(profile.firstName);\r\n    const [lastName, setLastName] = useState(profile.lastName);\r\n    const [email, setEmail] = useState(profile.user.email);\r\n    const [location, setLocation] = useState(profile.location);\r\n    const [phone, setPhone] = useState(profile.phone);\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        const userInfo = {\r\n            firstName,\r\n            lastName,\r\n            location,\r\n            phone,\r\n        };\r\n\r\n        const res = await actions.updateProfile(userInfo)(dispatch);\r\n        if (res.status === 200) {\r\n            enqueueSnackbar('Updated successfully', {\r\n                variant: 'success',\r\n                autoHideDuration: '5000',\r\n            });\r\n        } else {\r\n            enqueueSnackbar(res.messages, {\r\n                variant: 'Error',\r\n                autoHideDuration: '5000',\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Grid item container xs={9} direction=\"column\" className={classes.container}>\r\n            <form noValidate autoComplete=\"off\">\r\n                <Typography variant=\"h1\" className={classes.header}>\r\n                    Profile\r\n                </Typography>\r\n                <Grid item container spacing={4} className={classes.listsContainer}>\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>\r\n                                First Name\r\n                            </InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                defaultValue={firstName}\r\n                                onChange={e => setFirstName(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                                placeholder=\"Add a first name..\"\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    {/* Last Name */}\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>\r\n                                Last Name\r\n                            </InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={lastName}\r\n                                onChange={e => setLastName(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                                placeholder=\"Add a last name..\"\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    {/* Email */}\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>Email</InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={email}\r\n                                onChange={e => setEmail(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    {/* Phone */}\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>Phone</InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={phone}\r\n                                onChange={e => setPhone(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                                placeholder=\"Add phone number..\"\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    {/* Location */}\r\n                    <Grid item>\r\n                        <div className={classes.inputWrapper}>\r\n                            <InputLabel className={classes.labelStyles}>\r\n                                Location\r\n                            </InputLabel>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                value={location}\r\n                                onChange={e => setLocation(e.target.value)}\r\n                                className={classes.inputStyles}\r\n                                placeholder=\"eg. Toronto\"\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid container>\r\n                        <Grid item>\r\n                            <Button\r\n                                color=\"primary\"\r\n                                className={classes.button}\r\n                                onClick={handleSubmit}\r\n                            >\r\n                                Submit\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default UserInfo;\r\n","const handleAuthErrors = (err, setErrors) => {\r\n    if (err && err.data && err.data.response) {\r\n        if (err.status === 400) {\r\n            const errors = {};\r\n            err.data.response.forEach(param => {\r\n                errors[param] = 'Invalid ' + param;\r\n            });\r\n            setErrors(errors);\r\n        } else if (err.status === 401) {\r\n            if (err.data.response === 'Invalid credentials')\r\n                setErrors({ password: 'Invalid email or password' });\r\n            else setErrors({ oldPassword: 'Invalid password' });\r\n        } else if (err.status === 404) {\r\n            setErrors({ email: 'User with email not found' });\r\n        } else if (err.status === 409) {\r\n            setErrors({ email: 'Email already in use' });\r\n        }\r\n    }\r\n};\r\n\r\nexport default handleAuthErrors;\r\n","import React from 'react';\r\nimport { Grid, Typography, FormHelperText, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { TextField as MikTextField } from 'formik-material-ui';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport * as actions from '../../context/actions';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport handleAuthErrors from '../../utils/handleAuthErrors';\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n    settings: {\r\n        margin: theme.spacing(8, 2, 2, 11),\r\n        [theme.breakpoints.down('xs')]: {\r\n            alignItems: 'center',\r\n            margin: theme.spacing(0, 0, 2, 0),\r\n        },\r\n    },\r\n    header: {\r\n        marginBottom: theme.spacing(4),\r\n    },\r\n    form: {\r\n        '& div': {\r\n            width: '100%',\r\n            maxWidth: 350,\r\n        },\r\n        '& input': {\r\n            backgroundColor: theme.palette.common.white,\r\n        },\r\n        '& button': {\r\n            width: '100%',\r\n        },\r\n    },\r\n    helper_text: {\r\n        fontSize: '1rem',\r\n        margin: theme.spacing(2.5, 0, 0.5, 0),\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(4),\r\n    },\r\n}));\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n    oldPassword: Yup.string().required('Current password is required'),\r\n    newPassword: Yup.string()\r\n        .min(6, 'Password must be at least 6 characters')\r\n        .required('Password is required'),\r\n    confirmPassword: Yup.string().oneOf(\r\n        [Yup.ref('newPassword'), null],\r\n        'Passwords must match'\r\n    ),\r\n});\r\n\r\nconst ProfileSettings = () => {\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { dispatch } = useGlobalContext();\r\n\r\n    return (\r\n        <Grid container justify=\"center\">\r\n            <Grid item container direction=\"column\" className={classes.settings}>\r\n                <Typography variant=\"h1\" className={classes.header}>\r\n                    Account access\r\n                </Typography>\r\n                <Typography variant=\"h5\">Change password</Typography>\r\n                <Formik\r\n                    initialValues={{\r\n                        oldPassword: '',\r\n                        newPassword: '',\r\n                        confirmPassword: '',\r\n                    }}\r\n                    validationSchema={SignupSchema}\r\n                    onSubmit={async (values, { setSubmitting, setErrors, resetForm }) => {\r\n                        const password = {\r\n                            oldPassword: values.oldPassword,\r\n                            newPassword: values.newPassword,\r\n                        };\r\n                        actions\r\n                            .updatePassword(password)(dispatch)\r\n                            .then(res => {\r\n                                if (res.status === 200) {\r\n                                    enqueueSnackbar('Updated successfully', {\r\n                                        variant: 'success',\r\n                                        autoHideDuration: '5000',\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        resetForm();\r\n                                    }, 500);\r\n                                } else if (res.status === 500) {\r\n                                    enqueueSnackbar('Server Error', {\r\n                                        variant: 'Error',\r\n                                        autoHideDuration: '5000',\r\n                                    });\r\n                                } else {\r\n                                    handleAuthErrors(res, setErrors);\r\n                                }\r\n                            });\r\n                        setTimeout(() => {\r\n                            setSubmitting(false);\r\n                        }, 500);\r\n                    }}\r\n                >\r\n                    {({ submitForm, isSubmitting, errors }) => (\r\n                        <Form className={classes.form}>\r\n                            <FormHelperText className={classes.helper_text}>\r\n                                Your current password\r\n                            </FormHelperText>\r\n                            <Field\r\n                                component={MikTextField}\r\n                                name=\"oldPassword\"\r\n                                type=\"password\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                            <FormHelperText className={classes.helper_text}>\r\n                                New password\r\n                            </FormHelperText>\r\n                            <Field\r\n                                component={MikTextField}\r\n                                name=\"newPassword\"\r\n                                type=\"password\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                            <FormHelperText className={classes.helper_text}>\r\n                                Confirm password\r\n                            </FormHelperText>\r\n                            <Field\r\n                                component={MikTextField}\r\n                                name=\"confirmPassword\"\r\n                                type=\"password\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                            <Grid item>\r\n                                <Button\r\n                                    color=\"primary\"\r\n                                    className={classes.button}\r\n                                    disabled={isSubmitting}\r\n                                    onClick={submitForm}\r\n                                >\r\n                                    Update\r\n                                </Button>\r\n                            </Grid>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ProfileSettings;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    FormHelperText,\r\n    Button,\r\n    Select,\r\n    MenuItem,\r\n    ListItem,\r\n    IconButton,\r\n    LinearProgress,\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutlineOutlined';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        backgroundColor: theme.palette.common.white,\r\n        flexDirection: 'column',\r\n        justify: 'flex-start',\r\n        padding: theme.spacing(8, 0, 0, 11),\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(0, 0, 0, 6),\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            padding: theme.spacing(0, 2, 0, 2),\r\n        },\r\n    },\r\n    university: {\r\n        marginBottom: theme.spacing(3),\r\n    },\r\n    title: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    list_item: {\r\n        justifyContent: 'space-between',\r\n        maxWidth: '400px',\r\n        padding: '0 4px 0 8px',\r\n        '& button': {\r\n            padding: 8,\r\n            fontSize: '1.125rem',\r\n        },\r\n    },\r\n    btn_group: {\r\n        width: '15%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        '& button': {\r\n            fontSize: '1.125rem',\r\n        },\r\n    },\r\n    form: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        maxWidth: '400px',\r\n\r\n        '& input': {\r\n            borderRadius: 4,\r\n            backgroundColor: theme.palette.common.white,\r\n        },\r\n        '& p': {\r\n            fontSize: '0.75rem',\r\n            margin: theme.spacing(2.5, 0, 0.5, 0),\r\n        },\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(4),\r\n    },\r\n    add_btn: {\r\n        marginTop: 8,\r\n    },\r\n}));\r\n\r\nconst MyCourses = () => {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { isLoading, userCourse, userGroups, dispatch } = useGlobalContext();\r\n    const { conversationManager } = useConversationContext();\r\n    const { groups } = userGroups;\r\n    const { school, userCourses, schoolCourses } = userCourse;\r\n    const classes = useStyles();\r\n    const [selectId, setSelectId] = useState('');\r\n    const [course, setCourse] = useState('');\r\n    const [myCourses, setMyCourses] = useState(userCourses);\r\n    const [hasChanges, setHasChanges] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setHasChanges(JSON.stringify(myCourses) !== JSON.stringify(userCourses));\r\n    }, [myCourses, userCourses]);\r\n\r\n    const addCourse = () => {\r\n        if (selectId === '' || myCourses.some(c => c._id === selectId)) return;\r\n        setMyCourses([...myCourses, schoolCourses.find(c => c._id === selectId)]);\r\n        setCourse('');\r\n        setSelectId('');\r\n    };\r\n\r\n    const handleAddCourses = async () => {\r\n        if (!hasChanges) return;\r\n        const courses = [...myCourses].map(c => c._id);\r\n        try {\r\n            const res = await axios.post('/user/courses', courses);\r\n            actions.fetchUserGroups(res.data.user.groups)(dispatch);\r\n            dispatch({ type: 'updateUserCourses', payload: res.data.user.courses });\r\n            if (res.status === 200) {\r\n                enqueueSnackbar('Updated successfully', {\r\n                    variant: 'success',\r\n                    autoHideDuration: '5000',\r\n                });\r\n            } else {\r\n                enqueueSnackbar(res.messages, {\r\n                    variant: 'Error',\r\n                    autoHideDuration: '5000',\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const handleRemove = async id => {\r\n        //if course has not been added to user\r\n        if (!userCourses.some(course => course._id === id)) {\r\n            setMyCourses(myCourses.filter(c => c._id !== id));\r\n        } else {\r\n            try {\r\n                let groupIds;\r\n                if (groups && groups.length) {\r\n                    // filter user groups selecting only the group id's\r\n                    groupIds = groups.reduce(\r\n                        // eslint-disable-next-line no-sequences\r\n                        (arr, g) => (g.course === id && arr.push(g._id), arr),\r\n                        []\r\n                    );\r\n                } else {\r\n                    groupIds = groups.map(group => group._id);\r\n                }\r\n                const res = await axios.delete(`/user/courses/${id}`, {\r\n                    data: { groupsRemoved: groupIds },\r\n                });\r\n\r\n                await actions.fetchUserGroups(res.data.groups)(dispatch);\r\n                conversationManager.updateRooms(res.data.groups);\r\n                dispatch({ type: 'updateUserCourses', payload: res.data.courses });\r\n                setMyCourses(myCourses.filter(c => c._id !== id));\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    };\r\n\r\n    if (isLoading) return <LinearProgress />;\r\n\r\n    return (\r\n        <Grid item container md={9} className={classes.container}>\r\n            <Typography variant=\"h1\" className={classes.university}>\r\n                {school}\r\n            </Typography>\r\n            <Typography variant=\"h5\" className={classes.title}>\r\n                Your courses\r\n            </Typography>\r\n            {myCourses.length < 1 && <Typography>No course selected.</Typography>}\r\n            {myCourses.map(c => {\r\n                if (c._id === course) {\r\n                    return (\r\n                        <ListItem key={c._id} className={classes.list_item}>\r\n                            <Typography>{c.name}</Typography>\r\n                            <div className={classes.btn_group}>\r\n                                <IconButton\r\n                                    edge=\"end\"\r\n                                    onClick={() => handleRemove(c._id)}\r\n                                >\r\n                                    <DeleteIcon />\r\n                                </IconButton>\r\n                                <IconButton edge=\"end\" onClick={() => setCourse('')}>\r\n                                    <HighlightOffIcon />\r\n                                </IconButton>\r\n                            </div>\r\n                        </ListItem>\r\n                    );\r\n                }\r\n                return (\r\n                    <ListItem key={c._id} className={classes.list_item}>\r\n                        <Typography>{c.name}</Typography>\r\n                        <IconButton edge=\"end\" onClick={() => setCourse(c._id)}>\r\n                            <EditOutlinedIcon />\r\n                        </IconButton>\r\n                    </ListItem>\r\n                );\r\n            })}\r\n\r\n            <form className={classes.form}>\r\n                <FormHelperText>Select course</FormHelperText>\r\n                <Select\r\n                    value={selectId}\r\n                    variant=\"outlined\"\r\n                    onChange={e => {\r\n                        setSelectId(e.target.value);\r\n                    }}\r\n                >\r\n                    {schoolCourses.map(course => {\r\n                        const isSelected = myCourses.some(c => c._id === course._id);\r\n                        if (isSelected) {\r\n                            return (\r\n                                <MenuItem key={course._id} value={course._id} disabled>\r\n                                    {course.name}\r\n                                </MenuItem>\r\n                            );\r\n                        } else {\r\n                            return (\r\n                                <MenuItem key={course._id} value={course._id}>\r\n                                    {course.name}\r\n                                </MenuItem>\r\n                            );\r\n                        }\r\n                    })}\r\n                </Select>\r\n                <Grid className={classes.add_btn}>\r\n                    <Button color=\"secondary\" startIcon={<AddIcon />} onClick={addCourse}>\r\n                        Add course\r\n                    </Button>\r\n                </Grid>\r\n                <Button\r\n                    variant=\"text\"\r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    onClick={handleAddCourses}\r\n                    disabled={!hasChanges}\r\n                >\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default MyCourses;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles(() => ({\r\n    container: {\r\n      flex: 1,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n    },\r\n    large: {\r\n        height: 130,\r\n        width: 130,\r\n    },\r\n    uploading: {\r\n      opacity: 0.5,\r\n      height: 130,\r\n      width: 130\r\n    },\r\n}));\r\n\r\nexport const baseStyle = {\r\n    borderWidth: 3,\r\n    borderRadius: 65,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'solid',\r\n    backgroundColor: '#d8d8d8',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n};\r\n  \r\nexport const activeStyle = {\r\n    borderColor: '#2196f3'\r\n};\r\n  \r\nexport const acceptStyle = {\r\n    borderColor: '#00e676'\r\n};\r\n  \r\nexport const rejectStyle = {\r\n    borderColor: '#ff1744'\r\n};\r\n","import React, { useState, useMemo, useCallback, useEffect } from 'react';\r\nimport { Avatar, Tooltip, Box } from '@material-ui/core';\r\nimport {\r\n    baseStyle,\r\n    activeStyle,\r\n    acceptStyle,\r\n    rejectStyle,\r\n    useStyles,\r\n} from './DragzonePicture.styles';\r\nimport { useGlobalContext } from '../context/studyappContext';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\n\r\nconst ProfilePic = () => {\r\n    const classes = useStyles();\r\n    const [uploading, setUploading] = useState(false);\r\n    const { profile, dispatch } = useGlobalContext();\r\n\r\n    const onDrop = useCallback(\r\n        async droppedFiles => {\r\n            if (droppedFiles.length) {\r\n                setUploading(true);\r\n                updateProfilePicture(droppedFiles[0])\r\n            }\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        setUploading(false);\r\n    }, [profile]);\r\n\r\n    const { getRootProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\r\n        onDrop,\r\n        maxFiles: 1,\r\n        accept: 'image/*',\r\n    });\r\n\r\n    const style = useMemo(\r\n        () => ({\r\n            ...baseStyle,\r\n            ...(isDragActive ? activeStyle : {}),\r\n            ...(isDragAccept ? acceptStyle : {}),\r\n            ...(isDragReject ? rejectStyle : {}),\r\n        }),\r\n        [isDragActive, isDragReject, isDragAccept]\r\n    );\r\n\r\n    const onChangeFile = (event) => {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        setUploading(true);\r\n        const file = event.target.files[0];\r\n        if(file) {\r\n            updateProfilePicture(file)\r\n        }\r\n    }\r\n\r\n    const updateProfilePicture = async (file) => {\r\n        const form = new FormData();\r\n        form.append('image', file);\r\n        const res = await axios\r\n            .post('/upload', form)\r\n            .catch(err => console.log(err));\r\n\r\n        if (res && res.data) {\r\n            dispatch({ type: 'updateProfile', payload: res.data });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box className={classes.container} >\r\n            <label htmlFor=\"fileUpload\">           \r\n            <Tooltip title=\"Drag and drop profile picture or click to upload\" arrow placement=\"right\">\r\n                <Box {...getRootProps({ style })}>\r\n                    {profile.imageUrl ? (\r\n                        <Avatar\r\n                            alt=\"Profile Pic\"\r\n                            src={profile.imageUrl}\r\n                            className={uploading ? classes.uploading : classes.large}\r\n                        />\r\n                    ) : (\r\n                        <Avatar className={classes.large}>\r\n                            <PersonAddIcon className={classes.large} />\r\n                        </Avatar>\r\n                    )}\r\n                </Box>\r\n            </Tooltip>\r\n            </label>\r\n            <input hidden type=\"file\" accept=\"image/*\" multiple={false} id=\"fileUpload\" onChange={onChangeFile} />\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default ProfilePic;\r\n","import React from 'react';\r\nimport { Grid, Typography, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { NavLink } from 'react-router-dom';\r\nimport DragzonePicture from '../components/DragzonePicture';\r\n\r\nimport { useGlobalContext } from '../context/studyappContext';\r\nimport * as actions from '../context/actions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    linkStyles: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        padding: '1em 0 0 2em',\r\n        fontSize: '1.125rem',\r\n        opacity: '50%',\r\n    },\r\n    profilePic: {\r\n        borderRadius: '50%',\r\n        width: '130px',\r\n        marginTop: '4em',\r\n    },\r\n    drawer: {\r\n        background: '#F9F9FC',\r\n        height: 'calc(100vh - 100px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n            paddingTop: theme.spacing(6),\r\n            background: '#FFF',\r\n            height: '100vh',\r\n        },\r\n    },\r\n    linkContainer: {\r\n        paddingTop: '2em',\r\n        [theme.breakpoints.down('sm')]: {\r\n            paddingTop: 0,\r\n        },\r\n    },\r\n    profileName: {\r\n        paddingTop: '1em',\r\n        fontSize: '1.375rem',\r\n    },\r\n    button: {\r\n        margin: '2em',\r\n        textTransform: 'none',\r\n        fontWeight: 'bold',\r\n        fontSize: '1rem',\r\n        letterSpacing: 0.5,\r\n    },\r\n}));\r\n\r\nconst ProfileSidePanel = props => {\r\n    const classes = useStyles();\r\n    const { profile, dispatch } = useGlobalContext();\r\n\r\n    const handleDrawerClose = () => {\r\n        dispatch({ type: 'CLOSE_DRAWER' });\r\n    };\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justify=\"space-between\"\r\n            item\r\n            className={classes.drawer}\r\n        >\r\n            {/* Profile briefing container */}\r\n            <Grid\r\n                container\r\n                item\r\n                direction=\"column\"\r\n                alignItems=\"center\"\r\n                style={{ marginTop: '3em' }}\r\n            >\r\n                <DragzonePicture className={classes.profilePic} />\r\n\r\n                <Typography className={classes.profileName} align=\"center\">\r\n                    {profile.firstName + ' ' + profile.lastName}\r\n                </Typography>\r\n            </Grid>\r\n\r\n            {/* Profile Links container */}\r\n            <Grid container item direction=\"column\" className={classes.linkContainer}>\r\n                <NavLink\r\n                    to=\"/profile\"\r\n                    exact\r\n                    activeStyle={{\r\n                        opacity: '100%',\r\n                    }}\r\n                    className={classes.linkStyles}\r\n                    onClick={handleDrawerClose}\r\n                >\r\n                    User Info\r\n                </NavLink>\r\n                <NavLink\r\n                    to=\"/profile/courses\"\r\n                    exact\r\n                    activeStyle={{\r\n                        opacity: '100%',\r\n                    }}\r\n                    className={classes.linkStyles}\r\n                    onClick={handleDrawerClose}\r\n                >\r\n                    My Courses\r\n                </NavLink>\r\n                <NavLink\r\n                    to=\"/profile/settings\"\r\n                    exact\r\n                    activeStyle={{\r\n                        opacity: '100%',\r\n                    }}\r\n                    className={classes.linkStyles}\r\n                    onClick={handleDrawerClose}\r\n                >\r\n                    Settings\r\n                </NavLink>\r\n            </Grid>\r\n            <Grid container item>\r\n                <Grid item>\r\n                    <Button\r\n                        className={classes.button}\r\n                        onClick={() => actions.logout()(dispatch)}\r\n                    >\r\n                        Logout\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ProfileSidePanel;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\n\r\n// Custom component imports\r\nimport Sidebar from '../components/Profile/Sidebar';\r\nimport UserInfo from '../components/Profile/UserInfo';\r\nimport Settings from '../components/Profile/Settings';\r\nimport MyCourses from '../components/Profile/MyCourses';\r\nimport ProfileSidePanel from './ProfileSidePanel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        height: 'calc(100vh - 100px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'auto',\r\n        },\r\n    },\r\n    contentContainer: {\r\n        backgroundColor: theme.palette.common.white,\r\n        [theme.breakpoints.down('sm')]: {\r\n            minHeight: 'calc(100vh - 200px)',\r\n        },\r\n    },\r\n}));\r\n\r\nconst Profile = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Grid container>\r\n            <Grid item container className={classes.container}>\r\n                <Sidebar>\r\n                    <ProfileSidePanel />\r\n                </Sidebar>\r\n                <Grid item container sm={12} md={9} className={classes.contentContainer}>\r\n                    <Switch>\r\n                        <Route exact path=\"/profile\">\r\n                            <UserInfo />\r\n                        </Route>\r\n                        <Route exact path=\"/profile/courses\">\r\n                            <MyCourses />\r\n                        </Route>\r\n                        <Route exact path=\"/profile/settings\">\r\n                            <Settings />\r\n                        </Route>\r\n                    </Switch>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/sign-up.53109035.png\";","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Background from '../../images/sign-up.png';\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n    root: {\r\n        backgroundColor: theme.palette.common.white,\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '100vh',\r\n        },\r\n    },\r\n    container: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            justifyContent: 'center',\r\n        },\r\n    },\r\n    logoContainer: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n    logo: {\r\n        width: '4rem',\r\n        height: 'auto',\r\n        marginBottom: theme.spacing(6),\r\n        '& img': {\r\n            width: '100%',\r\n            height: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        height: '100vh',\r\n        width: 'auto',\r\n        textAlign: 'center',\r\n        margin: 0,\r\n        padding: 0,\r\n        borderRadius: 0,\r\n        backgroundImage: `url(${Background})`,\r\n        backgroundPosition: 'center center',\r\n        backgroundSize: 'cover',\r\n        '& button': {\r\n            float: 'right',\r\n            margin: '2rem 2rem 0 0',\r\n            color: '#FFF',\r\n            borderColor: '#FFF',\r\n        },\r\n    },\r\n    dark_overlay: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\r\n        position: 'relative',\r\n        height: '100%',\r\n        width: '100%',\r\n    },\r\n    formContainer: {\r\n        padding: theme.spacing(4, 22, 4, 12),\r\n        '& h1': {\r\n            marginLeft: theme.spacing(4),\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: theme.spacing(4, 2, 4, 2),\r\n            maxWidth: 450,\r\n            justifyContent: 'center',\r\n        },\r\n    },\r\n    form: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginLeft: theme.spacing(4),\r\n        '& input': {\r\n            borderRadius: 4,\r\n            backgroundColor: theme.palette.common.white,\r\n        },\r\n        '& p': {\r\n            fontSize: '0.75rem',\r\n            margin: theme.spacing(2.5, 0, 0.5, 0),\r\n        },\r\n    },\r\n    add_course: {\r\n        marginTop: 8,\r\n        marginBottom: 8,\r\n    },\r\n    demo_btn: {\r\n        color: '#FFF',\r\n        background: 'linear-gradient(45deg, #2574FF, #4B00FF)',\r\n        textTransform: 'none',\r\n        fontSize: '0.875rem',\r\n        padding: 20,\r\n        height: '3rem',\r\n    },\r\n}));\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        marginTop: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nconst CourseList = React.memo(({ courses, removeCourse }) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Grid className={classes.root}>\r\n            {courses.map(c => (\r\n                <Button\r\n                    key={c._id}\r\n                    endIcon={<HighlightOffIcon onClick={() => removeCourse(c._id)} />}\r\n                >\r\n                    {c.name}\r\n                </Button>\r\n            ))}\r\n        </Grid>\r\n    );\r\n});\r\n\r\nexport default CourseList;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    FormHelperText,\r\n    Paper,\r\n    Link,\r\n    Button,\r\n    Select,\r\n    MenuItem,\r\n    Hidden,\r\n    LinearProgress,\r\n} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { TextField as MikTextField } from 'formik-material-ui';\r\nimport { Link as RouterLink, Redirect } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport axios from 'axios';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport logo from '../../images/logo.png';\r\nimport { useStyles } from './Styles';\r\nimport CourseList from './CourseList';\r\nimport handleAuthErrors from '../../utils/handleAuthErrors';\r\nimport * as actions from '../../context/actions';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n    firstName: Yup.string().min(2, 'First name too short').required('Required'),\r\n    lastName: Yup.string().min(2, 'Last name too short').required('Required'),\r\n    email: Yup.string().email('Invalid email').required('Required'),\r\n    password: Yup.string().min(6).required('Required'),\r\n    university: Yup.string().required('Please select a school'),\r\n});\r\n\r\nconst Signup = () => {\r\n    const classes = useStyles();\r\n    const { isAuth, dispatch } = useGlobalContext();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const [isProfLoading, setIsProfLoading] = useState(true);\r\n    const [schools, setSchools] = useState([]);\r\n    const [courseId, setCourseId] = useState('');\r\n    const [courses, setCourses] = useState([{ _id: 1, name: 'Select a school first' }]);\r\n    const [id, setId] = useState('');\r\n    const [addedCourses, setAddedCourses] = useState([]);\r\n\r\n    // fetch all the universities\r\n    const fetchData = async () => {\r\n        try {\r\n            const response = await axios.get('/universities');\r\n\r\n            setSchools(response.data);\r\n            setIsProfLoading(false);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (courseId) {\r\n            const schoolCourses = [];\r\n            [...schools].forEach(s => {\r\n                if (s._id === courseId) schoolCourses.push(...s.courses);\r\n            });\r\n            setCourses(schoolCourses);\r\n        }\r\n    }, [courseId, schools]);\r\n\r\n    const addCourse = () => {\r\n        // return if the courese alread exist or\r\n        // if user haven't selected anything\r\n        if (addedCourses.some(ac => ac._id === id) || id === '' || id === 1) return;\r\n\r\n        setAddedCourses([...addedCourses, courses.find(c => c._id === id)]);\r\n    };\r\n\r\n    const handleRemoveCourse = useCallback(\r\n        id => {\r\n            setAddedCourses(addedCourses.filter(c => c._id !== id));\r\n        },\r\n        [addedCourses]\r\n    );\r\n\r\n    const demoLogin = () => {\r\n        const values = { email: 'lucy@gmail.com', password: '123456qwerty' };\r\n        actions\r\n            .login(values)(dispatch)\r\n            .then(res => {\r\n                if (res.status === 200) {\r\n                    enqueueSnackbar('Logged in successfully', {\r\n                        variant: 'success',\r\n                        autoHideDuration: '5000',\r\n                    });\r\n                } else {\r\n                    enqueueSnackbar('Server Error', {\r\n                        variant: 'Error',\r\n                        autoHideDuration: '5000',\r\n                    });\r\n                }\r\n            });\r\n    };\r\n\r\n    if (isProfLoading) return <LinearProgress />;\r\n\r\n    if (isAuth) return <Redirect to=\"/profile\" />;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Grid container className={classes.container}>\r\n                <Grid\r\n                    item\r\n                    container\r\n                    md={6}\r\n                    direction=\"column\"\r\n                    justify=\"flex-start\"\r\n                    className={classes.formContainer}\r\n                >\r\n                    <div className={classes.logoContainer}>\r\n                        <div className={classes.logo}>\r\n                            <img src={logo} alt=\"logo\"></img>\r\n                        </div>\r\n                        <div>\r\n                            <Button className={classes.demo_btn} onClick={demoLogin}>\r\n                                Demo\r\n                            </Button>\r\n                        </div>\r\n                        <Hidden mdUp>\r\n                            <Link\r\n                                color=\"inherit\"\r\n                                variant=\"inherit\"\r\n                                underline=\"none\"\r\n                                component={RouterLink}\r\n                                to=\"/login\"\r\n                            >\r\n                                <Button variant=\"text\" color=\"primary\">\r\n                                    Login\r\n                                </Button>\r\n                            </Link>\r\n                        </Hidden>\r\n                    </div>\r\n                    <Typography variant=\"h1\" color=\"textPrimary\">\r\n                        Create an account.\r\n                    </Typography>\r\n\r\n                    <Formik\r\n                        initialValues={{\r\n                            firstName: '',\r\n                            lastName: '',\r\n                            email: '',\r\n                            password: '',\r\n                            university: '',\r\n                        }}\r\n                        validationSchema={SignupSchema}\r\n                        onSubmit={async (values, { setSubmitting, setErrors }) => {\r\n                            values.courses = [...addedCourses].map(ac => ac._id);\r\n                            actions\r\n                                .register(values)(dispatch)\r\n                                .then(res => {\r\n                                    if (res.status === 201) {\r\n                                        enqueueSnackbar('Registered successfully', {\r\n                                            variant: 'success',\r\n                                            autoHideDuration: '5000',\r\n                                        });\r\n                                    } else if (res.status === 500) {\r\n                                        setTimeout(() => {\r\n                                            setSubmitting(false);\r\n                                        }, 500);\r\n                                        enqueueSnackbar('Server Error', {\r\n                                            variant: 'Error',\r\n                                            autoHideDuration: '5000',\r\n                                        });\r\n                                    } else {\r\n                                        setTimeout(() => {\r\n                                            setSubmitting(false);\r\n                                        }, 500);\r\n                                        handleAuthErrors(res, setErrors);\r\n                                    }\r\n                                });\r\n                        }}\r\n                    >\r\n                        {({ submitForm, isSubmitting, errors }) => (\r\n                            <Form className={classes.form}>\r\n                                <FormHelperText>First name</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"firstName\"\r\n                                    type=\"text\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText>Last name</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"lastName\"\r\n                                    type=\"text\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText>Email address</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText required>Password</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText>Select your school</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"university\"\r\n                                    type=\"text\"\r\n                                    select\r\n                                    variant=\"outlined\"\r\n                                    defaultValue=\"\"\r\n                                >\r\n                                    {schools.map(school => {\r\n                                        return (\r\n                                            <MenuItem\r\n                                                key={school._id}\r\n                                                value={school._id}\r\n                                                onClick={() => setCourseId(school._id)}\r\n                                            >\r\n                                                {school.name}\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })}\r\n                                </Field>\r\n                                {addedCourses.length > 0 && (\r\n                                    <CourseList\r\n                                        courses={addedCourses}\r\n                                        removeCourse={handleRemoveCourse}\r\n                                    />\r\n                                )}\r\n                                <FormHelperText>Select the course</FormHelperText>\r\n                                <Select\r\n                                    defaultValue=\"\"\r\n                                    variant=\"outlined\"\r\n                                    onChange={e => setId(e.target.value)}\r\n                                >\r\n                                    {courses.map(course => {\r\n                                        const isSelected = addedCourses.some(\r\n                                            ac => ac._id === course._id\r\n                                        );\r\n                                        if (isSelected) {\r\n                                            return (\r\n                                                <MenuItem\r\n                                                    key={course._id}\r\n                                                    value={course._id}\r\n                                                    disabled\r\n                                                >\r\n                                                    {course.name}\r\n                                                </MenuItem>\r\n                                            );\r\n                                        } else {\r\n                                            return (\r\n                                                <MenuItem\r\n                                                    key={course._id}\r\n                                                    value={course._id}\r\n                                                >\r\n                                                    {course.name}\r\n                                                </MenuItem>\r\n                                            );\r\n                                        }\r\n                                    })}\r\n                                </Select>\r\n                                <Grid className={classes.add_course}>\r\n                                    <Button\r\n                                        color=\"secondary\"\r\n                                        startIcon={<AddIcon />}\r\n                                        onClick={addCourse}\r\n                                    >\r\n                                        Add course\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Button\r\n                                    color=\"primary\"\r\n                                    className={classes.button}\r\n                                    disabled={isSubmitting}\r\n                                    onClick={submitForm}\r\n                                >\r\n                                    Sign up\r\n                                </Button>\r\n                            </Form>\r\n                        )}\r\n                    </Formik>\r\n                </Grid>\r\n                <Grid item md={6}>\r\n                    <Hidden smDown>\r\n                        <Paper className={classes.paper}>\r\n                            <div className={classes.dark_overlay}>\r\n                                <Link\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    component={RouterLink}\r\n                                    to=\"/login\"\r\n                                >\r\n                                    <Button variant=\"outlined\" color=\"primary\">\r\n                                        Login\r\n                                    </Button>\r\n                                </Link>\r\n                            </div>\r\n                        </Paper>\r\n                    </Hidden>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signup;\r\n","import React from 'react';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    FormHelperText,\r\n    Paper,\r\n    Link,\r\n    Button,\r\n    Hidden,\r\n} from '@material-ui/core';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { TextField as MikTextField } from 'formik-material-ui';\r\nimport { Link as RouterLink, Redirect } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nimport logo from '../../images/logo.png';\r\nimport { useStyles } from './Styles';\r\nimport handleAuthErrors from '../../utils/handleAuthErrors';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\n\r\nconst LoginSchema = Yup.object().shape({\r\n    email: Yup.string().email('Invalid email').required('Required'),\r\n    password: Yup.string().required('Required'),\r\n});\r\n\r\nconst Login = props => {\r\n    const classes = useStyles();\r\n    const { isAuth, dispatch } = useGlobalContext();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const locState = props.location.state;\r\n    let redirectPath = '/profile';\r\n\r\n    //locState only exists if redirected from ProtectedRoute\r\n    if (locState && locState.from) redirectPath = locState.from.pathname;\r\n\r\n    if (isAuth) return <Redirect to={redirectPath} />;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Grid container className={classes.container}>\r\n                <Grid\r\n                    item\r\n                    container\r\n                    md={6}\r\n                    direction=\"column\"\r\n                    className={classes.formContainer}\r\n                >\r\n                    <div className={classes.logoContainer}>\r\n                        <div className={classes.logo}>\r\n                            <img src={logo} alt=\"logo\"></img>\r\n                        </div>\r\n                        <Hidden mdUp>\r\n                            <Link\r\n                                color=\"inherit\"\r\n                                variant=\"inherit\"\r\n                                underline=\"none\"\r\n                                component={RouterLink}\r\n                                to=\"/sign-up\"\r\n                            >\r\n                                <Button\r\n                                    variant=\"text\"\r\n                                    color=\"primary\"\r\n                                    style={{ marginTop: 0 }}\r\n                                >\r\n                                    Get Started\r\n                                </Button>\r\n                            </Link>\r\n                        </Hidden>\r\n                    </div>\r\n                    <Typography variant=\"h1\" color=\"textPrimary\">\r\n                        Login.\r\n                    </Typography>\r\n                    <Formik\r\n                        initialValues={{\r\n                            email: '',\r\n                            password: '',\r\n                        }}\r\n                        validationSchema={LoginSchema}\r\n                        onSubmit={(values, { setSubmitting, setErrors }) => {\r\n                            actions\r\n                                .login(values)(dispatch)\r\n                                .then(res => {\r\n                                    if (res.status === 200) {\r\n                                        enqueueSnackbar('Logged in successfully', {\r\n                                            variant: 'success',\r\n                                            autoHideDuration: '5000',\r\n                                        });\r\n                                    } else if (res.status === 500) {\r\n                                        setTimeout(() => {\r\n                                            setSubmitting(false);\r\n                                        }, 500);\r\n                                        enqueueSnackbar('Server Error', {\r\n                                            variant: 'Error',\r\n                                            autoHideDuration: '5000',\r\n                                        });\r\n                                    } else {\r\n                                        setTimeout(() => {\r\n                                            setSubmitting(false);\r\n                                        }, 500);\r\n                                        handleAuthErrors(res, setErrors);\r\n                                    }\r\n                                });\r\n                        }}\r\n                    >\r\n                        {({ submitForm, isSubmitting }) => (\r\n                            <Form className={classes.form}>\r\n                                <FormHelperText>Email address</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <FormHelperText required>Password</FormHelperText>\r\n                                <Field\r\n                                    component={MikTextField}\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    variant=\"outlined\"\r\n                                />\r\n                                <Typography variant=\"body2\">Forget password?</Typography>\r\n                                <Button\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    onClick={submitForm}\r\n                                >\r\n                                    Login\r\n                                </Button>\r\n                            </Form>\r\n                        )}\r\n                    </Formik>\r\n                </Grid>\r\n                <Grid item md={6}>\r\n                    <Hidden smDown>\r\n                        <Paper className={classes.paper}>\r\n                            <div className={classes.dark_overlay}>\r\n                                <Link\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    component={RouterLink}\r\n                                    to=\"/sign-up\"\r\n                                >\r\n                                    <Button variant=\"outlined\" color=\"primary\">\r\n                                        Get started\r\n                                    </Button>\r\n                                </Link>\r\n                            </div>\r\n                        </Paper>\r\n                    </Hidden>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    toolbar: {\r\n        height: 100,\r\n        backgroundColor: theme.palette.common.white,\r\n    },\r\n    logo_study: {\r\n        flexGrow: 6,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginLeft: '2.25rem',\r\n        [theme.breakpoints.down('sm')]: {\r\n            marginLeft: '0.75rem',\r\n        },\r\n        '& img': {\r\n            width: '2.75rem',\r\n            height: 'auto',\r\n            marginRight: theme.spacing(2),\r\n            cursor: 'pointer',\r\n        },\r\n    },\r\n    listContainer: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n        flexGrow: 3,\r\n        display: 'flex',\r\n        '& > *': {\r\n            display: 'flex',\r\n            fontSize: '1rem',\r\n            fontWeight: 500,\r\n            cursor: 'pointer',\r\n        },\r\n    },\r\n    profile: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            display: 'none',\r\n        },\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        marginLeft: theme.spacing(2),\r\n    },\r\n    menuButton: {\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'none',\r\n        },\r\n        fontSize: '2.25rem',\r\n        color: '#4B00FF',\r\n    },\r\n    avatar: {\r\n        height: 60,\r\n        width: 60,\r\n    },\r\n    badge: {\r\n        color: theme.palette.common.white,\r\n        paddingLeft: theme.spacing(3),\r\n        '& span': {\r\n            width: 30,\r\n            fontSize: '0.75rem',\r\n            background: theme.palette.primary.gradient,\r\n        },\r\n    },\r\n    profile_button: {\r\n        marginLeft: theme.spacing(1),\r\n        textTransform: 'capitalize',\r\n        '& span': {\r\n            marginLeft: 0,\r\n        },\r\n    },\r\n    icons: { marginRight: 8 },\r\n    linkStyles: {\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        fontSize: '1.125rem',\r\n        opacity: '50%',\r\n        marginLeft: 15,\r\n    },\r\n    dropdown_list: {\r\n        '& li': {\r\n            paddingLeft: theme.spacing(0.5),\r\n            '&:hover': {\r\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\r\n            },\r\n        },\r\n    },\r\n    mobile_logout: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n","import React, { useState } from 'react';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    Typography,\r\n    Button,\r\n    Avatar,\r\n    List,\r\n    ListItem,\r\n    Badge,\r\n    Menu,\r\n    MenuItem,\r\n    Link,\r\n    IconButton,\r\n    Divider,\r\n    Hidden,\r\n} from '@material-ui/core';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport logo from '../../images/logo_study.png';\r\nimport { useStyles } from './NavbarStyles';\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\n\r\nconst Navbar = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const { profile, dispatch } = useGlobalContext();\r\n    const { notifications } = useConversationContext();\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleProfile = () => {\r\n        setAnchorEl(null);\r\n        history.push('/profile');\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        actions.logout()(dispatch);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"relative\" color=\"default\" elevation={2}>\r\n                <Toolbar className={classes.toolbar}>\r\n                    <div className={classes.logo_study}>\r\n                        <Link\r\n                            color=\"inherit\"\r\n                            variant=\"inherit\"\r\n                            underline=\"none\"\r\n                            // component={RouterLink}\r\n                            // to=\"/login\"\r\n                        >\r\n                            <img src={logo} alt=\"logo_study\" />\r\n                        </Link>\r\n                        <Typography variant=\"h3\">studyapp</Typography>\r\n                    </div>\r\n                    <div className={classes.listContainer}>\r\n                        <List>\r\n                            <ListItem>\r\n                                <NavLink\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    to=\"/forum\"\r\n                                    style={{ opacity: '50%' }}\r\n                                    activeStyle={{\r\n                                        opacity: '100%',\r\n                                    }}\r\n                                    className={classes.linkStyles}\r\n                                >\r\n                                    Forum\r\n                                </NavLink>\r\n                            </ListItem>\r\n                            <ListItem>\r\n                                <NavLink\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    to=\"/groups\"\r\n                                    activeStyle={{\r\n                                        opacity: '100%',\r\n                                    }}\r\n                                    className={classes.linkStyles}\r\n                                >\r\n                                    Groups\r\n                                </NavLink>\r\n                            </ListItem>\r\n                            <ListItem>\r\n                                <NavLink\r\n                                    color=\"inherit\"\r\n                                    variant=\"inherit\"\r\n                                    underline=\"none\"\r\n                                    to=\"/chat\"\r\n                                    activeStyle={{\r\n                                        opacity: '100%',\r\n                                    }}\r\n                                    className={classes.linkStyles}\r\n                                >\r\n                                    Chats\r\n                                </NavLink>\r\n                                <Badge badgeContent={Object.values(notifications).reduce((a, b) => a + b, 0)} className={classes.badge} />\r\n                            </ListItem>\r\n                        </List>\r\n                    </div>\r\n                    <div className={classes.profile}>\r\n                        {profile.imageUrl ? (\r\n                            <Avatar\r\n                                alt=\"Profile Pic\"\r\n                                src={profile.imageUrl}\r\n                                className={classes.avatar}\r\n                            />\r\n                        ) : (\r\n                            <Avatar className={classes.large}>\r\n                                <PersonAddIcon className={classes.large} />\r\n                            </Avatar>\r\n                        )}\r\n\r\n                        <Button\r\n                            endIcon={<ArrowDropDownIcon />}\r\n                            className={classes.profile_button}\r\n                            onClick={e => setAnchorEl(e.currentTarget)}\r\n                        >\r\n                            <Typography variant=\"h6\">Profile</Typography>\r\n                        </Button>\r\n                        <Menu\r\n                            anchorEl={anchorEl}\r\n                            anchorOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'center',\r\n                            }}\r\n                            keepMounted\r\n                            transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'center',\r\n                            }}\r\n                            open={open}\r\n                            onClose={() => setAnchorEl(null)}\r\n                        >\r\n                            <MenuItem onClick={handleLogout}>\r\n                                <ExitToAppIcon className={classes.icons} />\r\n                                <Typography>Logout</Typography>\r\n                            </MenuItem>\r\n                            <MenuItem onClick={handleProfile}>\r\n                                <AccountCircleIcon className={classes.icons} />\r\n                                <Typography>My Profile</Typography>\r\n                            </MenuItem>\r\n                        </Menu>\r\n                    </div>\r\n                    <Hidden mdUp>\r\n                        <div>\r\n                            <IconButton\r\n                                edge=\"start\"\r\n                                className={classes.menuButton}\r\n                                color=\"inherit\"\r\n                                aria-label=\"menu\"\r\n                                onClick={e => setAnchorEl(e.currentTarget)}\r\n                            >\r\n                                <MoreVertIcon />\r\n                            </IconButton>\r\n                            <Menu\r\n                                anchorEl={anchorEl}\r\n                                anchorOrigin={{\r\n                                    vertical: 'top',\r\n                                    horizontal: 'center',\r\n                                }}\r\n                                keepMounted\r\n                                transformOrigin={{\r\n                                    vertical: 'top',\r\n                                    horizontal: 'center',\r\n                                }}\r\n                                open={open}\r\n                                onClose={() => setAnchorEl(null)}\r\n                            >\r\n                                <List component=\"nav\" className={classes.dropdown_list}>\r\n                                    <ListItem>\r\n                                        <NavLink\r\n                                            color=\"inherit\"\r\n                                            variant=\"inherit\"\r\n                                            underline=\"none\"\r\n                                            to=\"/forum\"\r\n                                            activeStyle={{\r\n                                                opacity: '100%',\r\n                                            }}\r\n                                            className={classes.linkStyles}\r\n                                            onClick={() => setAnchorEl(null)}\r\n                                        >\r\n                                            Forum\r\n                                        </NavLink>\r\n                                    </ListItem>\r\n                                    <ListItem>\r\n                                        <NavLink\r\n                                            color=\"inherit\"\r\n                                            variant=\"inherit\"\r\n                                            underline=\"none\"\r\n                                            to=\"/groups\"\r\n                                            activeStyle={{\r\n                                                opacity: '100%',\r\n                                            }}\r\n                                            className={classes.linkStyles}\r\n                                            onClick={() => setAnchorEl(null)}\r\n                                        >\r\n                                            Groups\r\n                                        </NavLink>\r\n                                    </ListItem>\r\n                                    <ListItem>\r\n                                        <NavLink\r\n                                            color=\"inherit\"\r\n                                            variant=\"inherit\"\r\n                                            underline=\"none\"\r\n                                            to=\"/chat\"\r\n                                            activeStyle={{\r\n                                                opacity: '100%',\r\n                                            }}\r\n                                            className={classes.linkStyles}\r\n                                            onClick={() => setAnchorEl(null)}\r\n                                        >\r\n                                            Chats\r\n                                        </NavLink>\r\n                                        <Badge\r\n                                            badgeContent={12}\r\n                                            className={classes.badge}\r\n                                        />\r\n                                    </ListItem>\r\n                                </List>\r\n                                <Divider />\r\n                                <MenuItem\r\n                                    className={classes.mobile_logout}\r\n                                    onClick={handleLogout}\r\n                                >\r\n                                    <ExitToAppIcon className={classes.icons} />\r\n                                    <Typography>Logout</Typography>\r\n                                </MenuItem>\r\n                                <MenuItem onClick={handleProfile}>\r\n                                    <AccountCircleIcon className={classes.icons} />\r\n                                    <Typography>My Profile</Typography>\r\n                                </MenuItem>\r\n                            </Menu>\r\n                        </div>\r\n                    </Hidden>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport Navbar from '../layout/Navbar';\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\nconst { isAuth, isLoading } = useGlobalContext();\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props => {\r\n                if (isAuth && !isLoading) \r\n                    return (\r\n                        <>\r\n                            <Navbar />\r\n                            <Component {...props} />\r\n                        </>\r\n                    );\r\n                else if (isLoading) return <LinearProgress />;\r\n                else\r\n                    return (\r\n                        <Redirect\r\n                            to={{ pathname: '/login', state: { from: props.location } }}\r\n                        />\r\n                    );\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Box, Typography } from '@material-ui/core';\r\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied';\r\nimport { useGlobalContext } from '../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        flexDirection: 'column',\r\n        backgroundColor: theme.palette.common.white,\r\n        height: '100vh',\r\n        width: '100vw',\r\n    },\r\n    icon: { fontSize: '300px' },\r\n    text: { opacity: '80%', padding: '1em' },\r\n    linkStyles: {\r\n        textDecoration: 'none',\r\n        color: 'blue',\r\n        padding: '1em 0 0 2em',\r\n        fontSize: '0.9375rem',\r\n        opacity: '50%',\r\n    },\r\n}));\r\n\r\nconst NotFound = () => {\r\n    const classes = useStyles();\r\n    const { isAuth } = useGlobalContext();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <SentimentVeryDissatisfiedIcon className={classes.icon} />\r\n            <Typography variant=\"h1\" color=\"textPrimary\" className={classes.text}>\r\n                404\r\n            </Typography>\r\n            <Typography variant=\"h6\" color=\"textPrimary\" className={classes.text}>\r\n                The page you are looking for doesn't exist or another error occured.\r\n            </Typography>\r\n            <Box flexDirection=\"row\" className={classes.linkContainer}>\r\n                {isAuth && (\r\n                    <NavLink to=\"/profile\" className={classes.linkStyles}>\r\n                        Profile\r\n                    </NavLink>\r\n                )}\r\n                <NavLink to=\"/login\" className={classes.linkStyles}>\r\n                    Login\r\n                </NavLink>\r\n            </Box>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotFound;\r\n","// msToTimeAgo takes in milliseconds elapsed since the UNIX epoch\r\n// and converts it to one of x seconds ago, x minutes ago, x days ago, x years ago\r\nexport const msToTimeAgo = (ms) => {\r\n    \r\n    if (isNaN(ms)) return 'Not a number';\r\n\r\n    const d = new Date();\r\n    const nowTs = Math.floor(d.getTime()/1000);\r\n    const seconds = nowTs-ms;\r\n    \r\n    // years ago\r\n    if (seconds > 365.2425*24*3600) {\r\n        const y = Math.floor(seconds / (365.2425*24*3600))\r\n        return  y + (y > 1 ? ' years ago' : ' year ago');\r\n    }\r\n    // months ago\r\n    if (seconds > 30*24*3600) {\r\n        const m = Math.floor(seconds / (30*24*3600));\r\n        return m + (m > 1 ? ' months ago' : ' month ago');\r\n    }\r\n    // weeks ago\r\n    if (seconds > 7*24*3600) {\r\n        const w = Math.floor(seconds / (7*24*3600));\r\n        return w + (w > 1 ? ' weeks ago' : ' week ago');\r\n     }\r\n    // days ago\r\n    if (seconds > 2*24*3600) {\r\n        return Math.floor(seconds / (24*3600)) + ' days ago';\r\n    }\r\n    // yesterday\r\n    if (seconds > 24*3600) {\r\n        return 'yesterday';\r\n    }\r\n    // hours ago\r\n    if (seconds > 3600) {\r\n        const h = Math.floor(seconds/3600);\r\n        return h + (h > 1 ? ' hours ago' : ' hour ago');\r\n    }\r\n    //minutes ago\r\n    if (seconds > 60) {\r\n        const s = Math.floor(seconds/60);\r\n        return s + (s > 1 ? ' minutes ago' : ' minute ago');\r\n    }\r\n    //seconds ago\r\n    return Math.floor(seconds) + ' seconds ago';\r\n};\r\n","import React from 'react';\r\nimport { Avatar, Box, Container, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { msToTimeAgo } from '../../utils/convertTimeStamps';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        padding: theme.spacing(1),\r\n    },\r\n    received_container: {\r\n        background: theme.palette.primary.gradient,\r\n        borderTopRightRadius: 20,\r\n        borderTopLeftRadius: 20,\r\n        borderBottomRightRadius: 20,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: 'auto',\r\n        maxWidth: 500,\r\n        color: '#FFF',\r\n    },\r\n    sent_container: {\r\n        background: '#e6edff',\r\n        borderTopRightRadius: 20,\r\n        borderTopLeftRadius: 20,\r\n        borderBottomLeftRadius: 20,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: 'auto',\r\n        maxWidth: 500,\r\n        justifySelf: 'flex-end',\r\n        color: '#2574FF',\r\n    },\r\n    contentText: {\r\n        alignItems: 'center',\r\n        padding: 5,\r\n    },\r\n    avatar: {\r\n        width: 60,\r\n        height: 60,\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    left_timestamp: {\r\n        fontSize: '0.75rem',\r\n        opacity: 0.29,\r\n        paddingTop: 5,\r\n        alignSelf: 'flex-start',\r\n    },\r\n    right_timestamp: {\r\n        fontSize: '0.75rem',\r\n        opacity: 0.29,\r\n        paddingTop: 5,\r\n        alignSelf: 'flex-end',\r\n    },\r\n}));\r\n\r\nconst Message = ({ msg, isReceived }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Box display=\"flex\" flexDirection=\"row\" className={classes.container}>\r\n            {isReceived && (\r\n                <Avatar className={classes.avatar} src={msg.profile.imageUrl} />\r\n            )}\r\n            <Box display=\"flex\" flexDirection=\"column\">\r\n                <Container\r\n                    className={\r\n                        isReceived ? classes.received_container : classes.sent_container\r\n                    }\r\n                >\r\n                    <Typography\r\n                        className={classes.contentText}\r\n                        variant=\"h6\"\r\n                    >\r\n                        {msg.text}\r\n                    </Typography>\r\n                </Container>\r\n                <Typography\r\n                    className={\r\n                        isReceived ? classes.left_timestamp : classes.right_timestamp\r\n                    }\r\n                >\r\n                    {msToTimeAgo(msg.timeStamp)}\r\n                </Typography>\r\n            </Box>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport {\r\n    Grid,\r\n    Container,\r\n    List,\r\n    ListItem,\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nimport Message from './Message';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list_container: {\r\n        display: 'block',\r\n        height: 'calc(100vh - 343px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n          height: 'calc(100vh - 443px)',\r\n        },\r\n        overflowY: 'auto',\r\n        backgroundColor: theme.palette.common.white,\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.6rem',\r\n            height: '12rem',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            boxShadow: 'inset 0 0 5px grey',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#ccc',\r\n        },\r\n    },\r\n    left_msg: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start'\r\n    },\r\n    right_msg: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n    }\r\n}));\r\n\r\nconst Conversation = ({notifications, messages}) => {\r\n    const classes = useStyles();\r\n    const lastRef = useRef(null);\r\n    const { profile } = useGlobalContext();\r\n    const { user } = profile;\r\n\r\n    useEffect(() => {\r\n        lastRef.current.scrollIntoView();\r\n    }, [notifications, messages]);\r\n\r\n    return (\r\n        <Grid className={classes.list_container}>\r\n            <Container>\r\n                <List>\r\n                    {\r\n                        messages.map((message, index) => {\r\n                            const isReceived = message.profile.user !== user._id;\r\n                            return (\r\n                                <ListItem\r\n                                    key={index}\r\n                                    className={\r\n                                        isReceived ? \r\n                                        classes.left_msg : \r\n                                        classes.right_msg\r\n                                    }\r\n                                >\r\n                                    <Message msg={message} isReceived={isReceived} />\r\n                                </ListItem>\r\n                            );\r\n                        })\r\n                    }\r\n                    <ListItem ref={lastRef}/>\r\n                </List>\r\n            </Container>\r\n        </Grid>\r\n    )\r\n};\r\n\r\nexport default Conversation;\r\n","import React from 'react';\r\nimport { Box, Button, Container, IconButton, TextField } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined';\r\n\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        minHeight: 120,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(4),\r\n        '& p': {\r\n            fontSize: '1.375rem',\r\n        },\r\n    },\r\n    textContainer: {\r\n        width: '60%',\r\n        maxHeight: 100,\r\n        overflowY: 'auto',\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.6rem',\r\n            height: '12rem',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            boxShadow: 'inset 0 0 5px grey',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#ccc',\r\n        },\r\n    },\r\n    buttonContainer: {\r\n        width: '40%',\r\n    },\r\n    text: {\r\n        height: 100,\r\n        padding: 10,\r\n    },\r\n    iconAdornments: {\r\n        fontSize: '1.5rem',\r\n    },\r\n    sendButton: {\r\n        margin: theme.spacing(0, 3),\r\n        width: 110,\r\n    },\r\n}));\r\n\r\nconst MessageCreator = ({ groupId }) => {\r\n    const classes = useStyles();\r\n    const { profile } = useGlobalContext();\r\n    const { conversationManager } = useConversationContext();\r\n    const [workingText, setWorkingText] = React.useState('');\r\n\r\n    const sendMessage = () => {\r\n        const payload = {\r\n            profile: profile._id,\r\n            text: workingText,\r\n            image: profile.imageUrl,\r\n        };\r\n        conversationManager.sendMessageToGroup(groupId, payload);\r\n        setWorkingText('');\r\n    };\r\n\r\n    const handleChangeText = ev => {\r\n        setWorkingText(ev.target.value);\r\n    };\r\n\r\n    return (\r\n        <Container className={classes.container}>\r\n            <Box className={classes.textContainer}>\r\n                <TextField\r\n                    fullWidth={true}\r\n                    multiline={true}\r\n                    value={workingText}\r\n                    onChange={handleChangeText}\r\n                    placeholder=\"Type your message here\"\r\n                    InputProps={{\r\n                        classes: { input: classes.text },\r\n                        disableUnderline: true,\r\n                    }}\r\n                    onKeyUp={e => {\r\n                        if (e.key === 'Enter') sendMessage();\r\n                    }}\r\n                />\r\n            </Box>\r\n            <Box\r\n                display=\"flex\"\r\n                justifyContent=\"flex-end\"\r\n                className={classes.buttonContainer}\r\n            >\r\n                <IconButton>\r\n                    <SentimentSatisfiedOutlinedIcon className={classes.iconAdornments} />\r\n                </IconButton>\r\n                <IconButton>\r\n                    <InsertDriveFileOutlinedIcon className={classes.iconAdornments} />\r\n                </IconButton>\r\n                <Button\r\n                    className={classes.sendButton}\r\n                    variant=\"outlined\"\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                        sendMessage();\r\n                    }}\r\n                >\r\n                    Send\r\n                </Button>\r\n            </Box>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default MessageCreator;\r\n","export default __webpack_public_path__ + \"static/media/study_group.66e37f20.png\";","import React from 'react';\r\nimport { \r\n    Grid, \r\n    Typography, \r\n    Badge, \r\n    Divider, \r\n    Avatar } \r\nfrom '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\nimport groupPicture from '../../images/study_group.png';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '100vh',\r\n            backgroundColor: '#FFF',\r\n            paddingTop: theme.spacing(6),\r\n        },\r\n    },\r\n    list_container: {\r\n        display: 'block',\r\n        height: 'calc(100vh - 100px)',\r\n        overflowY: 'auto',\r\n        [theme.breakpoints.down('sm')]: {\r\n            backgroundColor: '#FFF',\r\n        },\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.6rem',\r\n            height: '12rem',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            boxShadow: 'inset 0 0 5px grey',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            borderRadius: 4,\r\n        },\r\n        '&::-webkit-scrollbar-thumb:hover': {\r\n            background: '#ccc',\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'auto',\r\n        },\r\n    },\r\n    chat_head: {\r\n        height: 120,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(4),\r\n        '& p': {\r\n            fontSize: '1.375rem',\r\n        },\r\n    },\r\n    badge: {\r\n        color: theme.palette.common.white,\r\n        paddingLeft: theme.spacing(4),\r\n        '& span': {\r\n            width: 40,\r\n            height: 24,\r\n            fontSize: '0.875rem',\r\n            background: theme.palette.primary.gradient,\r\n        },\r\n    },\r\n    small_badge: {\r\n        color: theme.palette.common.white,\r\n        '& span': {\r\n            width: 30,\r\n            height: 24,\r\n            fontSize: '0.7rem',\r\n            background: theme.palette.primary.gradient,\r\n        },\r\n    },\r\n    chat_list: {\r\n        height: 100,\r\n        flexWrap: 'nowrap',\r\n        alignItems: 'center',\r\n        '&:hover': {\r\n            backgroundColor: '#e6edff',\r\n        },\r\n    },\r\n    chat_list_active: {\r\n        height: 100,\r\n        flexWrap: 'nowrap',\r\n        alignItems: 'center',\r\n        backgroundColor: '#e6edff',\r\n        borderLeft: '7px solid #2967ff',\r\n    },\r\n    group_member: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        paddingLeft: theme.spacing(2),\r\n    },\r\n    avatar_container: {\r\n        marginLeft: theme.spacing(5),\r\n    },\r\n    avatar: {\r\n        height: 60,\r\n        width: 60,\r\n        borderRadius: 18,\r\n    },\r\n    group_name: {\r\n        fontSize: '1.125rem',\r\n        fontWeight: 500,\r\n    },\r\n    divider: {\r\n        opacity: 0.10414,\r\n        height: 1,\r\n        background: '#2967ff',\r\n    },\r\n}));\r\n\r\nconst ChatSidePanel = ({groups, selectedGroupChat, updateSelectedChat, notifications}) => {\r\n    const classes = useStyles();\r\n    const { dispatch } = useGlobalContext();\r\n\r\n    const handleChatList = (id) => {\r\n        updateSelectedChat(id)\r\n        dispatch({ type: 'CLOSE_DRAWER' });\r\n    };\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Grid container className={classes.list_container}>\r\n                <Grid item className={classes.chat_head}>\r\n                    <Typography>All Chats</Typography>\r\n                    <Badge badgeContent={Object.values(notifications).reduce((a, b) => a + b, 0)} className={classes.badge} />\r\n                </Grid>\r\n                <Divider className={classes.divider} />\r\n                {groups.map((g, index) => {\r\n                    return (\r\n                        <React.Fragment key={g._id}>\r\n                            <Grid\r\n                                item\r\n                                container\r\n                                className={\r\n                                    g._id === selectedGroupChat\r\n                                        ? classes.chat_list_active\r\n                                        : classes.chat_list\r\n                                }\r\n                                onClick={() => handleChatList(g._id)}\r\n                            >\r\n                                <Grid item className={classes.avatar_container}>\r\n                                    <Avatar\r\n                                        alt=\"chat_group_img\"\r\n                                        src={g.image ? g.image : groupPicture}\r\n                                        variant=\"rounded\"\r\n                                        className={classes.avatar}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item container className={classes.group_member}>\r\n                                    <Typography className={classes.group_name}>\r\n                                        {g.name}\r\n                                    </Typography>\r\n                                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                        {g.members.length} members\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={1}>\r\n                                    <Badge badgeContent={notifications[g._id]} className={classes.small_badge} />\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Divider className={classes.divider} />\r\n                        </React.Fragment>\r\n                    );\r\n                })}\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatSidePanel;\r\n","import React, { useState } from 'react';\r\nimport {\r\n    Avatar,\r\n    Box,\r\n    Container,\r\n    Divider,\r\n    Grid,\r\n    IconButton,\r\n    LinearProgress,\r\n    Typography,\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport { useGlobalContext, useConversationContext } from '../../context/studyappContext';\r\n\r\nimport Sidebar from '../../components/Profile/Sidebar';\r\nimport Conversation from '../../components/Chat/Conversation';\r\nimport MessageCreator from '../../components/Chat/MessageCreator';\r\nimport ChatSidePanel from './ChatSidePanel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        height: 'calc(100vh - 100px)',\r\n    },\r\n    contentContainer: {\r\n        backgroundColor: theme.palette.common.white,\r\n        display: 'block',\r\n        height: 'calc(100vh - 100px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'calc(100vh - 200px)',\r\n        },\r\n    },\r\n    divider: {\r\n        opacity: 0.10414,\r\n        height: 1,\r\n        background: '#2967ff',\r\n    },\r\n    chat_head: {\r\n        height: 120,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(4),\r\n        '& p': {\r\n            fontSize: '1.375rem',\r\n        },\r\n    },\r\n    members: {\r\n        opacity: 0.4\r\n    },\r\n    chat_pic: {\r\n        width: 80,\r\n        height: 80,\r\n        borderRadius: 18,\r\n        marginRight: theme.spacing(2)\r\n    },\r\n    dot_icon: {\r\n        fontSize: theme.spacing(5),\r\n        color: '#d8d8d8'\r\n    },\r\n}));\r\n\r\nconst Chat = () => {\r\n    const classes = useStyles();\r\n    const { userGroups } = useGlobalContext();\r\n    const {groups} = userGroups;\r\n    const [chatGroups, setChatGroups] = useState(null);\r\n    const [selectedGroupChat, setSelectedGroupChat] = useState(null);\r\n\r\n    const { conversationManager, notifications } = useConversationContext();\r\n    //notifications update triggers re-render so we can just get conversations\r\n    let conversations = conversationManager.getConversations();\r\n    \r\n    //clear notifications if chat is active \r\n    // safe to call because conversationManager.clearNotifications does not trigger update\r\n    // if 0 notifications\r\n    React.useEffect(() => {\r\n        if (chatGroups && selectedGroupChat) {\r\n            conversationManager.clearNotifications(selectedGroupChat);\r\n        }\r\n    }, [chatGroups, conversationManager, notifications, selectedGroupChat]); \r\n\r\n    //Sort chat groups when a new message comes in\r\n    React.useEffect(() => {\r\n        //Wait for groups and conversations to get populated\r\n        if (groups.length && Object.keys(conversations).length) {\r\n            const sorted = groups.sort((aGroup, bGroup) => {\r\n                //Check conversations actually contain group._id\r\n                if (conversations[aGroup._id] && conversations[bGroup._id]) {\r\n                    const aMessages = conversations[aGroup._id].messages;\r\n                    const bMessages = conversations[bGroup._id].messages;\r\n        \r\n                    const aMostRecent = \r\n                        aMessages.length === 0 ? 0 : aMessages[aMessages.length - 1].timeStamp;\r\n                    const bMostRecent = \r\n                        bMessages.length === 0 ? 0 : bMessages[bMessages.length - 1].timeStamp;\r\n                    return bMostRecent - aMostRecent;\r\n                }\r\n                return 0\r\n            })\r\n            setSelectedGroupChat(s => s || sorted[0]._id);\r\n            setChatGroups([...sorted]);\r\n        }\r\n    }, [groups, conversations, notifications]);\r\n\r\n    if (!chatGroups || !selectedGroupChat) return <LinearProgress />\r\n    const selectedGroup = chatGroups.find(g => g._id === selectedGroupChat);\r\n    return (\r\n        <Grid container className={classes.container}>\r\n            <Sidebar>\r\n                <ChatSidePanel \r\n                    groups={chatGroups} \r\n                    selectedGroupChat={selectedGroupChat} \r\n                    updateSelectedChat={setSelectedGroupChat} \r\n                    notifications={notifications}\r\n                />\r\n            </Sidebar>\r\n            <Grid item container sm={12} md={9} className={classes.contentContainer}>\r\n            {\r\n                chatGroups.length && \r\n                selectedGroup && \r\n                conversations[selectedGroupChat] && \r\n                <>\r\n                    <Container className={classes.chat_head}>\r\n                        <Avatar\r\n                            variant='square'\r\n                            className={classes.chat_pic} \r\n                            src={selectedGroup.image}\r\n                        />\r\n                        <Box flexGrow={1} flexDirection='column'>\r\n                            <Typography variant='h5'>{selectedGroup.name}</Typography>\r\n                            <Typography className={classes.members} variant='h6'>\r\n                                {selectedGroup.members.length + ' Members'}\r\n                            </Typography>\r\n                        </Box>\r\n                        <IconButton>\r\n                            <MoreHorizIcon className={classes.dot_icon} />\r\n                        </IconButton>\r\n                    </Container>\r\n                    <Divider className={classes.divider}/>\r\n                    <Conversation \r\n                        notifications={notifications} \r\n                        messages={conversations[selectedGroupChat].messages}\r\n                    />\r\n                    <Divider className={classes.divider}/>\r\n                    <MessageCreator groupId={selectedGroupChat}/>\r\n                </>\r\n            }\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Chat;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport defaultPostPicture from '../../images/study_group.png';\r\nimport { msToTimeAgo } from '../../utils/convertTimeStamps';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(2),\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        borderRadius: 15,\r\n    },\r\n    actionArea: {\r\n        height: 120,\r\n        display: 'grid',\r\n        gridTemplateColumns: '120px 1fr',\r\n        alignItems: 'center',\r\n    },\r\n    cardInfo: {\r\n        display: 'grid',\r\n        gridTemplateRows: '1fr',\r\n        justify: 'space-between',\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    cardImage: {\r\n        width: 100,\r\n        height: 100,\r\n        justifySelf: 'center',\r\n        borderRadius: '10px',\r\n    },\r\n    cardTitle: {\r\n        fontWeight: 'bold',\r\n        fontSize: '1.375rem',\r\n        [theme.breakpoints.down('sm')]: {\r\n            fontSize: '1.25rem',\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            fontWeight: 'normal',\r\n            fontSize: '1rem',\r\n        },\r\n    },\r\n    cardDesc: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    postedBy: {\r\n        color: '#2968FF',\r\n    },\r\n    postDateInfo: {\r\n        paddingTop: 10,\r\n    },\r\n}));\r\n\r\nconst PostCard = ({ post, updateActivePost }) => {\r\n    const classes = useStyles();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(false);\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                align=\"center\"\r\n                alignItems=\"center\"\r\n            >\r\n                <CircularProgress size={100} color=\"secondary\" />\r\n            </Grid>\r\n        );\r\n    }\r\n\r\n    const updatePostId = () => {\r\n        updateActivePost(post._id);\r\n    };\r\n\r\n    return (\r\n        <Card className={classes.root} variant=\"outlined\" onClick={updatePostId}>\r\n            <CardActionArea className={classes.actionArea}>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    alt=\"alt img\"\r\n                    height=\"140\"\r\n                    image={post.postAvatar ? post.postAvatar : defaultPostPicture}\r\n                    title={post.title}\r\n                    className={classes.cardImage}\r\n                />\r\n                <CardContent className={classes.cardInfo}>\r\n                    <div>\r\n                        <Typography className={classes.cardTitle}>\r\n                            {post.title}\r\n                        </Typography>\r\n                    </div>\r\n                    <div className={classes.postDateInfo}>\r\n                        <span className={classes.cardDesc}>\r\n                            Posted {post.postDate} by{' '}\r\n                        </span>\r\n                        <span className={classes.postedBy}>{post.name}</span>\r\n                    </div>\r\n                </CardContent>\r\n            </CardActionArea>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default PostCard;\r\n","export default __webpack_public_path__ + \"static/media/upload_placeholder.78ec9a74.png\";","import React, { useState, useMemo, useCallback } from 'react';\r\nimport {\r\n    Grid,\r\n    Button,\r\n    InputLabel,\r\n    TextField,\r\n    Divider,\r\n    Typography,\r\n    Box,\r\n    Tooltip,\r\n    FormHelperText,\r\n} from '@material-ui/core';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport {\r\n    baseStyle,\r\n    activeStyle,\r\n    acceptStyle,\r\n    rejectStyle,\r\n} from '../DragzonePicture.styles';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport axios from 'axios';\r\nimport defaultPostPicture from '../../images/upload_placeholder.png';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    divider: {\r\n        margin: theme.spacing(2, 0),\r\n    },\r\n    input: {\r\n        width: '100%',\r\n        paddingBottom: theme.spacing(2),\r\n    },\r\n    label: {\r\n        paddingBottom: theme.spacing(1),\r\n    },\r\n    title: {\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n    button: {\r\n        width: '100%',\r\n    },\r\n    close: {\r\n        height: 2.5,\r\n    },\r\n}));\r\n\r\nconst AddPostDialog = ({ handleCloseNewPost }) => {\r\n    const classes = useStyles();\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [uploading, setUploading] = useState(false);\r\n    const { forumId } = useGlobalContext();\r\n\r\n    // const hardCodedForumId = '6012462f4f758023244df285';\r\n\r\n    const onDrop = useCallback(async droppedFiles => {\r\n        if (droppedFiles.length) {\r\n            setUploading(true);\r\n\r\n            const form = new FormData();\r\n            form.append('image', droppedFiles[0]);\r\n            const res = await axios\r\n                .post('/upload/single', form)\r\n                .catch(err => console.log(err));\r\n            if (res && res.data) {\r\n                setImageUrl(res.data.imageUrl);\r\n                setUploading(false);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    // const createNewPostData = () => {\r\n    //     createNewPost(forumId);\r\n    // };\r\n\r\n    const createNewPost = async () => {\r\n        try {\r\n            const res = await axios.post(`forum/post/${forumId}`, {\r\n                text: description,\r\n                title: title,\r\n                postAvatar: imageUrl,\r\n            });\r\n            setTitle('');\r\n            setDescription('');\r\n            setImageUrl('');\r\n            handleCloseNewPost(res.data);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const { getRootProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\r\n        onDrop,\r\n        maxFiles: 1,\r\n        accept: 'image/*',\r\n    });\r\n    const style = useMemo(\r\n        () => ({\r\n            ...baseStyle,\r\n            ...(isDragActive ? activeStyle : {}),\r\n            ...(isDragAccept ? acceptStyle : {}),\r\n            ...(isDragReject ? rejectStyle : {}),\r\n        }),\r\n        [isDragActive, isDragReject, isDragAccept]\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <Grid item>\r\n                <Button\r\n                    onClick={handleCloseNewPost}\r\n                    color=\"primary\"\r\n                    className={classes.close}\r\n                >\r\n                    <CloseIcon />\r\n                </Button>\r\n                <Typography\r\n                    variant=\"h2\"\r\n                    id=\"modal-title\"\r\n                    align=\"center\"\r\n                    className={classes.title}\r\n                >\r\n                    Add Forum Post\r\n                </Typography>\r\n                <Typography variant=\"h4\" id=\"modal-description\" align=\"center\">\r\n                    Create a post for students in your course!\r\n                </Typography>\r\n                <Divider className={classes.divider} />\r\n            </Grid>\r\n\r\n            <Grid item container justify=\"center\">\r\n                <form>\r\n                    <Grid item>\r\n                        <InputLabel className={classes.label}>Post Title</InputLabel>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            onChange={e => setTitle(e.target.value)}\r\n                            className={classes.input}\r\n                            placeholder=\"Add a title..\"\r\n                            value={title}\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid item>\r\n                        <InputLabel className={classes.label}>\r\n                            Post Description\r\n                        </InputLabel>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            id=\"outlined-multiline-static\"\r\n                            multiline\r\n                            rows={4}\r\n                            onChange={e => setDescription(e.target.value)}\r\n                            className={classes.input}\r\n                            placeholder=\"Add a description..\"\r\n                            value={description}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Box className={classes.imageContainer}>\r\n                            <FormHelperText className={classes.label}>\r\n                                Drag and drop post picture{' '}\r\n                            </FormHelperText>\r\n                            <Tooltip\r\n                                title=\"Drag and drop post picture\"\r\n                                arrow\r\n                                placement=\"right\"\r\n                            >\r\n                                <Box {...getRootProps({ style })}>\r\n                                    <img\r\n                                        src={imageUrl ? imageUrl : defaultPostPicture}\r\n                                        className={classes.large}\r\n                                        alt=\"Post\"\r\n                                    />\r\n                                </Box>\r\n                            </Tooltip>\r\n                        </Box>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Button\r\n                            color=\"primary\"\r\n                            startIcon={<AddIcon />}\r\n                            onClick={createNewPost}\r\n                            className={classes.button}\r\n                        >\r\n                            Create Post\r\n                        </Button>\r\n                    </Grid>\r\n                </form>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPostDialog;\r\n","import React from 'react';\r\nimport { Typography, Grid, Avatar } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    avatar: {\r\n        height: '75px',\r\n        width: '75px',\r\n        margin: theme.spacing(1, 0),\r\n    },\r\n    commentText: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    divider: {\r\n        margin: theme.spacing(2),\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\nconst Comments = ({ comment }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.comment}>\r\n            {' '}\r\n            <Grid container item justify=\"flex-start\">\r\n                <Grid\r\n                    item\r\n                    container\r\n                    direction=\"column\"\r\n                    alignItems=\"center\"\r\n                    justify=\"center\"\r\n                    xs={2}\r\n                >\r\n                    <Grid item>\r\n                        {comment.avatar ? (\r\n                            <Avatar\r\n                                alt={comment.name}\r\n                                src={comment.avatar}\r\n                                className={classes.avatar}\r\n                            />\r\n                        ) : (\r\n                            <Avatar className={classes.avatar}>\r\n                                <PersonAddIcon className={classes.avatar} />\r\n                            </Avatar>\r\n                        )}\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Typography variant=\"h4\">{comment.name}</Typography>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item xs={10}>\r\n                    <Typography className={classes.commentText}>\r\n                        {comment.text}\r\n                    </Typography>\r\n                </Grid>\r\n                {/* <Divider className={classes.divider} /> */}\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Comments;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    Divider,\r\n    Box,\r\n    IconButton,\r\n    Avatar,\r\n    CircularProgress,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ForwardIcon from '@material-ui/icons/Forward';\r\nimport ForwardOutlinedIcon from '@material-ui/icons/ForwardOutlined';\r\nimport Comments from '../Posts/Comments';\r\nimport axios from 'axios';\r\nimport defaultPostPicture from '../../images/study_group.png';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    title: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    close: {\r\n        height: 2.5,\r\n    },\r\n    upvote: {\r\n        transform: 'rotate(-90deg)',\r\n        height: '2rem',\r\n        width: '2rem',\r\n    },\r\n    divider: {\r\n        margin: theme.spacing(2, 0),\r\n        width: '100%',\r\n    },\r\n    input: {\r\n        margin: theme.spacing(2, 0),\r\n    },\r\n    avatar: {\r\n        height: '75px',\r\n        width: '75px',\r\n        margin: theme.spacing(1),\r\n        border: '2px solid #2968FF',\r\n    },\r\n    circular: {\r\n        height: '200px',\r\n        width: '200px',\r\n    },\r\n    postText: {\r\n        padding: theme.spacing(1, 0, 1, 5),\r\n    },\r\n    button: {\r\n        height: 117,\r\n    },\r\n}));\r\n\r\nconst PostDialog = ({ handleClosePost, activePostId }) => {\r\n    const classes = useStyles();\r\n    const [comments, setComments] = useState([]);\r\n    const [newComment, setNewComment] = useState('');\r\n    const [avatarUrl, setAvatarUrl] = useState();\r\n    const [userAvatar, setUserAvatar] = useState();\r\n    const [title, setTitle] = useState();\r\n    const [postText, setPostText] = useState();\r\n    const [upvoted, setUpvoted] = React.useState(false);\r\n\r\n    const toggleVote = () => {\r\n        setUpvoted(!upvoted);\r\n    };\r\n\r\n    const getPostData = async () => {\r\n        try {\r\n            const res = await axios.get(`/forum/post/${activePostId}`);\r\n            setTitle(res.data.post.title);\r\n            setPostText(res.data.post.text);\r\n            setAvatarUrl(res.data.post.postAvatar);\r\n            setUserAvatar(res.data.post.userAvatar);\r\n            setComments(res.data.post.comments);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        getPostData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [activePostId]);\r\n\r\n    const addComment = async () => {\r\n        const res = await axios.post(`forum/post/comment/${activePostId}`, {\r\n            text: newComment,\r\n        });\r\n        const updatedComments = [...comments, res.data.comment];\r\n        setComments(updatedComments);\r\n        setNewComment('');\r\n    };\r\n\r\n    if (!title)\r\n        return (\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                align=\"center\"\r\n                alignItems=\"center\"\r\n                className={classes.circular}\r\n            >\r\n                {/* <LinearProgress /> */}\r\n                <CircularProgress size={100} color=\"secondary\" />\r\n            </Grid>\r\n        );\r\n    return (\r\n        <div>\r\n            <Grid item container direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                <Grid item container direction=\"column\" alignItems=\"center\">\r\n                    <Grid\r\n                        item\r\n                        xs={12}\r\n                        container\r\n                        justify=\"space-between\"\r\n                        alignItems=\"baseline\"\r\n                    >\r\n                        <Grid item xs={1}>\r\n                            <Button\r\n                                onClick={handleClosePost}\r\n                                color=\"primary\"\r\n                                className={classes.close}\r\n                            >\r\n                                <CloseIcon />\r\n                            </Button>\r\n                        </Grid>\r\n                        <Grid item xs={10}>\r\n                            {/* Title */}\r\n                            <Typography\r\n                                variant=\"h1\"\r\n                                align=\"center\"\r\n                                id=\"form-dialog-title\"\r\n                                className={classes.title}\r\n                            >\r\n                                {title}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={1}></Grid>\r\n                    </Grid>\r\n\r\n                    <Divider className={classes.divider} />\r\n                    {/* Image container */}\r\n                    <Grid item container xs={12} justify=\"center\">\r\n                        <Grid item>\r\n                            <img\r\n                                src={avatarUrl ? avatarUrl : defaultPostPicture}\r\n                                alt=\"Post\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Box className={classes.imageContainer}></Box>\r\n\r\n                    <Divider className={classes.divider} />\r\n                    {/* Post text body */}\r\n                    <Grid item container xs={12} alignItems=\"center\">\r\n                        <Grid item xs={1}>\r\n                            <Avatar className={classes.avatar} src={userAvatar}></Avatar>\r\n                        </Grid>\r\n                        <Grid item xs={10}>\r\n                            <Typography className={classes.postText}>\r\n                                {postText}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={1}>\r\n                            <IconButton aria-label=\"upvote\" onClick={toggleVote}>\r\n                                {upvoted ? (\r\n                                    <ForwardIcon\r\n                                        color=\"secondary\"\r\n                                        className={classes.upvote}\r\n                                    />\r\n                                ) : (\r\n                                    <ForwardOutlinedIcon\r\n                                        color=\"secondary\"\r\n                                        className={classes.upvote}\r\n                                    />\r\n                                )}\r\n                            </IconButton>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Divider className={classes.divider} />\r\n                    {/* Comments loop container */}\r\n                    <Grid item container xs={12} justify=\"center\">\r\n                        <Grid item xs={1}></Grid>\r\n                        <Grid item xs={9} container direction=\"column\">\r\n                            {comments.map(comment => (\r\n                                <Grid item key={comment._id}>\r\n                                    <Comments comment={comment} />\r\n                                </Grid>\r\n                            ))}\r\n                        </Grid>\r\n                        <Grid item xs={1}></Grid>\r\n                        <Grid\r\n                            item\r\n                            container\r\n                            xs={12}\r\n                            alignItems=\"center\"\r\n                            justify=\"center\"\r\n                            spacing={1}\r\n                        >\r\n                            <Grid item xs={10}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    autoFocus\r\n                                    label=\"Comment on post\"\r\n                                    type=\"text\"\r\n                                    multiline\r\n                                    rows={4}\r\n                                    rowsMax={4}\r\n                                    color=\"secondary\"\r\n                                    fullWidth\r\n                                    className={classes.input}\r\n                                    value={newComment}\r\n                                    onChange={e => setNewComment(e.target.value)}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={2}>\r\n                                <Button\r\n                                    color=\"secondary\"\r\n                                    variant=\"outlined\"\r\n                                    onClick={addComment}\r\n                                    className={classes.button}\r\n                                    fullWidth\r\n                                    // disabled={}\r\n                                >\r\n                                    Add Comment\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n};\r\nexport default PostDialog;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { Button, Grid, Typography, Divider } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport PostCard from './PostCard';\r\nimport axios from 'axios';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddPostDialog from './AddPostDialog';\r\nimport ForumDialog from './ForumDialog';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    headerContainer: {\r\n        height: 150,\r\n    },\r\n    headerText: {\r\n        paddingLeft: '2em',\r\n        [theme.breakpoints.down('xs')]: {\r\n            paddingLeft: 8,\r\n        },\r\n    },\r\n    divider: {\r\n        margin: theme.spacing(1, 0),\r\n        width: '100%',\r\n    },\r\n    cardContainer: {\r\n        maxWidth: '100%',\r\n    },\r\n    button: {\r\n        width: 150,\r\n        marginRight: theme.spacing(3),\r\n        [theme.breakpoints.down('xs')]: {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n    postCard: {\r\n        maxWidth: '100%',\r\n        padding: theme.spacing(0, 10, 0, 10),\r\n        [theme.breakpoints.down('xs')]: {\r\n            padding: theme.spacing(0, 1, 0, 1),\r\n        },\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        marginTop: '75px',\r\n        padding: theme.spacing(3),\r\n    },\r\n    cardTitle: {\r\n        fontWeight: 'bold',\r\n        fontSize: '1.375rem',\r\n        [theme.breakpoints.down('sm')]: {\r\n            fontSize: '1rem',\r\n        },\r\n    },\r\n    imageContainer: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(1, 0),\r\n        maxWidth: 500,\r\n        maxHeight: 500,\r\n    },\r\n    close: {\r\n        height: 2.5,\r\n    },\r\n    upvote: {\r\n        transform: 'rotate(-90deg)',\r\n        height: '2rem',\r\n        width: '2rem',\r\n    },\r\n    input: {\r\n        margin: theme.spacing(2, 0),\r\n    },\r\n    emptyMessage: {\r\n        marginTop: theme.spacing(4),\r\n    },\r\n}));\r\n\r\nconst ForumContent = ({ name, groupId }) => {\r\n    const classes = useStyles();\r\n    const [openPost, setOpenPost] = React.useState(false);\r\n    const [openNewPost, setOpenNewPost] = React.useState(false);\r\n    const [activePostId, setActivePostId] = React.useState('');\r\n\r\n    //  Calling will open new post dialog\r\n    const handleOpenNewPost = () => {\r\n        setOpenNewPost(true);\r\n    };\r\n    // Calling will close new post dialog\r\n    const handleCloseNewPost = newPost => {\r\n        if (newPost._id) {\r\n            setForumPosts([newPost, ...forumPosts]);\r\n        }\r\n        setOpenNewPost(false);\r\n    };\r\n    // Calling will open dialog\r\n    const handleOpenPost = () => {\r\n        setOpenPost(true);\r\n    };\r\n    // Calling will close dialog\r\n    const handleClosePost = () => {\r\n        setOpenPost(false);\r\n    };\r\n    // Updates setActivePost to the corresponding clicked card and opens dialog.\r\n    const updateActivePost = postId => {\r\n        setActivePostId(postId);\r\n        handleOpenPost();\r\n    };\r\n\r\n    const [forumPosts, setForumPosts] = useState([]);\r\n\r\n    const getGroupForum = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(`/forum/${groupId}`);\r\n            setForumPosts(response.data.posts);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }, [groupId]);\r\n\r\n    useEffect(() => {\r\n        getGroupForum(groupId);\r\n    }, [getGroupForum, groupId]);\r\n\r\n    const renderForumPosts = () => {\r\n        if (forumPosts.length) {\r\n            return forumPosts.map(post => (\r\n                <PostCard\r\n                    key={post._id}\r\n                    post={post}\r\n                    updateActivePost={updateActivePost}\r\n                />\r\n            ));\r\n        } else {\r\n            return (\r\n                <Typography variant=\"h4\" className={classes.emptyMessage}>\r\n                    There appears to be no posts. Get the conversation started by clicking\r\n                    add post above!\r\n                </Typography>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Grid container direction=\"column\" alignContent=\"center\" item sm={12}>\r\n            <Grid\r\n                item\r\n                container\r\n                justify=\"space-between\"\r\n                alignItems=\"center\"\r\n                className={classes.headerContainer}\r\n            >\r\n                <Grid item>\r\n                    <Typography variant=\"h1\" className={classes.headerText}>\r\n                        {name}\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                <Grid item container sm={3}>\r\n                    <Button\r\n                        className={classes.button}\r\n                        onClick={handleOpenNewPost}\r\n                        variant=\"text\"\r\n                        color=\"primary\"\r\n                        type=\"button\"\r\n                        startIcon={<AddIcon />}\r\n                    >\r\n                        Add Post\r\n                    </Button>\r\n                    {/* New post dialog */}\r\n                    <Dialog\r\n                        open={openNewPost}\r\n                        onClose={handleCloseNewPost}\r\n                        aria-labelledby=\"form-dialog-title\"\r\n                        className={classes.dialog}\r\n                        maxWidth=\"md\"\r\n                    >\r\n                        <DialogContent>\r\n                            <AddPostDialog handleCloseNewPost={handleCloseNewPost} />\r\n                        </DialogContent>\r\n                    </Dialog>\r\n                </Grid>\r\n            </Grid>\r\n            <Divider className={classes.divider} />\r\n\r\n            <Grid\r\n                item\r\n                container\r\n                sm={8}\r\n                justify=\"flex-start\"\r\n                direction=\"column\"\r\n                className={classes.cardContainer}\r\n            >\r\n                <Grid item className={classes.postCard}>\r\n                    {renderForumPosts()}\r\n                </Grid>\r\n                {/* View Post Dialog */}\r\n                <Dialog\r\n                    open={openPost}\r\n                    onClose={handleClosePost}\r\n                    aria-labelledby=\"form-dialog-title\"\r\n                    className={classes.dialog}\r\n                    maxWidth=\"lg\"\r\n                >\r\n                    <DialogContent>\r\n                        <ForumDialog\r\n                            handleClosePost={handleClosePost}\r\n                            activePostId={activePostId}\r\n                        />\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ForumContent;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Grid, Typography, Badge, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport axios from 'axios';\r\nimport { useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: '100vh',\r\n            backgroundColor: '#FFF',\r\n            paddingTop: theme.spacing(6),\r\n        },\r\n    },\r\n    chat_head: {\r\n        height: 120,\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(4),\r\n        '& p': {\r\n            fontSize: '1.375rem',\r\n        },\r\n    },\r\n    badge: {\r\n        color: theme.palette.common.white,\r\n        paddingLeft: theme.spacing(4),\r\n        '& span': {\r\n            width: 40,\r\n            height: 24,\r\n            fontSize: '0.875rem',\r\n            background: theme.palette.primary.gradient,\r\n        },\r\n    },\r\n    accordion: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    accordion_container: {\r\n        display: 'block',\r\n        width: '85%',\r\n        backgroundColor: '#e6edff',\r\n        margin: theme.spacing(0, 5, 2, 4),\r\n        padding: theme.spacing(2.5),\r\n        borderRadius: 8,\r\n    },\r\n    course_name: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        '& p': {\r\n            fontSize: '1.125rem',\r\n        },\r\n    },\r\n    icons: {\r\n        color: '#2968ff',\r\n        fontSize: '1.375rem',\r\n    },\r\n    group_list: {\r\n        color: '#2574FF',\r\n        cursor: 'pointer',\r\n        marginTop: 16,\r\n        fontSize: '0.9375rem',\r\n    },\r\n}));\r\n\r\nconst ForumSidePanel = ({ onGroupUpdate }) => {\r\n    const classes = useStyles();\r\n    const { profile, dispatch } = useGlobalContext();\r\n\r\n    const [courseList, setCourseList] = useState([]);\r\n    const [courseId, setCourseId] = useState([]);\r\n    const firstUpdate = useRef(true);\r\n\r\n    const getGroups = async () => {\r\n        try {\r\n            const res = await axios.get('/user/groups/');\r\n            const newCourseList = [...res.data].map((cgl, index) => {\r\n                if (index === 0) {\r\n                    setCourseId([cgl._id]);\r\n                    return { ...cgl, expand: true };\r\n                } else {\r\n                    return { ...cgl, expand: false };\r\n                }\r\n            });\r\n            setCourseList(newCourseList);\r\n   \r\n            if (firstUpdate.current) {\r\n                dispatch({\r\n                    type: 'FORUM_ID',\r\n                    payload: res.data[0].groups[0].forum,\r\n                });\r\n                onGroupUpdate(res.data[0].groups[0].name, res.data[0].groups[0]._id);\r\n                firstUpdate.current = false;\r\n                return;\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n    \r\n    useEffect(() => {\r\n        getGroups();\r\n      }, []);\r\n    \r\n\r\n    const showGroup = id => {\r\n        setCourseId([...courseId, id]);\r\n        const editedCourseList = courseList.map(cl => {\r\n            if (cl._id === id && !cl.expand) return { ...cl, expand: true };\r\n            if (cl._id === id && cl.expand) return { ...cl, expand: false };\r\n            else return { ...cl };\r\n        });\r\n      \r\n        setCourseList(editedCourseList);\r\n    };\r\n\r\n    const handleDrawerClose = (name, groupId) => {\r\n        onGroupUpdate(name, groupId);\r\n        dispatch({ type: 'CLOSE_DRAWER' });\r\n    };\r\n\r\n    return (\r\n        <Grid className={classes.container}>\r\n            <Grid item className={classes.chat_head}>\r\n                <Typography>My Courses</Typography>\r\n                <Badge badgeContent={courseList.length} className={classes.badge} />\r\n            </Grid>\r\n            <Grid item className={classes.accordion}>\r\n                {courseList.map(cgl => {\r\n                    let groupList = null;\r\n                    const isIdThere = courseId.some(id => cgl._id === id);\r\n                    if (cgl.expand && isIdThere)\r\n                        groupList = cgl.groups.map(group => {\r\n                            if(group.members.includes(profile.user._id)) {\r\n                                return (\r\n                                    <Typography\r\n                                        key={group._id}\r\n                                        className={classes.group_list}\r\n                                        onClick={() => {\r\n                                            dispatch({\r\n                                                type: 'FORUM_ID',\r\n                                                payload: group.forum,\r\n                                            });\r\n                                            //console.log(group.name)\r\n                                            handleDrawerClose(group.name, group._id);\r\n                                        }}\r\n                                    >\r\n                                        {group.name}\r\n                                    </Typography>\r\n                                );\r\n\r\n                            }\r\n                            \r\n                        });\r\n                    return (\r\n                        <div key={cgl._id} className={classes.accordion_container}>\r\n                            <Grid className={classes.course_name}>\r\n                                <Typography>{cgl.name}</Typography>\r\n                                <Button onClick={() => showGroup(cgl._id)}>\r\n                                    {cgl.expand && isIdThere ? (\r\n                                        <RemoveIcon className={classes.icons} />\r\n                                    ) : (\r\n                                        <AddIcon className={classes.icons} />\r\n                                    )}\r\n                                </Button>\r\n                            </Grid>\r\n                            <div>{groupList}</div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ForumSidePanel;\r\n","import { Grid } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Sidebar from '../../components/Profile/Sidebar';\r\nimport ForumContent from '../../components/Forum/ForumContent';\r\nimport ForumSidePanel from './ForumSidePanel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        height: 'calc(100vh - 100px)',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'auto',\r\n        },\r\n    },\r\n    contentContainer: {\r\n        backgroundColor: theme.palette.common.white,\r\n    },\r\n}));\r\n\r\nconst Forum = () => {\r\n    const classes = useStyles();\r\n    const [selectedGroup, setSelectedGroup] = useState('');\r\n    const [selectedGroupId, setSelectedGroupId] = useState('');\r\n\r\n    const updateSelectedGroup = (group, groupId) => {\r\n        setSelectedGroup(group);\r\n        setSelectedGroupId(groupId);\r\n    }\r\n\r\n    return (\r\n        <Grid container className={classes.container}>\r\n            <Sidebar>\r\n                <ForumSidePanel onGroupUpdate={updateSelectedGroup} />\r\n            </Sidebar>\r\n            <Grid item container sm={12} md={9} className={classes.contentContainer}>\r\n                <ForumContent name={selectedGroup} groupId={selectedGroupId} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Forum;\r\n","\r\nexport const baseStyle = {\r\n    borderWidth: 3,\r\n    borderRadius: 5,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'solid',\r\n    backgroundColor: '#d8d8d8',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n};\r\n  \r\nexport const activeStyle = {\r\n    borderColor: '#2196f3'\r\n};\r\n  \r\nexport const acceptStyle = {\r\n    borderColor: '#00e676'\r\n};\r\n  \r\nexport const rejectStyle = {\r\n    borderColor: '#ff1744'\r\n};\r\n","import React from 'react';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    Card,\r\n    CardContent,\r\n    CardMedia,\r\n    CardActions,\r\n    Button,\r\n} from '@material-ui/core';\r\nimport PeopleAltOutlinedIcon from '@material-ui/icons/PeopleAltOutlined';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport groupPicture from '../../images/study_group.png';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    card: {\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    cardMedia: {\r\n        paddingTop: '60%',\r\n    },\r\n    cardContent: {\r\n        flexGrow: 1,\r\n    },\r\n    button: {\r\n        width: '100%',\r\n    },\r\n}));\r\n\r\n//format group user count\r\nconst formatGroupCount = num => {\r\n    if (num >= 1000000000) {\r\n        return (num / 1000000000).toFixed(1).replace(/\\.0$/, '') + 'G';\r\n    }\r\n    if (num >= 1000000) {\r\n        return (num / 1000000).toFixed(1).replace(/\\.0$/, '') + 'M';\r\n    }\r\n    if (num >= 1000) {\r\n        return (num / 1000).toFixed(1).replace(/\\.0$/, '') + 'K';\r\n    }\r\n    return num;\r\n};\r\n\r\nconst GroupCard = props => {\r\n    const classes = useStyles();\r\n    const [isUpdating, setIsUpdating] = React.useState(false);\r\n\r\n    return (\r\n        <Grid item xs={12} sm={6} md={4}>\r\n            <Card className={classes.card}>\r\n                <CardMedia\r\n                    className={classes.cardMedia}\r\n                    image={props.data.image || groupPicture}\r\n                    title={props.data.name}\r\n                />\r\n                <CardContent className={classes.cardContent}>\r\n                    <Typography gutterBottom variant=\"h6\" style={{ fontWeight: 600 }}>\r\n                        {props.data.name}\r\n                    </Typography>\r\n                    <Grid container direction=\"row\" style={{ paddingTop: '10px' }}>\r\n                        <PeopleAltOutlinedIcon color=\"disabled\" fontSize=\"small\" />\r\n                        <Typography\r\n                            variant=\"body1\"\r\n                            color=\"textSecondary\"\r\n                            style={{ paddingLeft: '5px' }}\r\n                        >\r\n                            {formatGroupCount(props.data.members.length)} members\r\n                        </Typography>\r\n                    </Grid>\r\n                </CardContent>\r\n                <CardActions\r\n                    onClick={async () => {\r\n                        setIsUpdating(true);\r\n                        await props.handleCardPress(props.data._id);\r\n                    }}\r\n                >\r\n                    <Button\r\n                        disabled={isUpdating}\r\n                        className={classes.button}\r\n                        color=\"primary\"\r\n                    >\r\n                        {props.actionText}\r\n                    </Button>\r\n                </CardActions>\r\n            </Card>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default GroupCard;\r\n","import React, { useState, useMemo, useCallback } from 'react';\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    Container,\r\n    Button,\r\n    Modal,\r\n    FormHelperText,\r\n    MenuItem,\r\n    Select,\r\n    TextField,\r\n} from '@material-ui/core';\r\nimport {\r\n    baseStyle,\r\n    activeStyle,\r\n    acceptStyle,\r\n    rejectStyle,\r\n} from '../../components/Group/GroupPicture.styles';\r\nimport { Tooltip, Box } from '@material-ui/core';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport GroupCard from '../../components/Group/GroupCard';\r\nimport defaultImage from '../../images/upload_placeholder.png';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\nimport * as actions from '../../context/actions';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    cardGrid: {\r\n        paddingTop: theme.spacing(8),\r\n        paddingBottom: theme.spacing(8),\r\n    },\r\n    button: {\r\n        marginTop: '60px',\r\n        marginRight: '60px',\r\n        textTransform: 'none',\r\n    },\r\n    paper: {\r\n        position: 'fixed',\r\n        width: 475,\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n        borderRadius: 4,\r\n        outline: 'none',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: `translate(-50%, -50%)`,\r\n    },\r\n    groupImageContainer: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingTop: '10px',\r\n        paddingBottom: '10px',\r\n    },\r\n    large: {\r\n        height: '300px',\r\n        width: '400px',\r\n    },\r\n    uploading: {\r\n        opacity: 0.5,\r\n        height: '300px',\r\n        width: '400px',\r\n    },\r\n}));\r\n\r\nconst Groups = () => {\r\n    const classes = useStyles();\r\n    const { conversationManager } = useConversationContext();\r\n    const { userGroups, userCourse, dispatch } = useGlobalContext();\r\n    const { groups, courseGroups } = userGroups;\r\n    const [suggestedGroups, setSuggestedGroups] = useState([]);\r\n\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [openModal, setOpen] = useState(false);\r\n    const [groupError, setGroupErrors] = useState('');\r\n    const [uploading, setUploading] = useState(false);\r\n    const [groupPicture, setGroupPicture] = useState('');\r\n    const [groupName, setGroupName] = useState('');\r\n    const [groupNameValid, setGroupNameValid] = useState('');\r\n    const [courseId, setCourseId] = useState('');\r\n\r\n    const onDrop = useCallback(async droppedFiles => {\r\n        if (droppedFiles.length) {\r\n            setUploading(true);\r\n\r\n            const form = new FormData();\r\n            form.append('image', droppedFiles[0]);\r\n            const res = await axios\r\n                .post('/upload/single', form)\r\n                .catch(err => console.log(err));\r\n            if (res && res.data) {\r\n                setGroupPicture(res.data.imageUrl);\r\n                setUploading(false);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const { getRootProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\r\n        onDrop,\r\n        maxFiles: 1,\r\n        accept: 'image/*',\r\n    });\r\n\r\n    const style = useMemo(\r\n        () => ({\r\n            ...baseStyle,\r\n            ...(isDragActive ? activeStyle : {}),\r\n            ...(isDragAccept ? acceptStyle : {}),\r\n            ...(isDragReject ? rejectStyle : {}),\r\n        }),\r\n        [isDragActive, isDragReject, isDragAccept]\r\n    );\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n        setGroupPicture('');\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        setGroupPicture('');\r\n        setGroupName('');\r\n        setGroupErrors('');\r\n    };\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n\r\n        if (isFormValid()) {\r\n            const data = {\r\n                groupName: groupName,\r\n                imageUrl: groupPicture,\r\n                courseId: courseId,\r\n            };\r\n\r\n            const response = await axios.post('/user/groups', data);\r\n\r\n            setGroupName('');\r\n            setCourseId('');\r\n            setGroupPicture('');\r\n\r\n            if (response.data) {\r\n                groups.push(response.data.data);\r\n                await actions.fetchUserGroups(groups)(dispatch);\r\n\r\n                conversationManager.updateRooms(groups);\r\n\r\n                enqueueSnackbar('Group Created Successfully.', {\r\n                    variant: 'success',\r\n                    autoHideDuration: '5000',\r\n                });\r\n                setOpen(false);\r\n            } else {\r\n                enqueueSnackbar('Error Creating Group.', {\r\n                    variant: 'Error',\r\n                    autoHideDuration: '5000',\r\n                });\r\n            }\r\n        } else {\r\n            enqueueSnackbar('Error Creating Group.', {\r\n                variant: 'Error',\r\n                autoHideDuration: '5000',\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleOnChange = e => {\r\n        checkGroupExists(e.target.value.toLowerCase());\r\n    };\r\n\r\n    const isFormValid = () => {\r\n        return groupNameValid && courseId ? true : false;\r\n    };\r\n\r\n    const checkGroupExists = name => {\r\n        try {\r\n            const allGroupNames = [...groups, ...courseGroups].map(group => {\r\n                return group.name.toLowerCase();\r\n            });\r\n\r\n            setGroupName(name);\r\n\r\n            if (allGroupNames.includes(name) !== true) {\r\n                setGroupErrors('');\r\n                setGroupNameValid(true);\r\n                return false;\r\n            } else {\r\n                setGroupErrors('A group with this name already exists!');\r\n                setGroupNameValid(false);\r\n                return true;\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const body = (\r\n        <div className={classes.paper}>\r\n            <h2>Create a new group</h2>\r\n            <p>Add group name and select your course.</p>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n                <FormHelperText>\r\n                    {groupError ? (\r\n                        <span style={{ color: '#fc2525' }}>{groupError}</span>\r\n                    ) : (\r\n                        'Please enter a group name'\r\n                    )}\r\n                </FormHelperText>\r\n                <TextField\r\n                    name=\"group_name\"\r\n                    fullWidth={true}\r\n                    variant=\"outlined\"\r\n                    onChange={handleOnChange}\r\n                ></TextField>\r\n\r\n                <Box className={classes.groupImageContainer}>\r\n                    <FormHelperText>Drag and Drop Group Picture </FormHelperText>\r\n                    <Tooltip title=\"Drag and drop group picture\" arrow placement=\"right\">\r\n                        <Box {...getRootProps({ style })}>\r\n                            <img\r\n                                alt=\"Profile Pic\"\r\n                                src={groupPicture ? groupPicture : defaultImage}\r\n                                className={uploading ? classes.uploading : classes.large}\r\n                            />\r\n                        </Box>\r\n                    </Tooltip>\r\n                </Box>\r\n\r\n                <FormHelperText>Course</FormHelperText>\r\n                <Select name=\"course\" variant=\"outlined\" fullWidth={true} defaultValue=\"\">\r\n                    {userCourse.userCourses.map(course => {\r\n                        return (\r\n                            <MenuItem\r\n                                key={course._id}\r\n                                value={course._id}\r\n                                onClick={() => setCourseId(course._id)}\r\n                            >\r\n                                {course.name}\r\n                            </MenuItem>\r\n                        );\r\n                    })}\r\n                </Select>\r\n                <Button\r\n                    type=\"submit\"\r\n                    className={classes.button}\r\n                    color=\"primary\"\r\n                    style={{ marginTop: '20px' }}\r\n                >\r\n                    Create New Group\r\n                </Button>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    //filter out courses which the user has joined as suggestions\r\n    React.useEffect(() => {\r\n        const suggested = courseGroups.filter(group => {\r\n            return !groups.some(joinedGroup => {\r\n                return joinedGroup._id === group._id;\r\n            });\r\n        });\r\n        setSuggestedGroups(suggested);\r\n    }, [courseGroups, userGroups, groups]);\r\n\r\n    const handleJoinGroup = async id => {\r\n        try {\r\n            const res = await axios.post(`/user/groups/${id}`, { groupId: id });\r\n            const currGroups = [...groups, res.data];\r\n            const newUserGroups = { courseGroups: [...courseGroups], groups: currGroups };\r\n            dispatch({ type: 'updateUserGroups', payload: newUserGroups });\r\n            conversationManager.updateRooms(currGroups);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const handleLeaveGroup = async id => {\r\n        try {\r\n            const res = await axios.delete(`/user/groups/${id}`, { groupId: id });\r\n            const [currentGroups, updatedCourseGroups] = [\r\n                [...groups],\r\n                [...userGroups.courseGroups],\r\n            ];\r\n\r\n            const myGroups = currentGroups.filter(group => group._id !== res.data._id);\r\n\r\n            const index = updatedCourseGroups.findIndex(\r\n                group => group._id === res.data._id\r\n            );\r\n\r\n            updatedCourseGroups[index] = res.data;\r\n\r\n            const newUserGroups = { courseGroups: updatedCourseGroups, groups: myGroups };\r\n\r\n            dispatch({ type: 'updateUserGroups', payload: newUserGroups });\r\n            conversationManager.updateRooms(myGroups);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Grid>\r\n            <Grid container>\r\n                <Grid item direction=\"row\" container md={4}></Grid>\r\n                <Grid item justify=\"center\" direction=\"row\" container md={4}></Grid>\r\n                <Grid item justify=\"flex-end\" direction=\"row\" container md={4}>\r\n                    <Button\r\n                        className={classes.button}\r\n                        color=\"primary\"\r\n                        onClick={handleOpen}\r\n                    >\r\n                        Create New Group\r\n                    </Button>\r\n                    <Modal open={openModal} onClose={handleClose}>\r\n                        {body}\r\n                    </Modal>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {groups.length > 0 && (\r\n                <>\r\n                    <Grid container>\r\n                        <Grid item justify=\"center\" direction=\"row\" container sm={12}>\r\n                            <Typography\r\n                                variant=\"h1\"\r\n                                color=\"textPrimary\"\r\n                                style={{ paddingTop: '60px' }}\r\n                            >\r\n                                Your Groups\r\n                            </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Container className={classes.cardGrid} maxWidth=\"md\">\r\n                        <Grid container spacing={4}>\r\n                            {groups.map(card => (\r\n                                <GroupCard\r\n                                    key={card._id}\r\n                                    actionText=\"Leave Group\"\r\n                                    data={card}\r\n                                    handleCardPress={handleLeaveGroup}\r\n                                />\r\n                            ))}\r\n                        </Grid>\r\n                    </Container>\r\n                </>\r\n            )}\r\n            {suggestedGroups.length && (\r\n                <>\r\n                    <Grid container>\r\n                        <Grid item justify=\"center\" direction=\"row\" container sm={12}>\r\n                            <Typography\r\n                                variant=\"h1\"\r\n                                color=\"textPrimary\"\r\n                                style={{ paddingTop: '60px' }}\r\n                            >\r\n                                Suggested For You.\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item justify=\"center\" direction=\"row\" container sm={12}>\r\n                            <Typography\r\n                                variant=\"h6\"\r\n                                color=\"textSecondary\"\r\n                                style={{ paddingTop: '20px' }}\r\n                            >\r\n                                Groups you might be interested in!\r\n                            </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Container className={classes.cardGrid} maxWidth=\"md\">\r\n                        <Grid container spacing={4}>\r\n                            {suggestedGroups.map(card => (\r\n                                <GroupCard\r\n                                    key={card._id}\r\n                                    actionText=\"Join Group\"\r\n                                    data={card}\r\n                                    handleCardPress={handleJoinGroup}\r\n                                />\r\n                            ))}\r\n                        </Grid>\r\n                    </Container>\r\n                </>\r\n            )}\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Groups;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport * as actions from '../../context/actions';\r\nimport { useConversationContext, useGlobalContext } from '../../context/studyappContext';\r\n\r\nconst Layout = ({ children }) => {\r\n    const { dispatch, isLoading } = useGlobalContext();\r\n    const { conversationManager } = useConversationContext();\r\n    \r\n    useEffect(() => {\r\n        if (isLoading)\r\n            actions.fetchProfile()(dispatch).then((userGroups) => {\r\n                const groupNames = userGroups.map(group => group._id);\r\n                conversationManager.startSocket(groupNames);\r\n                actions.fetchUserGroups(userGroups)(dispatch);\r\n            });\r\n    }, [isLoading, dispatch, conversationManager]);\r\n\r\n    //cleanup socket\r\n    useEffect(() => {\r\n        return () => conversationManager.closeSocket();\r\n    }, [conversationManager])\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { MuiThemeProvider, CssBaseline } from '@material-ui/core';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { SnackbarProvider } from 'notistack';\r\n\r\nimport { theme } from './themes/theme';\r\nimport Profile from './pages/Profile';\r\nimport Signup from './pages/auth/Sign-up';\r\nimport Login from './pages/auth/Login';\r\nimport ProtectedRoute from './pages/routing/ProtectedRoute';\r\nimport NotFound from './pages/NotFound';\r\nimport Chat from './pages/contentPages/Chat';\r\nimport Forum from './pages/contentPages/Forum';\r\nimport Groups from './pages/contentPages/Groups';\r\n\r\nimport './App.css';\r\nimport Layout from './pages/layout/Layout';\r\n\r\nfunction App() {\r\n    return (\r\n        <MuiThemeProvider theme={theme}>\r\n            <SnackbarProvider>\r\n                <CssBaseline>\r\n                    <BrowserRouter>\r\n                        <Switch>\r\n                            {/* Landing page temporarily redirects to sign-up. */}\r\n                            <Route\r\n                                exact\r\n                                path=\"/\"\r\n                                render={() => <Redirect to=\"/sign-up\" />}\r\n                            />\r\n                            <Route exact path=\"/sign-up\" component={Signup} />\r\n                            <Route exact path=\"/login\" component={Login} />\r\n                            <Layout>\r\n                                <Switch>\r\n                                    <ProtectedRoute exact path=\"/profile\" component={Profile} />\r\n                                    <ProtectedRoute\r\n                                        path=\"/profile/:profileContent\"\r\n                                        component={Profile}\r\n                                    />\r\n                                    <ProtectedRoute path=\"/forum\" component={Forum} />\r\n                                    <ProtectedRoute path=\"/groups\" component={Groups} />\r\n                                    <ProtectedRoute path=\"/chat\" component={Chat} />\r\n                                    <Route path=\"/error\" component={NotFound} />\r\n                                    <Redirect to=\"/error\" />\r\n                                </Switch>\r\n                            </Layout>\r\n                        </Switch>\r\n                    </BrowserRouter>\r\n                </CssBaseline>\r\n            </SnackbarProvider>\r\n        </MuiThemeProvider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { AppProvider } from './context/studyappContext';\r\n\r\nReactDOM.render(\r\n    <AppProvider>\r\n        <App />\r\n    </AppProvider>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}